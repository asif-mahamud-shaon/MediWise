{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/doctor/profile/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Loading from '@/components/Loading';\nimport api from '@/lib/api';\nimport { FiCalendar, FiMessageCircle, FiPhone, FiUser, FiLogOut, FiX } from 'react-icons/fi';\n\nexport default function DoctorProfileEditPage() {\n  const { user, loading: authLoading, logout } = useAuth();\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [departments, setDepartments] = useState<any[]>([]);\n\n  const weekDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n  const [formData, setFormData] = useState({\n    departmentId: '',\n    specialization: '',\n    experience: '',\n    qualification: '',\n    bio: '',\n    consultationFee: '',\n    availableFrom: '',\n    availableTo: '',\n  });\n  const [availableDays, setAvailableDays] = useState<string[]>([]);\n  const [previousJobs, setPreviousJobs] = useState<Array<{ position: string; hospital: string; years: string }>>([]);\n  const [education, setEducation] = useState<Array<{ degree: string; institution: string; year: string }>>([]);\n  const [profileImage, setProfileImage] = useState<File | null>(null);\n  const [profileImagePreview, setProfileImagePreview] = useState<string | null>(null);\n  const [doctorProfile, setDoctorProfile] = useState<any>(null);\n\n  useEffect(() => {\n    if (!authLoading && (!user || user.role !== 'doctor')) {\n      router.push('/dashboard');\n    }\n  }, [user, authLoading, router]);\n\n  useEffect(() => {\n    if (user && user.role === 'doctor') {\n      fetchDepartments();\n      fetchDoctorProfile();\n    }\n  }, [user]);\n\n  const fetchDepartments = async () => {\n    try {\n      const response = await api.get('/departments');\n      setDepartments(response.data.departments);\n    } catch (error) {\n      console.error('Error fetching departments:', error);\n    }\n  };\n\n  const fetchDoctorProfile = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/doctors/profile/me');\n      const doctor = response.data.doctor;\n      \n      if (doctor) {\n        setFormData({\n          departmentId: doctor.departmentId || '',\n          specialization: doctor.specialization || '',\n          experience: doctor.experience?.toString() || '',\n          qualification: doctor.qualification || '',\n          bio: doctor.bio || '',\n          consultationFee: doctor.consultationFee?.toString() || '',\n          availableFrom: doctor.availableFrom || '',\n          availableTo: doctor.availableTo || '',\n        });\n\n        // Ensure availableDays is an array\n        let days = doctor.availableDays;\n        if (typeof days === 'string') {\n          try {\n            days = JSON.parse(days);\n          } catch (e) {\n            days = [];\n          }\n        }\n        setAvailableDays(Array.isArray(days) ? days : []);\n\n        // Ensure previousJobs is an array\n        let jobs = doctor.previousJobs;\n        if (typeof jobs === 'string') {\n          try {\n            jobs = JSON.parse(jobs);\n          } catch (e) {\n            jobs = [];\n          }\n        }\n        setPreviousJobs(Array.isArray(jobs) ? jobs : []);\n\n        // Ensure education is an array\n        let edu = doctor.education;\n        if (typeof edu === 'string') {\n          try {\n            edu = JSON.parse(edu);\n          } catch (e) {\n            edu = [];\n          }\n        }\n        setEducation(Array.isArray(edu) ? edu : []);\n        \n        // Set profile image preview if exists\n        if (doctor.profileImage) {\n          setProfileImagePreview(`data:${doctor.profileImageMimeType || 'image/jpeg'};base64,${doctor.profileImage}`);\n        }\n      }\n      \n      setDoctorProfile(doctor || null);\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      setDoctorProfile(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const toggleDay = (day: string) => {\n    if (availableDays.includes(day)) {\n      setAvailableDays(availableDays.filter((d) => d !== day));\n    } else {\n      setAvailableDays([...availableDays, day]);\n    }\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\n      if (!allowedTypes.includes(file.type)) {\n        setError('Only JPEG, JPG, PNG, and GIF images are allowed.');\n        return;\n      }\n      if (file.size > 2 * 1024 * 1024) {\n        setError('Image size cannot exceed 2MB.');\n        return;\n      }\n      setProfileImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setProfileImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n      setError('');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (availableDays.length === 0) {\n      setError('Please select at least one available day');\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      const doctorId = (await api.get('/doctors/profile/me')).data.doctor.id;\n      \n      const formDataToSend = new FormData();\n      formDataToSend.append('departmentId', formData.departmentId);\n      formDataToSend.append('specialization', formData.specialization);\n      formDataToSend.append('experience', formData.experience);\n      formDataToSend.append('qualification', formData.qualification);\n      formDataToSend.append('bio', formData.bio);\n      formDataToSend.append('consultationFee', formData.consultationFee);\n      formDataToSend.append('availableFrom', formData.availableFrom);\n      formDataToSend.append('availableTo', formData.availableTo);\n      formDataToSend.append('availableDays', JSON.stringify(availableDays));\n      formDataToSend.append('previousJobs', JSON.stringify(previousJobs));\n      formDataToSend.append('education', JSON.stringify(education));\n      \n      if (profileImage) {\n        formDataToSend.append('profileImage', profileImage);\n      } else if (!profileImage && !profileImagePreview && doctorProfile?.profileImage) {\n        // If image was removed (no new image and no preview but existing image)\n        formDataToSend.append('removeProfileImage', 'true');\n      }\n\n      await api.put(`/doctors/${doctorId}`, formDataToSend, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      setSuccess('Profile updated successfully!');\n      setTimeout(() => {\n        router.push('/appointments');\n      }, 1500);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Failed to update profile');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'doctor') {\n    return null;\n  }\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\n      <DoctorSidebar user={user} logout={logout} />\n      <main className=\"ml-64 flex-1 p-8 transition-all duration-300\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-6 uppercase tracking-tight\">Edit Profile</h1>\n\n          {error && (\n            <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\n              {error}\n            </div>\n          )}\n\n          {success && (\n            <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700\">\n              {success}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-md p-8 space-y-6\">\n            {/* Profile Image Upload */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Profile Image\n              </label>\n              <div className=\"flex items-center gap-6\">\n                <div className=\"relative\">\n                  {profileImagePreview ? (\n                    <img\n                      src={profileImagePreview}\n                      alt=\"Profile Preview\"\n                      className=\"w-24 h-24 rounded-full object-cover border-2 border-gray-200\"\n                    />\n                  ) : doctorProfile?.profileImage ? (\n                    <img\n                      src={`data:${doctorProfile.profileImageMimeType || 'image/jpeg'};base64,${doctorProfile.profileImage}`}\n                      alt=\"Profile\"\n                      className=\"w-24 h-24 rounded-full object-cover border-2 border-gray-200\"\n                    />\n                  ) : (\n                    <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold\">\n                      {user?.name?.split(' ').map((n: string) => n[0]).join('').toUpperCase().slice(0, 2) || 'D'}\n                    </div>\n                  )}\n                  {(profileImagePreview || doctorProfile?.profileImage) && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setProfileImage(null);\n                        setProfileImagePreview(null);\n                      }}\n                      className=\"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-lg\"\n                      title=\"Remove Image\"\n                    >\n                      <FiX className=\"text-xs\" />\n                    </button>\n                  )}\n                </div>\n                <div>\n                  <label className=\"cursor-pointer inline-block px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors\">\n                    {profileImagePreview || doctorProfile?.profileImage ? 'Change Image' : 'Upload Image'}\n                    <input\n                      type=\"file\"\n                      accept=\"image/jpeg,image/jpg,image/png,image/gif\"\n                      onChange={handleImageChange}\n                      className=\"hidden\"\n                    />\n                  </label>\n                  <p className=\"text-xs text-gray-500 mt-2\">Max 2MB (JPEG, PNG, GIF)</p>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Department\n              </label>\n              <select\n                name=\"departmentId\"\n                value={formData.departmentId}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              >\n                <option value=\"\">Select Department</option>\n                {departments.map((dept) => (\n                  <option key={dept.id} value={dept.id}>\n                    {dept.icon} {dept.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Specialization\n              </label>\n              <input\n                type=\"text\"\n                name=\"specialization\"\n                value={formData.specialization}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., Cardiologist, Pediatrician\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Years of Experience\n              </label>\n              <input\n                type=\"number\"\n                name=\"experience\"\n                value={formData.experience}\n                onChange={handleChange}\n                min=\"0\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Available Days <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {weekDays.map((day) => (\n                  <label\n                    key={day}\n                    className=\"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={availableDays.includes(day)}\n                      onChange={() => toggleDay(day)}\n                      className=\"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-700\">{day}</span>\n                  </label>\n                ))}\n              </div>\n              {availableDays.length === 0 && (\n                <p className=\"text-xs text-red-500 mt-1\">Please select at least one day</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Available From\n                </label>\n                <input\n                  type=\"time\"\n                  name=\"availableFrom\"\n                  value={formData.availableFrom}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Available To\n                </label>\n                <input\n                  type=\"time\"\n                  name=\"availableTo\"\n                  value={formData.availableTo}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Consultation Fee (BDT)\n              </label>\n              <input\n                type=\"number\"\n                name=\"consultationFee\"\n                value={formData.consultationFee}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Qualifications\n              </label>\n              <textarea\n                name=\"qualification\"\n                value={formData.qualification}\n                onChange={handleChange}\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., MBBS, MD, FCPS\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Bio\n              </label>\n              <textarea\n                name=\"bio\"\n                value={formData.bio}\n                onChange={handleChange}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Tell us about yourself...\"\n              />\n            </div>\n\n            <div className=\"flex gap-4 pt-4\">\n              <button\n                type=\"button\"\n                onClick={() => router.back()}\n                className=\"flex-1 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={submitting || availableDays.length === 0}\n                className=\"flex-1 px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {submitting ? 'Updating...' : 'Update Profile'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Loading from '@/components/Loading';\nimport api from '@/lib/api';\nimport { FiCalendar, FiMessageCircle, FiPhone, FiUser, FiLogOut, FiX } from 'react-icons/fi';\n\nexport default function DoctorProfileEditPage() {\n  const { user, loading: authLoading, logout } = useAuth();\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [departments, setDepartments] = useState<any[]>([]);\n\n  const weekDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n  const [formData, setFormData] = useState({\n    departmentId: '',\n    specialization: '',\n    experience: '',\n    qualification: '',\n    bio: '',\n    consultationFee: '',\n    availableFrom: '',\n    availableTo: '',\n  });\n  const [availableDays, setAvailableDays] = useState<string[]>([]);\n  const [previousJobs, setPreviousJobs] = useState<Array<{ position: string; hospital: string; years: string }>>([]);\n  const [education, setEducation] = useState<Array<{ degree: string; institution: string; year: string }>>([]);\n  const [profileImage, setProfileImage] = useState<File | null>(null);\n  const [profileImagePreview, setProfileImagePreview] = useState<string | null>(null);\n  const [doctorProfile, setDoctorProfile] = useState<any>(null);\n\n  useEffect(() => {\n    if (!authLoading && (!user || user.role !== 'doctor')) {\n      router.push('/dashboard');\n    }\n  }, [user, authLoading, router]);\n\n  useEffect(() => {\n    if (user && user.role === 'doctor') {\n      fetchDepartments();\n      fetchDoctorProfile();\n    }\n  }, [user]);\n\n  const fetchDepartments = async () => {\n    try {\n      const response = await api.get('/departments');\n      setDepartments(response.data.departments);\n    } catch (error) {\n      console.error('Error fetching departments:', error);\n    }\n  };\n\n  const fetchDoctorProfile = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/doctors/profile/me');\n      const doctor = response.data.doctor;\n      \n      if (doctor) {\n        setFormData({\n          departmentId: doctor.departmentId || '',\n          specialization: doctor.specialization || '',\n          experience: doctor.experience?.toString() || '',\n          qualification: doctor.qualification || '',\n          bio: doctor.bio || '',\n          consultationFee: doctor.consultationFee?.toString() || '',\n          availableFrom: doctor.availableFrom || '',\n          availableTo: doctor.availableTo || '',\n        });\n\n        // Ensure availableDays is an array\n        let days = doctor.availableDays;\n        if (typeof days === 'string') {\n          try {\n            days = JSON.parse(days);\n          } catch (e) {\n            days = [];\n          }\n        }\n        setAvailableDays(Array.isArray(days) ? days : []);\n\n        // Ensure previousJobs is an array\n        let jobs = doctor.previousJobs;\n        if (typeof jobs === 'string') {\n          try {\n            jobs = JSON.parse(jobs);\n          } catch (e) {\n            jobs = [];\n          }\n        }\n        setPreviousJobs(Array.isArray(jobs) ? jobs : []);\n\n        // Ensure education is an array\n        let edu = doctor.education;\n        if (typeof edu === 'string') {\n          try {\n            edu = JSON.parse(edu);\n          } catch (e) {\n            edu = [];\n          }\n        }\n        setEducation(Array.isArray(edu) ? edu : []);\n        \n        // Set profile image preview if exists\n        if (doctor.profileImage) {\n          setProfileImagePreview(`data:${doctor.profileImageMimeType || 'image/jpeg'};base64,${doctor.profileImage}`);\n        }\n      }\n      \n      setDoctorProfile(doctor || null);\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      setDoctorProfile(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const toggleDay = (day: string) => {\n    if (availableDays.includes(day)) {\n      setAvailableDays(availableDays.filter((d) => d !== day));\n    } else {\n      setAvailableDays([...availableDays, day]);\n    }\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\n      if (!allowedTypes.includes(file.type)) {\n        setError('Only JPEG, JPG, PNG, and GIF images are allowed.');\n        return;\n      }\n      if (file.size > 2 * 1024 * 1024) {\n        setError('Image size cannot exceed 2MB.');\n        return;\n      }\n      setProfileImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setProfileImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n      setError('');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (availableDays.length === 0) {\n      setError('Please select at least one available day');\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      const doctorId = (await api.get('/doctors/profile/me')).data.doctor.id;\n      \n      const formDataToSend = new FormData();\n      formDataToSend.append('departmentId', formData.departmentId);\n      formDataToSend.append('specialization', formData.specialization);\n      formDataToSend.append('experience', formData.experience);\n      formDataToSend.append('qualification', formData.qualification);\n      formDataToSend.append('bio', formData.bio);\n      formDataToSend.append('consultationFee', formData.consultationFee);\n      formDataToSend.append('availableFrom', formData.availableFrom);\n      formDataToSend.append('availableTo', formData.availableTo);\n      formDataToSend.append('availableDays', JSON.stringify(availableDays));\n      formDataToSend.append('previousJobs', JSON.stringify(previousJobs));\n      formDataToSend.append('education', JSON.stringify(education));\n      \n      if (profileImage) {\n        formDataToSend.append('profileImage', profileImage);\n      } else if (!profileImage && !profileImagePreview && doctorProfile?.profileImage) {\n        // If image was removed (no new image and no preview but existing image)\n        formDataToSend.append('removeProfileImage', 'true');\n      }\n\n      await api.put(`/doctors/${doctorId}`, formDataToSend, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      setSuccess('Profile updated successfully!');\n      setTimeout(() => {\n        router.push('/appointments');\n      }, 1500);\n    } catch (err: any) {\n      setError(err.response?.data?.message || 'Failed to update profile');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'doctor') {\n    return null;\n  }\n\n  const getInitials = (name: string) => {\n    return name\n      .split(' ')\n      .map((n) => n[0])\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\n      <DoctorSidebar user={user} logout={logout} />\n      <main className=\"ml-64 flex-1 p-8 transition-all duration-300\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-6 uppercase tracking-tight\">Edit Profile</h1>\n\n          {error && (\n            <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\n              {error}\n            </div>\n          )}\n\n          {success && (\n            <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700\">\n              {success}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-md p-8 space-y-6\">\n            {/* Profile Image Upload */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Profile Image\n              </label>\n              <div className=\"flex items-center gap-6\">\n                <div className=\"relative\">\n                  {profileImagePreview ? (\n                    <img\n                      src={profileImagePreview}\n                      alt=\"Profile Preview\"\n                      className=\"w-24 h-24 rounded-full object-cover border-2 border-gray-200\"\n                    />\n                  ) : doctorProfile?.profileImage ? (\n                    <img\n                      src={`data:${doctorProfile.profileImageMimeType || 'image/jpeg'};base64,${doctorProfile.profileImage}`}\n                      alt=\"Profile\"\n                      className=\"w-24 h-24 rounded-full object-cover border-2 border-gray-200\"\n                    />\n                  ) : (\n                    <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold\">\n                      {user?.name?.split(' ').map((n: string) => n[0]).join('').toUpperCase().slice(0, 2) || 'D'}\n                    </div>\n                  )}\n                  {(profileImagePreview || doctorProfile?.profileImage) && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setProfileImage(null);\n                        setProfileImagePreview(null);\n                      }}\n                      className=\"absolute -top-2 -right-2 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 transition-colors shadow-lg\"\n                      title=\"Remove Image\"\n                    >\n                      <FiX className=\"text-xs\" />\n                    </button>\n                  )}\n                </div>\n                <div>\n                  <label className=\"cursor-pointer inline-block px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors\">\n                    {profileImagePreview || doctorProfile?.profileImage ? 'Change Image' : 'Upload Image'}\n                    <input\n                      type=\"file\"\n                      accept=\"image/jpeg,image/jpg,image/png,image/gif\"\n                      onChange={handleImageChange}\n                      className=\"hidden\"\n                    />\n                  </label>\n                  <p className=\"text-xs text-gray-500 mt-2\">Max 2MB (JPEG, PNG, GIF)</p>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Department\n              </label>\n              <select\n                name=\"departmentId\"\n                value={formData.departmentId}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              >\n                <option value=\"\">Select Department</option>\n                {departments.map((dept) => (\n                  <option key={dept.id} value={dept.id}>\n                    {dept.icon} {dept.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Specialization\n              </label>\n              <input\n                type=\"text\"\n                name=\"specialization\"\n                value={formData.specialization}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., Cardiologist, Pediatrician\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Years of Experience\n              </label>\n              <input\n                type=\"number\"\n                name=\"experience\"\n                value={formData.experience}\n                onChange={handleChange}\n                min=\"0\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Available Days <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                {weekDays.map((day) => (\n                  <label\n                    key={day}\n                    className=\"flex items-center space-x-2 p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={availableDays.includes(day)}\n                      onChange={() => toggleDay(day)}\n                      className=\"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-700\">{day}</span>\n                  </label>\n                ))}\n              </div>\n              {availableDays.length === 0 && (\n                <p className=\"text-xs text-red-500 mt-1\">Please select at least one day</p>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Available From\n                </label>\n                <input\n                  type=\"time\"\n                  name=\"availableFrom\"\n                  value={formData.availableFrom}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Available To\n                </label>\n                <input\n                  type=\"time\"\n                  name=\"availableTo\"\n                  value={formData.availableTo}\n                  onChange={handleChange}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Consultation Fee (BDT)\n              </label>\n              <input\n                type=\"number\"\n                name=\"consultationFee\"\n                value={formData.consultationFee}\n                onChange={handleChange}\n                min=\"0\"\n                step=\"0.01\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Qualifications\n              </label>\n              <textarea\n                name=\"qualification\"\n                value={formData.qualification}\n                onChange={handleChange}\n                rows={3}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"e.g., MBBS, MD, FCPS\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Bio\n              </label>\n              <textarea\n                name=\"bio\"\n                value={formData.bio}\n                onChange={handleChange}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                placeholder=\"Tell us about yourself...\"\n              />\n            </div>\n\n            <div className=\"flex gap-4 pt-4\">\n              <button\n                type=\"button\"\n                onClick={() => router.back()}\n                className=\"flex-1 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={submitting || availableDays.length === 0}\n                className=\"flex-1 px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {submitting ? 'Updating...' : 'Update Profile'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AAsdA;;;AA7dA;;;;;;;AAUe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,MAAM,EAAE,GAAG,IAAA,oLAAO;IACtD,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wNAAQ,EAAQ,EAAE;IAExD,MAAM,WAAW;QAAC;QAAU;QAAU;QAAW;QAAa;QAAY;QAAU;KAAW;IAE/F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wNAAQ,EAAC;QACvC,cAAc;QACd,gBAAgB;QAChB,YAAY;QACZ,eAAe;QACf,KAAK;QACL,iBAAiB;QACjB,eAAe;QACf,aAAa;IACf;IACA,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAW,EAAE;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wNAAQ,EAA+D,EAAE;IACjH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wNAAQ,EAA+D,EAAE;IAC3G,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wNAAQ,EAAc;IAC9D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,wNAAQ,EAAgB;IAC9E,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAM;IAExD,IAAA,yNAAS;2CAAC;YACR,IAAI,CAAC,eAAe,CAAC,CAAC,QAAQ,KAAK,IAAI,KAAK,QAAQ,GAAG;gBACrD,OAAO,IAAI,CAAC;YACd;QACF;0CAAG;QAAC;QAAM;QAAa;KAAO;IAE9B,IAAA,yNAAS;2CAAC;YACR,IAAI,QAAQ,KAAK,IAAI,KAAK,UAAU;gBAClC;gBACA;YACF;QACF;0CAAG;QAAC;KAAK;IAET,MAAM,mBAAmB;QACvB,IAAI;YACF,MAAM,WAAW,MAAM,uKAAG,CAAC,GAAG,CAAC;YAC/B,eAAe,SAAS,IAAI,CAAC,WAAW;QAC1C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,qBAAqB;QACzB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,uKAAG,CAAC,GAAG,CAAC;YAC/B,MAAM,SAAS,SAAS,IAAI,CAAC,MAAM;YAEnC,IAAI,QAAQ;gBACV,YAAY;oBACV,cAAc,OAAO,YAAY,IAAI;oBACrC,gBAAgB,OAAO,cAAc,IAAI;oBACzC,YAAY,OAAO,UAAU,EAAE,cAAc;oBAC7C,eAAe,OAAO,aAAa,IAAI;oBACvC,KAAK,OAAO,GAAG,IAAI;oBACnB,iBAAiB,OAAO,eAAe,EAAE,cAAc;oBACvD,eAAe,OAAO,aAAa,IAAI;oBACvC,aAAa,OAAO,WAAW,IAAI;gBACrC;gBAEA,mCAAmC;gBACnC,IAAI,OAAO,OAAO,aAAa;gBAC/B,IAAI,OAAO,SAAS,UAAU;oBAC5B,IAAI;wBACF,OAAO,KAAK,KAAK,CAAC;oBACpB,EAAE,OAAO,GAAG;wBACV,OAAO,EAAE;oBACX;gBACF;gBACA,iBAAiB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;gBAEhD,kCAAkC;gBAClC,IAAI,OAAO,OAAO,YAAY;gBAC9B,IAAI,OAAO,SAAS,UAAU;oBAC5B,IAAI;wBACF,OAAO,KAAK,KAAK,CAAC;oBACpB,EAAE,OAAO,GAAG;wBACV,OAAO,EAAE;oBACX;gBACF;gBACA,gBAAgB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;gBAE/C,+BAA+B;gBAC/B,IAAI,MAAM,OAAO,SAAS;gBAC1B,IAAI,OAAO,QAAQ,UAAU;oBAC3B,IAAI;wBACF,MAAM,KAAK,KAAK,CAAC;oBACnB,EAAE,OAAO,GAAG;wBACV,MAAM,EAAE;oBACV;gBACF;gBACA,aAAa,MAAM,OAAO,CAAC,OAAO,MAAM,EAAE;gBAE1C,sCAAsC;gBACtC,IAAI,OAAO,YAAY,EAAE;oBACvB,uBAAuB,CAAC,KAAK,EAAE,OAAO,oBAAoB,IAAI,aAAa,QAAQ,EAAE,OAAO,YAAY,EAAE;gBAC5G;YACF;YAEA,iBAAiB,UAAU;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,iBAAiB;QACnB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,IAAI,cAAc,QAAQ,CAAC,MAAM;YAC/B,iBAAiB,cAAc,MAAM,CAAC,CAAC,IAAM,MAAM;QACrD,OAAO;YACL,iBAAiB;mBAAI;gBAAe;aAAI;QAC1C;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACvC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAC9B,MAAM,eAAe;gBAAC;gBAAc;gBAAa;gBAAa;aAAY;YAC1E,IAAI,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACrC,SAAS;gBACT;YACF;YACA,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;gBAC/B,SAAS;gBACT;YACF;YACA,gBAAgB;YAChB,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG;gBACjB,uBAAuB,OAAO,MAAM;YACtC;YACA,OAAO,aAAa,CAAC;YACrB,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,SAAS;YACT;QACF;QAEA,cAAc;QAEd,IAAI;YACF,MAAM,WAAW,CAAC,MAAM,uKAAG,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;YAEtE,MAAM,iBAAiB,IAAI;YAC3B,eAAe,MAAM,CAAC,gBAAgB,SAAS,YAAY;YAC3D,eAAe,MAAM,CAAC,kBAAkB,SAAS,cAAc;YAC/D,eAAe,MAAM,CAAC,cAAc,SAAS,UAAU;YACvD,eAAe,MAAM,CAAC,iBAAiB,SAAS,aAAa;YAC7D,eAAe,MAAM,CAAC,OAAO,SAAS,GAAG;YACzC,eAAe,MAAM,CAAC,mBAAmB,SAAS,eAAe;YACjE,eAAe,MAAM,CAAC,iBAAiB,SAAS,aAAa;YAC7D,eAAe,MAAM,CAAC,eAAe,SAAS,WAAW;YACzD,eAAe,MAAM,CAAC,iBAAiB,KAAK,SAAS,CAAC;YACtD,eAAe,MAAM,CAAC,gBAAgB,KAAK,SAAS,CAAC;YACrD,eAAe,MAAM,CAAC,aAAa,KAAK,SAAS,CAAC;YAElD,IAAI,cAAc;gBAChB,eAAe,MAAM,CAAC,gBAAgB;YACxC,OAAO,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,eAAe,cAAc;gBAC/E,wEAAwE;gBACxE,eAAe,MAAM,CAAC,sBAAsB;YAC9C;YAEA,MAAM,uKAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,gBAAgB;gBACpD,SAAS;oBACP,gBAAgB;gBAClB;YACF;YAEA,WAAW;YACX,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QACL,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC1C,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAI,eAAe,SAAS;QAC1B,qBAAO,4OAAC,mLAAO;;;;;IACjB;IAEA,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,UAAU;QACnC,OAAO;IACT;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;IACd;IAEA,qBACE,4OAAC;QAAI,WAAU;;0BACb,4OAAC;gBAAc,MAAM;gBAAM,QAAQ;;;;;;0BACnC,4OAAC;gBAAK,WAAU;0BACd,cAAA,4OAAC;oBAAI,WAAU;;sCACb,4OAAC;4BAAG,WAAU;sCAAiE;;;;;;wBAE9E,uBACC,4OAAC;4BAAI,WAAU;sCACZ;;;;;;wBAIJ,yBACC,4OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,4OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAEtC,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CAAI,WAAU;;8DACb,4OAAC;oDAAI,WAAU;;wDACZ,oCACC,4OAAC;4DACC,KAAK;4DACL,KAAI;4DACJ,WAAU;;;;;mEAEV,eAAe,6BACjB,4OAAC;4DACC,KAAK,CAAC,KAAK,EAAE,cAAc,oBAAoB,IAAI,aAAa,QAAQ,EAAE,cAAc,YAAY,EAAE;4DACtG,KAAI;4DACJ,WAAU;;;;;iFAGZ,4OAAC;4DAAI,WAAU;sEACZ,MAAM,MAAM,MAAM,KAAK,IAAI,CAAC,IAAc,CAAC,CAAC,EAAE,EAAE,KAAK,IAAI,cAAc,MAAM,GAAG,MAAM;;;;;;wDAG1F,CAAC,uBAAuB,eAAe,YAAY,mBAClD,4OAAC;4DACC,MAAK;4DACL,SAAS;gEACP,gBAAgB;gEAChB,uBAAuB;4DACzB;4DACA,WAAU;4DACV,OAAM;sEAEN,cAAA,4OAAC,uMAAG;gEAAC,WAAU;;;;;;;;;;;;;;;;;8DAIrB,4OAAC;;sEACC,4OAAC;4DAAM,WAAU;;gEACd,uBAAuB,eAAe,eAAe,iBAAiB;8EACvE,4OAAC;oEACC,MAAK;oEACL,QAAO;oEACP,UAAU;oEACV,WAAU;;;;;;;;;;;;sEAGd,4OAAC;4DAAE,WAAU;sEAA6B;;;;;;;;;;;;;;;;;;;;;;;;8CAKhD,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,YAAY;4CAC5B,UAAU;4CACV,WAAU;;8DAEV,4OAAC;oDAAO,OAAM;8DAAG;;;;;;gDAChB,YAAY,GAAG,CAAC,CAAC,qBAChB,4OAAC;wDAAqB,OAAO,KAAK,EAAE;;4DACjC,KAAK,IAAI;4DAAC;4DAAE,KAAK,IAAI;;uDADX,KAAK,EAAE;;;;;;;;;;;;;;;;;8CAO1B,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,cAAc;4CAC9B,UAAU;4CACV,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,UAAU;4CAC1B,UAAU;4CACV,KAAI;4CACJ,WAAU;;;;;;;;;;;;8CAId,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;;gDAA+C;8DAC/C,4OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEhD,4OAAC;4CAAI,WAAU;sDACZ,SAAS,GAAG,CAAC,CAAC,oBACb,4OAAC;oDAEC,WAAU;;sEAEV,4OAAC;4DACC,MAAK;4DACL,SAAS,cAAc,QAAQ,CAAC;4DAChC,UAAU,IAAM,UAAU;4DAC1B,WAAU;;;;;;sEAEZ,4OAAC;4DAAK,WAAU;sEAAqC;;;;;;;mDAThD;;;;;;;;;;wCAaV,cAAc,MAAM,KAAK,mBACxB,4OAAC;4CAAE,WAAU;sDAA4B;;;;;;;;;;;;8CAI7C,4OAAC;oCAAI,WAAU;;sDACb,4OAAC;;8DACC,4OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,4OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,aAAa;oDAC7B,UAAU;oDACV,WAAU;;;;;;;;;;;;sDAGd,4OAAC;;8DACC,4OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,4OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,WAAW;oDAC3B,UAAU;oDACV,WAAU;;;;;;;;;;;;;;;;;;8CAKhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,eAAe;4CAC/B,UAAU;4CACV,KAAI;4CACJ,MAAK;4CACL,WAAU;;;;;;;;;;;;8CAId,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,aAAa;4CAC7B,UAAU;4CACV,MAAM;4CACN,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,GAAG;4CACnB,UAAU;4CACV,MAAM;4CACN,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;oCAAI,WAAU;;sDACb,4OAAC;4CACC,MAAK;4CACL,SAAS,IAAM,OAAO,IAAI;4CAC1B,WAAU;sDACX;;;;;;sDAGD,4OAAC;4CACC,MAAK;4CACL,UAAU,cAAc,cAAc,MAAM,KAAK;4CACjD,WAAU;sDAET,aAAa,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9C;GA1cwB;;QACyB,oLAAO;QACvC,iMAAS;;;KAFF;;;;;;;AAqdT,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,SAAS,WAAW,EAAE,MAAM,EAAE,GAAG,IAAA,oLAAO;IACtD,MAAM,SAAS,IAAA,iMAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wNAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wNAAQ,EAAQ,EAAE;IAExD,MAAM,WAAW;QAAC;QAAU;QAAU;QAAW;QAAa;QAAY;QAAU;KAAW;IAE/F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wNAAQ,EAAC;QACvC,cAAc;QACd,gBAAgB;QAChB,YAAY;QACZ,eAAe;QACf,KAAK;QACL,iBAAiB;QACjB,eAAe;QACf,aAAa;IACf;IACA,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAW,EAAE;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wNAAQ,EAA+D,EAAE;IACjH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wNAAQ,EAA+D,EAAE;IAC3G,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wNAAQ,EAAc;IAC9D,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,IAAA,wNAAQ,EAAgB;IAC9E,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wNAAQ,EAAM;IAExD,IAAA,yNAAS;2CAAC;YACR,IAAI,CAAC,eAAe,CAAC,CAAC,QAAQ,KAAK,IAAI,KAAK,QAAQ,GAAG;gBACrD,OAAO,IAAI,CAAC;YACd;QACF;0CAAG;QAAC;QAAM;QAAa;KAAO;IAE9B,IAAA,yNAAS;2CAAC;YACR,IAAI,QAAQ,KAAK,IAAI,KAAK,UAAU;gBAClC;gBACA;YACF;QACF;0CAAG;QAAC;KAAK;IAET,MAAM,mBAAmB;QACvB,IAAI;YACF,MAAM,WAAW,MAAM,uKAAG,CAAC,GAAG,CAAC;YAC/B,eAAe,SAAS,IAAI,CAAC,WAAW;QAC1C,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,qBAAqB;QACzB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,uKAAG,CAAC,GAAG,CAAC;YAC/B,MAAM,SAAS,SAAS,IAAI,CAAC,MAAM;YAEnC,IAAI,QAAQ;gBACV,YAAY;oBACV,cAAc,OAAO,YAAY,IAAI;oBACrC,gBAAgB,OAAO,cAAc,IAAI;oBACzC,YAAY,OAAO,UAAU,EAAE,cAAc;oBAC7C,eAAe,OAAO,aAAa,IAAI;oBACvC,KAAK,OAAO,GAAG,IAAI;oBACnB,iBAAiB,OAAO,eAAe,EAAE,cAAc;oBACvD,eAAe,OAAO,aAAa,IAAI;oBACvC,aAAa,OAAO,WAAW,IAAI;gBACrC;gBAEA,mCAAmC;gBACnC,IAAI,OAAO,OAAO,aAAa;gBAC/B,IAAI,OAAO,SAAS,UAAU;oBAC5B,IAAI;wBACF,OAAO,KAAK,KAAK,CAAC;oBACpB,EAAE,OAAO,GAAG;wBACV,OAAO,EAAE;oBACX;gBACF;gBACA,iBAAiB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;gBAEhD,kCAAkC;gBAClC,IAAI,OAAO,OAAO,YAAY;gBAC9B,IAAI,OAAO,SAAS,UAAU;oBAC5B,IAAI;wBACF,OAAO,KAAK,KAAK,CAAC;oBACpB,EAAE,OAAO,GAAG;wBACV,OAAO,EAAE;oBACX;gBACF;gBACA,gBAAgB,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;gBAE/C,+BAA+B;gBAC/B,IAAI,MAAM,OAAO,SAAS;gBAC1B,IAAI,OAAO,QAAQ,UAAU;oBAC3B,IAAI;wBACF,MAAM,KAAK,KAAK,CAAC;oBACnB,EAAE,OAAO,GAAG;wBACV,MAAM,EAAE;oBACV;gBACF;gBACA,aAAa,MAAM,OAAO,CAAC,OAAO,MAAM,EAAE;gBAE1C,sCAAsC;gBACtC,IAAI,OAAO,YAAY,EAAE;oBACvB,uBAAuB,CAAC,KAAK,EAAE,OAAO,oBAAoB,IAAI,aAAa,QAAQ,EAAE,OAAO,YAAY,EAAE;gBAC5G;YACF;YAEA,iBAAiB,UAAU;QAC7B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,iBAAiB;QACnB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,IAAI,cAAc,QAAQ,CAAC,MAAM;YAC/B,iBAAiB,cAAc,MAAM,CAAC,CAAC,IAAM,MAAM;QACrD,OAAO;YACL,iBAAiB;mBAAI;gBAAe;aAAI;QAC1C;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACvC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAC9B,MAAM,eAAe;gBAAC;gBAAc;gBAAa;gBAAa;aAAY;YAC1E,IAAI,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACrC,SAAS;gBACT;YACF;YACA,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;gBAC/B,SAAS;gBACT;YACF;YACA,gBAAgB;YAChB,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG;gBACjB,uBAAuB,OAAO,MAAM;YACtC;YACA,OAAO,aAAa,CAAC;YACrB,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,SAAS;YACT;QACF;QAEA,cAAc;QAEd,IAAI;YACF,MAAM,WAAW,CAAC,MAAM,uKAAG,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;YAEtE,MAAM,iBAAiB,IAAI;YAC3B,eAAe,MAAM,CAAC,gBAAgB,SAAS,YAAY;YAC3D,eAAe,MAAM,CAAC,kBAAkB,SAAS,cAAc;YAC/D,eAAe,MAAM,CAAC,cAAc,SAAS,UAAU;YACvD,eAAe,MAAM,CAAC,iBAAiB,SAAS,aAAa;YAC7D,eAAe,MAAM,CAAC,OAAO,SAAS,GAAG;YACzC,eAAe,MAAM,CAAC,mBAAmB,SAAS,eAAe;YACjE,eAAe,MAAM,CAAC,iBAAiB,SAAS,aAAa;YAC7D,eAAe,MAAM,CAAC,eAAe,SAAS,WAAW;YACzD,eAAe,MAAM,CAAC,iBAAiB,KAAK,SAAS,CAAC;YACtD,eAAe,MAAM,CAAC,gBAAgB,KAAK,SAAS,CAAC;YACrD,eAAe,MAAM,CAAC,aAAa,KAAK,SAAS,CAAC;YAElD,IAAI,cAAc;gBAChB,eAAe,MAAM,CAAC,gBAAgB;YACxC,OAAO,IAAI,CAAC,gBAAgB,CAAC,uBAAuB,eAAe,cAAc;gBAC/E,wEAAwE;gBACxE,eAAe,MAAM,CAAC,sBAAsB;YAC9C;YAEA,MAAM,uKAAG,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,gBAAgB;gBACpD,SAAS;oBACP,gBAAgB;gBAClB;YACF;YAEA,WAAW;YACX,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QACL,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,QAAQ,EAAE,MAAM,WAAW;QAC1C,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAI,eAAe,SAAS;QAC1B,qBAAO,4OAAC,mLAAO;;;;;IACjB;IAEA,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,UAAU;QACnC,OAAO;IACT;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;IACd;IAEA,qBACE,4OAAC;QAAI,WAAU;;0BACb,4OAAC;gBAAc,MAAM;gBAAM,QAAQ;;;;;;0BACnC,4OAAC;gBAAK,WAAU;0BACd,cAAA,4OAAC;oBAAI,WAAU;;sCACb,4OAAC;4BAAG,WAAU;sCAAiE;;;;;;wBAE9E,uBACC,4OAAC;4BAAI,WAAU;sCACZ;;;;;;wBAIJ,yBACC,4OAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,4OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAEtC,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CAAI,WAAU;;8DACb,4OAAC;oDAAI,WAAU;;wDACZ,oCACC,4OAAC;4DACC,KAAK;4DACL,KAAI;4DACJ,WAAU;;;;;mEAEV,eAAe,6BACjB,4OAAC;4DACC,KAAK,CAAC,KAAK,EAAE,cAAc,oBAAoB,IAAI,aAAa,QAAQ,EAAE,cAAc,YAAY,EAAE;4DACtG,KAAI;4DACJ,WAAU;;;;;iFAGZ,4OAAC;4DAAI,WAAU;sEACZ,MAAM,MAAM,MAAM,KAAK,IAAI,CAAC,IAAc,CAAC,CAAC,EAAE,EAAE,KAAK,IAAI,cAAc,MAAM,GAAG,MAAM;;;;;;wDAG1F,CAAC,uBAAuB,eAAe,YAAY,mBAClD,4OAAC;4DACC,MAAK;4DACL,SAAS;gEACP,gBAAgB;gEAChB,uBAAuB;4DACzB;4DACA,WAAU;4DACV,OAAM;sEAEN,cAAA,4OAAC,uMAAG;gEAAC,WAAU;;;;;;;;;;;;;;;;;8DAIrB,4OAAC;;sEACC,4OAAC;4DAAM,WAAU;;gEACd,uBAAuB,eAAe,eAAe,iBAAiB;8EACvE,4OAAC;oEACC,MAAK;oEACL,QAAO;oEACP,UAAU;oEACV,WAAU;;;;;;;;;;;;sEAGd,4OAAC;4DAAE,WAAU;sEAA6B;;;;;;;;;;;;;;;;;;;;;;;;8CAKhD,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,YAAY;4CAC5B,UAAU;4CACV,WAAU;;8DAEV,4OAAC;oDAAO,OAAM;8DAAG;;;;;;gDAChB,YAAY,GAAG,CAAC,CAAC,qBAChB,4OAAC;wDAAqB,OAAO,KAAK,EAAE;;4DACjC,KAAK,IAAI;4DAAC;4DAAE,KAAK,IAAI;;uDADX,KAAK,EAAE;;;;;;;;;;;;;;;;;8CAO1B,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,cAAc;4CAC9B,UAAU;4CACV,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,UAAU;4CAC1B,UAAU;4CACV,KAAI;4CACJ,WAAU;;;;;;;;;;;;8CAId,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;;gDAA+C;8DAC/C,4OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEhD,4OAAC;4CAAI,WAAU;sDACZ,SAAS,GAAG,CAAC,CAAC,oBACb,4OAAC;oDAEC,WAAU;;sEAEV,4OAAC;4DACC,MAAK;4DACL,SAAS,cAAc,QAAQ,CAAC;4DAChC,UAAU,IAAM,UAAU;4DAC1B,WAAU;;;;;;sEAEZ,4OAAC;4DAAK,WAAU;sEAAqC;;;;;;;mDAThD;;;;;;;;;;wCAaV,cAAc,MAAM,KAAK,mBACxB,4OAAC;4CAAE,WAAU;sDAA4B;;;;;;;;;;;;8CAI7C,4OAAC;oCAAI,WAAU;;sDACb,4OAAC;;8DACC,4OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,4OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,aAAa;oDAC7B,UAAU;oDACV,WAAU;;;;;;;;;;;;sDAGd,4OAAC;;8DACC,4OAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,4OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,WAAW;oDAC3B,UAAU;oDACV,WAAU;;;;;;;;;;;;;;;;;;8CAKhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,MAAK;4CACL,OAAO,SAAS,eAAe;4CAC/B,UAAU;4CACV,KAAI;4CACJ,MAAK;4CACL,WAAU;;;;;;;;;;;;8CAId,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,aAAa;4CAC7B,UAAU;4CACV,MAAM;4CACN,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;;sDACC,4OAAC;4CAAM,WAAU;sDAA+C;;;;;;sDAGhE,4OAAC;4CACC,MAAK;4CACL,OAAO,SAAS,GAAG;4CACnB,UAAU;4CACV,MAAM;4CACN,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIhB,4OAAC;oCAAI,WAAU;;sDACb,4OAAC;4CACC,MAAK;4CACL,SAAS,IAAM,OAAO,IAAI;4CAC1B,WAAU;sDACX;;;;;;sDAGD,4OAAC;4CACC,MAAK;4CACL,UAAU,cAAc,cAAc,MAAM,KAAK;4CACjD,WAAU;sDAET,aAAa,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9C;IA1cwB;;QACyB,oLAAO;QACvC,iMAAS;;;MAFF","debugId":null}}]
}