{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { \r\n  FiHome, \r\n  FiUser, \r\n  FiCalendar, \r\n  FiFileText, \r\n  FiUsers, \r\n  FiSettings,\r\n  FiLogOut,\r\n  FiMessageCircle\r\n} from 'react-icons/fi';\r\n\r\nconst Sidebar = () => {\r\n  const pathname = usePathname();\r\n  const { user, logout } = useAuth();\r\n\r\n      const patientMenu = [\r\n        { href: '/dashboard', label: 'Dashboard', icon: FiHome },\r\n        { href: '/doctors', label: 'Doctors', icon: FiUsers },\r\n        { href: '/appointments', label: 'Appointments', icon: FiCalendar },\r\n        { href: '/patient/chat', label: 'Chats', icon: FiMessageCircle },\r\n        { href: '/prescriptions', label: 'Prescriptions', icon: FiFileText },\r\n        { href: '/profile', label: 'My Profile', icon: FiUser },\r\n      ];\r\n\r\n  const doctorMenu = [\r\n    { href: '/dashboard', label: 'Dashboard', icon: FiHome },\r\n    { href: '/appointments', label: 'Appointments', icon: FiCalendar },\r\n    { href: '/prescriptions', label: 'Prescriptions', icon: FiFileText },\r\n    { href: '/doctor/profile', label: 'Edit Profile', icon: FiUser },\r\n  ];\r\n\r\n  const adminMenu = [\r\n    { href: '/dashboard', label: 'Dashboard', icon: FiHome },\r\n    { href: '/doctors', label: 'Doctors', icon: FiUsers },\r\n    { href: '/appointments', label: 'Appointments', icon: FiCalendar },\r\n    { href: '/prescriptions', label: 'Prescriptions', icon: FiFileText },\r\n    { href: '/admin', label: 'Admin Panel', icon: FiSettings },\r\n    { href: '/admin/doctors', label: 'Pending Doctors', icon: FiUsers },\r\n  ];\r\n\r\n  const menu = user?.role === 'patient' ? patientMenu : \r\n               user?.role === 'doctor' ? doctorMenu : \r\n               adminMenu;\r\n\r\n  return (\r\n    <div className=\"fixed left-0 top-0 h-full w-64 bg-white shadow-lg z-10\">\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <h1 className=\"text-2xl font-bold text-teal-600\">ðŸ©º MediWise</h1>\r\n      </div>\r\n      <nav className=\"p-4 space-y-2\">\r\n        {menu.map((item) => {\r\n          const Icon = item.icon;\r\n          const isActive = pathname === item.href;\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\r\n                isActive\r\n                  ? 'bg-teal-50 text-teal-600 font-medium'\r\n                  : 'text-gray-700 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <Icon className=\"text-xl\" />\r\n              <span>{item.label}</span>\r\n            </Link>\r\n          );\r\n        })}\r\n      </nav>\r\n      <div className=\"absolute bottom-4 left-4 right-4\">\r\n        <div className=\"p-4 border-t border-gray-200\">\r\n          <div className=\"mb-3 px-4\">\r\n            <p className=\"text-sm font-medium text-gray-900\">{user?.name}</p>\r\n            <p className=\"text-xs text-gray-500 capitalize\">{user?.role}</p>\r\n          </div>\r\n          <button\r\n            onClick={logout}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors\"\r\n          >\r\n            <FiLogOut className=\"text-xl\" />\r\n            <span>Logout</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAgBA,MAAM,UAAU;;IACd,MAAM,WAAW,IAAA,mMAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,oLAAO;IAE5B,MAAM,cAAc;QAClB;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,0MAAM;QAAC;QACvD;YAAE,MAAM;YAAY,OAAO;YAAW,MAAM,2MAAO;QAAC;QACpD;YAAE,MAAM;YAAiB,OAAO;YAAgB,MAAM,8MAAU;QAAC;QACjE;YAAE,MAAM;YAAiB,OAAO;YAAS,MAAM,mNAAe;QAAC;QAC/D;YAAE,MAAM;YAAkB,OAAO;YAAiB,MAAM,8MAAU;QAAC;QACnE;YAAE,MAAM;YAAY,OAAO;YAAc,MAAM,0MAAM;QAAC;KACvD;IAEL,MAAM,aAAa;QACjB;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,0MAAM;QAAC;QACvD;YAAE,MAAM;YAAiB,OAAO;YAAgB,MAAM,8MAAU;QAAC;QACjE;YAAE,MAAM;YAAkB,OAAO;YAAiB,MAAM,8MAAU;QAAC;QACnE;YAAE,MAAM;YAAmB,OAAO;YAAgB,MAAM,0MAAM;QAAC;KAChE;IAED,MAAM,YAAY;QAChB;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,0MAAM;QAAC;QACvD;YAAE,MAAM;YAAY,OAAO;YAAW,MAAM,2MAAO;QAAC;QACpD;YAAE,MAAM;YAAiB,OAAO;YAAgB,MAAM,8MAAU;QAAC;QACjE;YAAE,MAAM;YAAkB,OAAO;YAAiB,MAAM,8MAAU;QAAC;QACnE;YAAE,MAAM;YAAU,OAAO;YAAe,MAAM,8MAAU;QAAC;QACzD;YAAE,MAAM;YAAkB,OAAO;YAAmB,MAAM,2MAAO;QAAC;KACnE;IAED,MAAM,OAAO,MAAM,SAAS,YAAY,cAC3B,MAAM,SAAS,WAAW,aAC1B;IAEb,qBACE,4OAAC;QAAI,WAAU;;0BACb,4OAAC;gBAAI,WAAU;0BACb,cAAA,4OAAC;oBAAG,WAAU;8BAAmC;;;;;;;;;;;0BAEnD,4OAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC;oBACT,MAAM,OAAO,KAAK,IAAI;oBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACE,4OAAC,yNAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,+DAA+D,EACzE,WACI,yCACA,kCACJ;;0CAEF,4OAAC;gCAAK,WAAU;;;;;;0CAChB,4OAAC;0CAAM,KAAK,KAAK;;;;;;;uBATZ,KAAK,IAAI;;;;;gBAYpB;;;;;;0BAEF,4OAAC;gBAAI,WAAU;0BACb,cAAA,4OAAC;oBAAI,WAAU;;sCACb,4OAAC;4BAAI,WAAU;;8CACb,4OAAC;oCAAE,WAAU;8CAAqC,MAAM;;;;;;8CACxD,4OAAC;oCAAE,WAAU;8CAAoC,MAAM;;;;;;;;;;;;sCAEzD,4OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,4OAAC,4MAAQ;oCAAC,WAAU;;;;;;8CACpB,4OAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB;GA3EM;;QACa,mMAAW;QACH,oLAAO;;;KAF5B;uCA6ES","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/appointments/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Sidebar from '@/components/Sidebar';\r\nimport Loading from '@/components/Loading';\r\nimport api from '@/lib/api';\r\nimport { format, addDays, subDays, parseISO } from 'date-fns';\r\nimport { FiCalendar, FiMessageCircle, FiPhone, FiChevronRight, FiSearch, FiClock, FiLogOut, FiX } from 'react-icons/fi';\r\n\r\nexport default function AppointmentsPage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [doctorProfile, setDoctorProfile] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [selectedAppointment, setSelectedAppointment] = useState<any>(null);\r\n  const [patientPrescriptions, setPatientPrescriptions] = useState<any[]>([]);\r\n  const [loadingPatientDetails, setLoadingPatientDetails] = useState(false);\r\n\r\n  // Update current time every minute\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && !user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (user.role === 'doctor') {\r\n        fetchDoctorProfile();\r\n      } else {\r\n        fetchAppointments();\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (user && (user.role !== 'doctor' || doctorProfile)) {\r\n      fetchAppointments();\r\n    }\r\n  }, [selectedDate, doctorProfile]);\r\n\r\n  const fetchDoctorProfile = async () => {\r\n    try {\r\n      const response = await api.get('/doctors/profile/me');\r\n      setDoctorProfile(response.data.doctor);\r\n    } catch (error) {\r\n      console.error('Error fetching doctor profile:', error);\r\n    }\r\n  };\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\r\n      const params: any = { limit: 100 };\r\n      if (user?.role === 'doctor') {\r\n        params.doctorId = doctorProfile?.id;\r\n      }\r\n      \r\n      const response = await api.get('/appointments', { params });\r\n      const allAppointments = response.data.appointments || [];\r\n      \r\n      // Filter appointments for selected date\r\n      const filteredAppointments = allAppointments.filter((appt: any) => {\r\n        const apptDate = format(parseISO(appt.appointmentDate), 'yyyy-MM-dd');\r\n        return apptDate === dateStr && appt.status !== 'cancelled';\r\n      });\r\n\r\n      // Sort by time\r\n      filteredAppointments.sort((a: any, b: any) => {\r\n        const timeA = a.appointmentTime || '00:00';\r\n        const timeB = b.appointmentTime || '00:00';\r\n        return timeA.localeCompare(timeB);\r\n      });\r\n\r\n      setAppointments(filteredAppointments);\r\n    } catch (error) {\r\n      console.error('Error fetching appointments:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Group appointments by time slots for better visualization\r\n  const groupAppointmentsByTime = () => {\r\n    const grouped: { [key: string]: any[] } = {};\r\n    appointments.forEach((appt) => {\r\n      const time = appt.appointmentTime || '00:00';\r\n      if (!grouped[time]) {\r\n        grouped[time] = [];\r\n      }\r\n      grouped[time].push(appt);\r\n    });\r\n    return grouped;\r\n  };\r\n\r\n  const groupedAppointments = groupAppointmentsByTime();\r\n  const sortedTimes = Object.keys(groupedAppointments).sort();\r\n\r\n  // Get patient initials for avatar\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      .split(' ')\r\n      .map((n) => n[0])\r\n      .join('')\r\n      .toUpperCase()\r\n      .slice(0, 2);\r\n  };\r\n\r\n  // Get patient age from dateOfBirth\r\n  const getPatientAge = (patient: any) => {\r\n    if (!patient?.dateOfBirth) return 'N/A';\r\n    const birthDate = new Date(patient.dateOfBirth);\r\n    const today = new Date();\r\n    let age = today.getFullYear() - birthDate.getFullYear();\r\n    const monthDiff = today.getMonth() - birthDate.getMonth();\r\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\r\n      age--;\r\n    }\r\n    return age;\r\n  };\r\n\r\n  const handleAppointmentClick = async (appt: any) => {\r\n    setSelectedAppointment(appt);\r\n    setLoadingPatientDetails(true);\r\n    try {\r\n      // Fetch patient prescriptions\r\n      const response = await api.get(`/prescriptions?patientId=${appt.patientId}`);\r\n      setPatientPrescriptions(response.data.prescriptions || []);\r\n    } catch (error) {\r\n      console.error('Error fetching patient prescriptions:', error);\r\n      setPatientPrescriptions([]);\r\n    } finally {\r\n      setLoadingPatientDetails(false);\r\n    }\r\n  };\r\n\r\n  const calculateAge = (dateOfBirth: string) => {\r\n    if (!dateOfBirth) return { years: 0, months: 0 };\r\n    const birthDate = new Date(dateOfBirth);\r\n    const today = new Date();\r\n    let years = today.getFullYear() - birthDate.getFullYear();\r\n    let months = today.getMonth() - birthDate.getMonth();\r\n    \r\n    if (months < 0) {\r\n      years--;\r\n      months += 12;\r\n    }\r\n    if (today.getDate() < birthDate.getDate()) {\r\n      months--;\r\n      if (months < 0) {\r\n        years--;\r\n        months += 11;\r\n      }\r\n    }\r\n    return { years, months };\r\n  };\r\n\r\n  const formatDateOfBirth = (dob: string) => {\r\n    if (!dob) return 'N/A';\r\n    const date = new Date(dob);\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const year = date.getFullYear();\r\n    return `${month}/${day}/${year}`;\r\n  };\r\n\r\n  const formatTime = (date: Date) => {\r\n    return format(date, 'h:mm a');\r\n  };\r\n\r\n  const formatDateDisplay = (date: Date) => {\r\n    return {\r\n      day: format(date, 'EEEE'),\r\n      date: format(date, 'd MMM'),\r\n      year: format(date, 'yyyy'),\r\n    };\r\n  };\r\n\r\n  const dateDisplay = formatDateDisplay(selectedDate);\r\n\r\n  const navigateDate = (direction: 'prev' | 'next') => {\r\n    setSelectedDate(direction === 'next' ? addDays(selectedDate, 1) : subDays(selectedDate, 1));\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  // Doctor-specific view with modern design\r\n  if (user.role === 'doctor') {\r\n    return (\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        {/* Enhanced Sidebar with Doctor Profile */}\r\n        <div className=\"fixed left-0 top-0 h-full w-72 bg-white shadow-lg z-10\">\r\n          {/* Doctor Profile Section */}\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div className=\"flex flex-col items-center\">\r\n              {doctorProfile?.profileImage ? (\r\n                <img\r\n                  src={`data:${doctorProfile.profileImageMimeType || 'image/jpeg'};base64,${doctorProfile.profileImage}`}\r\n                  alt={user.name || 'Doctor'}\r\n                  className=\"w-20 h-20 rounded-full object-cover mb-3 border-2 border-gray-200\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold mb-3\">\r\n                  {getInitials(user.name || 'D')}\r\n                </div>\r\n              )}\r\n              <h2 className=\"text-lg font-bold text-gray-800\">{doctorProfile?.user?.name || user.name}</h2>\r\n              <p className=\"text-sm text-gray-500 mt-1\">{doctorProfile?.specialization || 'Doctor'}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Date Navigation */}\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-xs text-gray-500 uppercase tracking-wide\">{dateDisplay.day}</p>\r\n              <p className=\"text-3xl font-bold text-gray-800 mt-1\">{dateDisplay.date.split(' ')[0]}</p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">{dateDisplay.date.split(' ')[1]} {dateDisplay.year}</p>\r\n              <div className=\"flex items-center justify-center mt-3 gap-2\">\r\n                <button\r\n                  onClick={() => navigateDate('prev')}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <FiChevronRight className=\"rotate-180 text-gray-600\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setSelectedDate(new Date())}\r\n                  className=\"px-3 py-1 text-xs text-teal-600 hover:bg-teal-50 rounded\"\r\n                >\r\n                  Today\r\n                </button>\r\n                <button\r\n                  onClick={() => navigateDate('next')}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                >\r\n                  <FiChevronRight className=\"text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Navigation Menu */}\r\n          <nav className=\"p-4 space-y-1\">\r\n            <Link\r\n              href=\"/appointments\"\r\n              className=\"flex items-center gap-3 px-4 py-3 rounded-lg bg-blue-50 text-blue-600 font-medium border-l-4 border-blue-600\"\r\n            >\r\n              <FiCalendar className=\"text-xl\" />\r\n              <span>APPOINTMENTS</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/patients\"\r\n              className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FiMessageCircle className=\"text-xl\" />\r\n              <span>MY PATIENTS</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/chat\"\r\n              className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FiMessageCircle className=\"text-xl\" />\r\n              <span>CHATS</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/prescriptions\"\r\n              className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FiCalendar className=\"text-xl\" />\r\n              <span>PRESCRIPTIONS</span>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/profile\"\r\n              className=\"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n            >\r\n              <FiCalendar className=\"text-xl\" />\r\n              <span>SETTINGS</span>\r\n            </Link>\r\n          </nav>\r\n\r\n          {/* Logout Button */}\r\n          <div className=\"absolute bottom-4 left-4 right-4\">\r\n            <button\r\n              onClick={() => {\r\n                if (confirm('Are you sure you want to logout?')) {\r\n                  logout();\r\n                }\r\n              }}\r\n              className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors border border-red-200\"\r\n            >\r\n              <FiLogOut className=\"text-xl\" />\r\n              <span>LOGOUT</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <main className=\"ml-72 flex-1 p-8\">\r\n          {/* Header */}\r\n          <div className=\"flex justify-between items-start mb-8\">\r\n            <div>\r\n              <h1 className=\"text-4xl font-bold text-gray-800 uppercase tracking-tight\">Appointments</h1>\r\n              <p className=\"text-gray-600 mt-2\">\r\n                You have {appointments.length} appointment{appointments.length !== 1 ? 's' : ''} {format(selectedDate, 'EEEE')}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"flex items-center gap-4 mb-2\">\r\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n                  <FiSearch className=\"text-xl text-gray-600\" />\r\n                </button>\r\n                <button className=\"relative p-2 hover:bg-gray-100 rounded-lg\">\r\n                  <FiMessageCircle className=\"text-xl text-gray-600\" />\r\n                  <span className=\"absolute top-0 right-0 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center\">\r\n                    2\r\n                  </span>\r\n                </button>\r\n                <button className=\"relative p-2 hover:bg-gray-100 rounded-lg\">\r\n                  <FiPhone className=\"text-xl text-gray-600\" />\r\n                  <span className=\"absolute top-0 right-0 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center\">\r\n                    1\r\n                  </span>\r\n                </button>\r\n              </div>\r\n              <div className=\"text-3xl font-bold text-gray-800 flex items-center gap-2\">\r\n                <FiClock className=\"text-blue-600\" />\r\n                {formatTime(currentTime)}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Appointments Grid */}\r\n          {appointments.length === 0 ? (\r\n            <div className=\"bg-white rounded-xl shadow-sm p-12 text-center\">\r\n              <p className=\"text-gray-500 text-lg\">No appointments scheduled for this date</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-6\">\r\n              {sortedTimes.map((time, timeIndex) => (\r\n                <div key={time}>\r\n                  {/* Time Marker */}\r\n                  <div className=\"flex items-center mb-4\">\r\n                    <span className=\"text-sm font-medium text-gray-500 bg-gray-100 px-3 py-1 rounded\">\r\n                      {time}\r\n                    </span>\r\n                    <div className=\"flex-1 h-px bg-gray-200 ml-4\"></div>\r\n                  </div>\r\n\r\n                  {/* Appointment Cards for this time */}\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {groupedAppointments[time].map((appt) => (\r\n                      <div\r\n                        key={appt.id}\r\n                        onClick={() => handleAppointmentClick(appt)}\r\n                        className=\"bg-white rounded-xl shadow-sm p-5 hover:shadow-md transition-all border border-gray-100 cursor-pointer\"\r\n                      >\r\n                        <div className=\"flex items-start justify-between mb-4\">\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-800\">\r\n                              {appt.patient?.name || 'Patient'}\r\n                            </h3>\r\n                            <p className=\"text-sm text-gray-500 mt-1\">\r\n                              {getPatientAge(appt.patient)} years\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-700 mt-2 font-medium\">\r\n                              {appt.reason || 'General Consultation'}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-semibold ml-3\">\r\n                            {getInitials(appt.patient?.name || 'P')}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex gap-2 pt-3 border-t border-gray-100\">\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              router.push('/doctor/chat');\r\n                            }}\r\n                            className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium\"\r\n                          >\r\n                            <FiMessageCircle />\r\n                            Chat\r\n                          </button>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              if (appt.patient?.phone) {\r\n                                window.location.href = `tel:${appt.patient.phone}`;\r\n                              }\r\n                            }}\r\n                            className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium\"\r\n                          >\r\n                            <FiPhone />\r\n                            Call\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Patient Detail Modal */}\r\n          {selectedAppointment && (\r\n            <div\r\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\r\n              onClick={(e) => {\r\n                if (e.target === e.currentTarget) {\r\n                  setSelectedAppointment(null);\r\n                  setPatientPrescriptions([]);\r\n                }\r\n              }}\r\n            >\r\n              <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\">\r\n                {loadingPatientDetails ? (\r\n                  <div className=\"flex items-center justify-center p-12\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600\"></div>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* Modal Header */}\r\n                    <div className=\"p-6 border-b border-gray-200 bg-gradient-to-r from-teal-50 to-indigo-50\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-2xl font-bold\">\r\n                            {getInitials(selectedAppointment.patient?.name || 'P')}\r\n                          </div>\r\n                          <div>\r\n                            <h2 className=\"text-2xl font-bold text-gray-800 uppercase\">\r\n                              {selectedAppointment.patient?.name || 'Patient'}\r\n                            </h2>\r\n                            <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-600\">\r\n                              <span>\r\n                                <span className=\"font-semibold\">DOB:</span> {formatDateOfBirth(selectedAppointment.patient?.dateOfBirth)}\r\n                              </span>\r\n                              {selectedAppointment.patient?.dateOfBirth && (\r\n                                <span>\r\n                                  <span className=\"font-semibold\">AGE:</span> {calculateAge(selectedAppointment.patient.dateOfBirth).years} years {calculateAge(selectedAppointment.patient.dateOfBirth).months} months\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedAppointment(null);\r\n                            setPatientPrescriptions([]);\r\n                          }}\r\n                          className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                        >\r\n                          <FiX className=\"text-xl text-gray-600\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Modal Body - Scrollable */}\r\n                    <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\r\n                      {/* Contact & Address */}\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                        <div>\r\n                          <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-2\">Contact</h3>\r\n                          <p className=\"text-gray-800\">{selectedAppointment.patient?.email || 'N/A'}</p>\r\n                          <p className=\"text-gray-800\">{selectedAppointment.patient?.phone || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-2\">Address</h3>\r\n                          <p className=\"text-gray-800\">{selectedAppointment.patient?.address || 'No address provided'}</p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Appointment Agenda */}\r\n                      <div>\r\n                        <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-2\">Appointment Agenda:</h3>\r\n                        <p className=\"text-gray-800 text-lg\">{selectedAppointment.reason || 'General Consultation'}</p>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">\r\n                          {format(parseISO(selectedAppointment.appointmentDate), 'EEEE, MMMM dd, yyyy')} at {selectedAppointment.appointmentTime}\r\n                        </p>\r\n                      </div>\r\n\r\n                      {/* Prescribed Drugs */}\r\n                      {patientPrescriptions.length > 0 && (\r\n                        <div>\r\n                          <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-3\">Prescribed Drugs:</h3>\r\n                          <ul className=\"space-y-2\">\r\n                            {patientPrescriptions\r\n                              .flatMap((prescription: any) => prescription.medicines || [])\r\n                              .filter((med: any, index: number, self: any[]) => \r\n                                self.findIndex((m: any) => (typeof med === 'string' ? med : med.name) === (typeof m === 'string' ? m : m.name)) === index\r\n                              )\r\n                              .map((med: any, idx: number) => (\r\n                                <li key={idx} className=\"flex items-start gap-2 text-gray-800\">\r\n                                  <span className=\"text-teal-600 mt-1\">â€¢</span>\r\n                                  <span>\r\n                                    <span className=\"font-semibold\">{typeof med === 'string' ? med : med.name || med}</span>\r\n                                    {typeof med === 'object' && med.dosage && (\r\n                                      <span className=\"text-gray-600\"> - {med.dosage}</span>\r\n                                    )}\r\n                                    {typeof med === 'object' && med.frequency && (\r\n                                      <span className=\"text-gray-600\"> ({med.frequency})</span>\r\n                                    )}\r\n                                  </span>\r\n                                </li>\r\n                              ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Medical Notes from Latest Prescription */}\r\n                      {patientPrescriptions.length > 0 && patientPrescriptions[0].instructions && (\r\n                        <div>\r\n                          <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-2\">Notes:</h3>\r\n                          <p className=\"text-gray-800 whitespace-pre-line leading-relaxed\">\r\n                            {patientPrescriptions[0].instructions}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Diagnosis from Latest Prescription */}\r\n                      {patientPrescriptions.length > 0 && patientPrescriptions[0].diagnosis && (\r\n                        <div>\r\n                          <h3 className=\"text-sm font-semibold text-gray-500 uppercase mb-2\">Recent Diagnosis:</h3>\r\n                          <p className=\"text-gray-800\">{patientPrescriptions[0].diagnosis}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Modal Footer - Action Buttons */}\r\n                    <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\r\n                      <button\r\n                        onClick={() => {\r\n                          router.push('/doctor/chat');\r\n                        }}\r\n                        className=\"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium\"\r\n                      >\r\n                        <FiMessageCircle className=\"text-xl\" />\r\n                        Chat\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          if (selectedAppointment.patient?.phone) {\r\n                            window.location.href = `tel:${selectedAppointment.patient.phone}`;\r\n                          }\r\n                        }}\r\n                        className=\"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium\"\r\n                      >\r\n                        <FiPhone className=\"text-xl\" />\r\n                        Call\r\n                      </button>\r\n                          <button\r\n                            onClick={() => {\r\n                              router.push(`/patient/profile?id=${selectedAppointment.patientId}`);\r\n                            }}\r\n                            className=\"flex-1 px-6 py-3 bg-gradient-to-r from-teal-600 to-indigo-600 text-white rounded-lg hover:from-teal-700 hover:to-indigo-700 transition-all font-medium shadow-md\"\r\n                          >\r\n                            VIEW PROFILE\r\n                          </button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Patient/Admin view (existing design)\r\n  return (\r\n    <div className=\"flex min-h-screen\">\r\n      <Sidebar />\r\n      <main className=\"ml-64 flex-1 p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-6\">My Appointments</h1>\r\n          {appointments.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\r\n              <p className=\"text-gray-500 text-lg\">No appointments found</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {appointments.map((appt) => (\r\n                <div key={appt.id} className=\"bg-white rounded-lg shadow-md p-6\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">\r\n                        {user.role === 'patient'\r\n                          ? `Dr. ${appt.doctor?.user?.name}`\r\n                          : appt.patient?.name}\r\n                      </h3>\r\n                      <p className=\"text-gray-600\">\r\n                        {format(parseISO(appt.appointmentDate), 'MMMM dd, yyyy')} at {appt.appointmentTime}\r\n                      </p>\r\n                      {appt.reason && <p className=\"text-gray-500 mt-2\">{appt.reason}</p>}\r\n                    </div>\r\n                    <span\r\n                      className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                        appt.status === 'confirmed'\r\n                          ? 'bg-green-100 text-green-800'\r\n                          : appt.status === 'pending'\r\n                          ? 'bg-yellow-100 text-yellow-800'\r\n                          : appt.status === 'completed'\r\n                          ? 'bg-blue-100 text-blue-800'\r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}\r\n                    >\r\n                      {appt.status}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}