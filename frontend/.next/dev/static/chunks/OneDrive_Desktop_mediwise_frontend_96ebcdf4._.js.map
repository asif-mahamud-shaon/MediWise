{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/PatientSidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { \n  FiChevronRight,\n  FiHome, \n  FiUser, \n  FiCalendar, \n  FiFileText, \n  FiUsers, \n  FiMessageCircle,\n  FiLogOut,\n  FiX,\n  FiMenu\n} from 'react-icons/fi';\nimport { useState, useEffect } from 'react';\n\ninterface PatientSidebarProps {\n  user: any;\n  logout: () => void;\n}\n\nconst PatientSidebar = ({ user, logout }: PatientSidebarProps) => {\n  const pathname = usePathname();\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'U';\n  };\n\n  const menu = [\n    { href: '/patient/dashboard', label: 'Dashboard', icon: FiHome },\n    { href: '/patient/doctors', label: 'Doctors', icon: FiUsers },\n    { href: '/patient/appointments', label: 'Appointments', icon: FiCalendar },\n    { href: '/patient/chat', label: 'Chats', icon: FiMessageCircle },\n    { href: '/patient/prescriptions', label: 'Prescriptions', icon: FiFileText },\n    { href: '/patient/profile', label: 'My Profile', icon: FiUser },\n  ];\n\n  // Close mobile menu when route changes\n  useEffect(() => {\n    setMobileMenuOpen(false);\n  }, [pathname]);\n\n  return (\n    <>\n      {/* Mobile Menu Button */}\n      <button\n        onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n        className=\"lg:hidden fixed top-4 left-4 z-50 p-2 bg-teal-600 text-white rounded-lg shadow-lg\"\n      >\n        {mobileMenuOpen ? <FiX className=\"text-2xl\" /> : <FiMenu className=\"text-2xl\" />}\n      </button>\n\n      {/* Mobile Overlay */}\n      {mobileMenuOpen && (\n        <div\n          className=\"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40\"\n          onClick={() => setMobileMenuOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div className={`\n        ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n        ${sidebarCollapsed ? 'w-16' : 'w-64'} \n        bg-teal-600 text-white transition-all duration-300 \n        fixed left-0 top-0 h-full z-40 lg:z-20\n      `}>\n        <div className=\"p-4 h-full flex flex-col overflow-y-auto\">\n          {/* Collapse/Expand Button - Desktop only */}\n          <button\n            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n            className=\"hidden lg:flex w-full items-center justify-center p-2 hover:bg-teal-700 rounded-lg transition-colors mb-4\"\n          >\n            <FiChevronRight className={`text-xl transform transition-transform ${sidebarCollapsed ? '' : 'rotate-180'}`} />\n          </button>\n\n          {/* Close Button - Mobile only */}\n          <button\n            onClick={() => setMobileMenuOpen(false)}\n            className=\"lg:hidden w-full flex items-center justify-end p-2 hover:bg-teal-700 rounded-lg transition-colors mb-4\"\n          >\n            <FiX className=\"text-xl\" />\n          </button>\n\n        {/* Logo */}\n        {!sidebarCollapsed && (\n          <div className=\"flex items-center justify-center mb-6\">\n            <div className=\"flex items-center gap-2\">\n              <img src=\"/logo.png\" alt=\"MediWise Logo\" className=\"w-10 h-10 object-contain\" onError={(e) => {\n                const target = e.target as HTMLImageElement;\n                target.style.display = 'none';\n              }} />\n              <span className=\"text-xl font-bold\">MediWise</span>\n            </div>\n          </div>\n        )}\n        {sidebarCollapsed && (\n          <div className=\"flex items-center justify-center mb-6\">\n            <img src=\"/logo.png\" alt=\"MediWise Logo\" className=\"w-10 h-10 object-contain\" onError={(e) => {\n              const target = e.target as HTMLImageElement;\n              target.style.display = 'none';\n            }} />\n          </div>\n        )}\n\n        {/* Patient Profile Section */}\n        {!sidebarCollapsed && (\n          <div className=\"mb-6 pb-6 border-b border-teal-500\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-sm font-semibold\">\n                {getInitials(user?.name || 'P')}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-semibold truncate\">{user?.name}</p>\n                <p className=\"text-xs text-teal-200 capitalize\">Patient</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Navigation Links */}\n        <nav className=\"space-y-1 flex-1\">\n          {menu.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname === item.href;\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\n                  isActive\n                    ? 'bg-teal-700 text-white font-semibold'\n                    : 'text-teal-100 hover:bg-teal-700 hover:text-white'\n                }`}\n              >\n                <Icon className=\"text-xl flex-shrink-0\" />\n                {!sidebarCollapsed && <span className=\"text-sm\">{item.label}</span>}\n              </Link>\n            );\n          })}\n        </nav>\n\n        {/* Logout Button - Bottom and Centered */}\n        {!sidebarCollapsed && (\n          <div className=\"mt-auto pt-4 pb-4\">\n            <button \n              onClick={logout}\n              className=\"w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg text-teal-100 hover:bg-teal-700 transition-colors\"\n            >\n              <FiLogOut className=\"text-xl\" />\n              <span className=\"text-sm font-semibold\">LOGOUT</span>\n            </button>\n          </div>\n        )}\n        {sidebarCollapsed && (\n          <div className=\"mt-auto pt-4 pb-4\">\n            <button \n              onClick={logout}\n              className=\"w-full flex items-center justify-center p-3 rounded-lg text-teal-100 hover:bg-teal-700 transition-colors\"\n            >\n              <FiLogOut className=\"text-xl\" />\n            </button>\n          </div>\n        )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PatientSidebar;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAYA;;;AAjBA;;;;;AAwBA,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAE,MAAM,EAAuB;;IAC3D,MAAM,WAAW,IAAA,mMAAW;IAC5B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wNAAQ,EAAC;IACzD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wNAAQ,EAAC;IAErD,MAAM,cAAc,CAAC;QACnB,OAAO,MACH,MAAM,MACN,IAAI,CAAC,IAAc,CAAC,CAAC,EAAE,GACvB,KAAK,KACL,eACA,MAAM,GAAG,MAAM;IACrB;IAEA,MAAM,OAAO;QACX;YAAE,MAAM;YAAsB,OAAO;YAAa,MAAM,0MAAM;QAAC;QAC/D;YAAE,MAAM;YAAoB,OAAO;YAAW,MAAM,2MAAO;QAAC;QAC5D;YAAE,MAAM;YAAyB,OAAO;YAAgB,MAAM,8MAAU;QAAC;QACzE;YAAE,MAAM;YAAiB,OAAO;YAAS,MAAM,mNAAe;QAAC;QAC/D;YAAE,MAAM;YAA0B,OAAO;YAAiB,MAAM,8MAAU;QAAC;QAC3E;YAAE,MAAM;YAAoB,OAAO;YAAc,MAAM,0MAAM;QAAC;KAC/D;IAED,uCAAuC;IACvC,IAAA,yNAAS;oCAAC;YACR,kBAAkB;QACpB;mCAAG;QAAC;KAAS;IAEb,qBACE;;0BAEE,4OAAC;gBACC,SAAS,IAAM,kBAAkB,CAAC;gBAClC,WAAU;0BAET,+BAAiB,4OAAC,uMAAG;oBAAC,WAAU;;;;;6EAAgB,4OAAC,0MAAM;oBAAC,WAAU;;;;;;;;;;;YAIpE,gCACC,4OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,kBAAkB;;;;;;0BAKrC,4OAAC;gBAAI,WAAW,CAAC;QACf,EAAE,iBAAiB,kBAAkB,qCAAqC;QAC1E,EAAE,mBAAmB,SAAS,OAAO;;;MAGvC,CAAC;0BACC,cAAA,4OAAC;oBAAI,WAAU;;sCAEb,4OAAC;4BACC,SAAS,IAAM,oBAAoB,CAAC;4BACpC,WAAU;sCAEV,cAAA,4OAAC,kNAAc;gCAAC,WAAW,CAAC,uCAAuC,EAAE,mBAAmB,KAAK,cAAc;;;;;;;;;;;sCAI7G,4OAAC;4BACC,SAAS,IAAM,kBAAkB;4BACjC,WAAU;sCAEV,cAAA,4OAAC,uMAAG;gCAAC,WAAU;;;;;;;;;;;wBAIlB,CAAC,kCACA,4OAAC;4BAAI,WAAU;sCACb,cAAA,4OAAC;gCAAI,WAAU;;kDACb,4OAAC;wCAAI,KAAI;wCAAY,KAAI;wCAAgB,WAAU;wCAA2B,SAAS,CAAC;4CACtF,MAAM,SAAS,EAAE,MAAM;4CACvB,OAAO,KAAK,CAAC,OAAO,GAAG;wCACzB;;;;;;kDACA,4OAAC;wCAAK,WAAU;kDAAoB;;;;;;;;;;;;;;;;;wBAIzC,kCACC,4OAAC;4BAAI,WAAU;sCACb,cAAA,4OAAC;gCAAI,KAAI;gCAAY,KAAI;gCAAgB,WAAU;gCAA2B,SAAS,CAAC;oCACtF,MAAM,SAAS,EAAE,MAAM;oCACvB,OAAO,KAAK,CAAC,OAAO,GAAG;gCACzB;;;;;;;;;;;wBAKH,CAAC,kCACA,4OAAC;4BAAI,WAAU;sCACb,cAAA,4OAAC;gCAAI,WAAU;;kDACb,4OAAC;wCAAI,WAAU;kDACZ,YAAY,MAAM,QAAQ;;;;;;kDAE7B,4OAAC;wCAAI,WAAU;;0DACb,4OAAC;gDAAE,WAAU;0DAAkC,MAAM;;;;;;0DACrD,4OAAC;gDAAE,WAAU;0DAAmC;;;;;;;;;;;;;;;;;;;;;;;sCAOxD,4OAAC;4BAAI,WAAU;sCACZ,KAAK,GAAG,CAAC,CAAC;gCACT,MAAM,OAAO,KAAK,IAAI;gCACtB,MAAM,WAAW,aAAa,KAAK,IAAI;gCACvC,qBACE,4OAAC,yNAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAW,CAAC,+DAA+D,EACzE,WACI,yCACA,oDACJ;;sDAEF,4OAAC;4CAAK,WAAU;;;;;;wCACf,CAAC,kCAAoB,4OAAC;4CAAK,WAAU;sDAAW,KAAK,KAAK;;;;;;;mCATtD,KAAK,IAAI;;;;;4BAYpB;;;;;;wBAID,CAAC,kCACA,4OAAC;4BAAI,WAAU;sCACb,cAAA,4OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,4OAAC,4MAAQ;wCAAC,WAAU;;;;;;kDACpB,4OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;;;;;;wBAI7C,kCACC,4OAAC;4BAAI,WAAU;sCACb,cAAA,4OAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,4OAAC,4MAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlC;GA1JM;;QACa,mMAAW;;;KADxB;uCA4JS","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/utils/doctorName.ts"],"sourcesContent":["/**\n * Formats doctor name with appropriate prefix\n * - Removes any existing \"Dr.\" or \"Prof. Dr.\" prefix\n * - Adds \"Prof. Dr.\" if doctor is a professor (checks qualification)\n * - Otherwise adds \"Dr.\" prefix\n */\nexport function formatDoctorName(name: string, qualification?: string): string {\n  if (!name) return '';\n\n  // Remove any existing prefixes (case-insensitive)\n  let cleanName = name\n    .replace(/^(prof\\.?\\s*)?dr\\.?\\s*/i, '')\n    .replace(/^dr\\.?\\s*/i, '')\n    .trim();\n\n  // Check if doctor is a professor (check qualification for \"professor\" or \"prof\")\n  const isProfessor = qualification && (\n    qualification.toLowerCase().includes('professor') ||\n    qualification.toLowerCase().includes('prof.') ||\n    qualification.toLowerCase().includes('prof ')\n  );\n\n  // Add appropriate prefix\n  if (isProfessor) {\n    return `Prof. Dr. ${cleanName}`;\n  } else {\n    return `Dr. ${cleanName}`;\n  }\n}\n\n/**\n * Formats doctor name in Bengali with appropriate prefix\n * - Removes any existing \"ডাঃ\" or \"প্রফেসর ডাঃ\" prefix\n * - Adds \"প্রফেসর ডাঃ\" if doctor is a professor (checks qualification)\n * - Otherwise adds \"ডাঃ\" prefix\n */\nexport function formatDoctorNameBengali(name: string, qualification?: string): string {\n  if (!name) return '';\n\n  // Remove any existing prefixes (case-insensitive)\n  let cleanName = name\n    .replace(/^(প্রফেসর\\s*)?ডাঃ\\s*/i, '')\n    .replace(/^ডাঃ\\s*/i, '')\n    .replace(/^(prof\\.?\\s*)?dr\\.?\\s*/i, '')\n    .replace(/^dr\\.?\\s*/i, '')\n    .trim();\n\n  // Check if doctor is a professor (check qualification for \"professor\" or \"prof\")\n  const isProfessor = qualification && (\n    qualification.toLowerCase().includes('professor') ||\n    qualification.toLowerCase().includes('prof.') ||\n    qualification.toLowerCase().includes('prof ') ||\n    qualification.toLowerCase().includes('প্রফেসর')\n  );\n\n  // Add appropriate prefix\n  if (isProfessor) {\n    return `প্রফেসর ডাঃ ${cleanName}`;\n  } else {\n    return `ডাঃ ${cleanName}`;\n  }\n}\n\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;AACM,SAAS,iBAAiB,IAAY,EAAE,aAAsB;IACnE,IAAI,CAAC,MAAM,OAAO;IAElB,kDAAkD;IAClD,IAAI,YAAY,KACb,OAAO,CAAC,2BAA2B,IACnC,OAAO,CAAC,cAAc,IACtB,IAAI;IAEP,iFAAiF;IACjF,MAAM,cAAc,iBAAiB,CACnC,cAAc,WAAW,GAAG,QAAQ,CAAC,gBACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,QACvC;IAEA,yBAAyB;IACzB,IAAI,aAAa;QACf,OAAO,CAAC,UAAU,EAAE,WAAW;IACjC,OAAO;QACL,OAAO,CAAC,IAAI,EAAE,WAAW;IAC3B;AACF;AAQO,SAAS,wBAAwB,IAAY,EAAE,aAAsB;IAC1E,IAAI,CAAC,MAAM,OAAO;IAElB,kDAAkD;IAClD,IAAI,YAAY,KACb,OAAO,CAAC,yBAAyB,IACjC,OAAO,CAAC,YAAY,IACpB,OAAO,CAAC,2BAA2B,IACnC,OAAO,CAAC,cAAc,IACtB,IAAI;IAEP,iFAAiF;IACjF,MAAM,cAAc,iBAAiB,CACnC,cAAc,WAAW,GAAG,QAAQ,CAAC,gBACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,UACvC;IAEA,yBAAyB;IACzB,IAAI,aAAa;QACf,OAAO,CAAC,YAAY,EAAE,WAAW;IACnC,OAAO;QACL,OAAO,CAAC,IAAI,EAAE,WAAW;IAC3B;AACF","debugId":null}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/patient/prescriptions/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback, useMemo } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport Loading from '@/components/Loading';\nimport PatientSidebar from '@/components/PatientSidebar';\nimport api from '@/lib/api';\nimport { format, parseISO } from 'date-fns';\nimport { FiFileText, FiPrinter, FiCalendar, FiDownload, FiX } from 'react-icons/fi';\nimport { QRCodeSVG } from 'qrcode.react';\nimport html2canvas from 'html2canvas';\nimport { formatDoctorName } from '@/utils/doctorName';\n\nexport default function PatientPrescriptionsPage() {\n  const { user, loading: authLoading, logout } = useAuth();\n  const router = useRouter();\n  const [prescriptions, setPrescriptions] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedPrescription, setSelectedPrescription] = useState<any>(null);\n  const [showPreviewModal, setShowPreviewModal] = useState(false);\n\n  const fetchPrescriptions = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/prescriptions?limit=100');\n      let allPrescriptions = response.data.prescriptions || [];\n      \n      // Filter prescriptions for current patient\n      allPrescriptions = allPrescriptions.filter((prescription: any) => \n        prescription.patient?.email === user?.email || prescription.patientId === user?.id\n      );\n      \n      // Sort by date (newest first)\n      allPrescriptions.sort((a: any, b: any) => \n        new Date(b.prescriptionDate).getTime() - new Date(a.prescriptionDate).getTime()\n      );\n      \n      setPrescriptions(allPrescriptions);\n    } catch (error) {\n      console.error('Error fetching prescriptions:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n      return;\n    }\n    if (user && user.role !== 'patient') {\n      if (user.role === 'admin') {\n        router.push('/admin/dashboard');\n      } else if (user.role === 'doctor') {\n        router.push('/doctor/dashboard');\n      } else {\n        router.push('/dashboard');\n      }\n      return;\n    }\n    if (user && user.role === 'patient') {\n      fetchPrescriptions();\n    }\n  }, [user, authLoading, router, fetchPrescriptions]);\n\n  // Memoize month names to avoid recreating array\n  const monthNames = useMemo(() => ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], []);\n\n  const handlePrint = useCallback((prescription: any) => {\n    const printWindow = window.open('', '_blank');\n    if (!printWindow) return;\n\n    const doctorProfile = prescription.doctor;\n    const patientInfo = prescription.patient || user;\n    const prescriptionDate = new Date(prescription.prescriptionDate);\n    const day = String(prescriptionDate.getDate()).padStart(2, '0');\n    const month = monthNames[prescriptionDate.getMonth()];\n    const year = prescriptionDate.getFullYear();\n    const dateOnly = `${day} ${month}, ${year}`;\n    const timeOnly = format(prescriptionDate, 'h:mm a');\n\n    const printContent = `\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Prescription - ${patientInfo?.name || 'Patient'}</title>\n          <style>\n            @media print {\n              @page {\n                margin: 15mm;\n                size: A4;\n              }\n            }\n            * {\n              margin: 0;\n              padding: 0;\n              box-sizing: border-box;\n            }\n            body {\n              font-family: 'Times New Roman', serif;\n              font-size: 11pt;\n              line-height: 1.6;\n              color: #000;\n              background: #fff;\n              padding: 20px;\n              max-width: 100%;\n              position: relative;\n              overflow: hidden;\n            }\n            body::before {\n              content: 'MediWise';\n              position: fixed;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%) rotate(-45deg);\n              font-size: 150pt;\n              font-weight: bold;\n              color: rgba(0, 102, 102, 0.15);\n              z-index: 0;\n              pointer-events: none;\n              white-space: nowrap;\n              text-shadow: 0 0 10px rgba(0, 102, 102, 0.1);\n            }\n            .container {\n              position: relative;\n              z-index: 1;\n              max-width: 100%;\n            }\n            .header {\n              border-bottom: 3px solid #000;\n              padding-bottom: 15px;\n              margin-bottom: 15px;\n            }\n            .header-top {\n              display: flex;\n              justify-content: space-between;\n              align-items: flex-start;\n              margin-bottom: 10px;\n            }\n            .doctor-info-left {\n              flex: 1;\n            }\n            .logo-container {\n              width: 180px;\n              height: auto;\n              display: flex;\n              flex-direction: column;\n              align-items: center;\n              justify-content: flex-start;\n            }\n            .logo-image {\n              max-width: 100%;\n              height: auto;\n              object-fit: contain;\n            }\n            .doctor-name {\n              font-size: 22pt;\n              font-weight: bold;\n              color: #006666;\n              margin-bottom: 8px;\n            }\n            .doctor-details {\n              font-size: 10pt;\n              margin-bottom: 3px;\n            }\n            .date-time {\n              text-align: right;\n              font-size: 10pt;\n              font-weight: bold;\n            }\n            .two-column-layout {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 40px;\n              margin-top: 15px;\n              position: relative;\n            }\n            .two-column-layout::before {\n              content: '';\n              position: absolute;\n              left: 50%;\n              top: 0;\n              bottom: 0;\n              width: 3px;\n              background-color: #0066cc;\n              transform: translateX(-50%);\n              z-index: 1;\n            }\n            .left-column, .right-column {\n              display: flex;\n              flex-direction: column;\n              gap: 25px;\n              position: relative;\n              z-index: 2;\n              background: white;\n            }\n            .section {\n              padding-bottom: 0;\n              margin-bottom: 0;\n            }\n            .section-title {\n              font-size: 12pt;\n              font-weight: bold;\n              margin-bottom: 8px;\n            }\n            .section-content {\n              font-size: 10pt;\n              white-space: pre-wrap;\n              line-height: 1.8;\n              min-height: 40px;\n            }\n            .medicines-content {\n              font-family: 'Courier New', monospace;\n              font-size: 10pt;\n            }\n            .footer {\n              margin-top: 40px;\n              border-top: 2px solid #000;\n              padding-top: 20px;\n              font-size: 10pt;\n              text-align: center;\n            }\n            .company-name {\n              font-weight: bold;\n              font-size: 12pt;\n              margin-bottom: 8px;\n              color: #006666;\n              text-align: center;\n            }\n            .footer-text {\n              font-size: 9pt;\n              line-height: 1.6;\n              margin-bottom: 5px;\n              text-align: center;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              gap: 5px;\n              flex-wrap: wrap;\n            }\n            .hotline {\n              font-weight: bold;\n              color: #006666;\n              margin-top: 8px;\n              text-align: center;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              gap: 5px;\n              flex-wrap: wrap;\n            }\n            @media print {\n              body::before {\n                display: block;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"container\">\n            <div class=\"header\">\n              <div class=\"header-top\">\n                <div class=\"doctor-info-left\">\n                  <div class=\"doctor-name\">${(() => {\n                    const name = doctorProfile?.user?.name || '';\n                    const cleanName = name.replace(/^dr\\.?\\s*/i, '');\n                    return `Dr. ${cleanName}`;\n                  })()}</div>\n                  ${doctorProfile?.qualification ? `<div class=\"doctor-details\">${doctorProfile.qualification}</div>` : ''}\n                  ${doctorProfile?.specialization ? `<div class=\"doctor-details\">${doctorProfile.specialization}</div>` : ''}\n                  ${doctorProfile?.department?.name ? `<div class=\"doctor-details\">${doctorProfile.department.name}</div>` : ''}\n                </div>\n                <div class=\"logo-container\">\n                  <img src=\"/logo.png\" alt=\"MediWise Logo\" class=\"logo-image\" onerror=\"this.style.display='none';\" />\n                </div>\n              </div>\n              <div style=\"border-top: 2px solid #000; padding-top: 10px; margin-top: 10px; display: flex; justify-content: space-between; align-items: center;\">\n                <div style=\"flex: 1;\">\n                  ${(() => {\n                    const fullName = patientInfo?.name || '';\n                    const namePart = fullName ? `Patient: ${fullName}` : '';\n                    const age = prescription.age ? `    Age: ${prescription.age}` : '';\n                    return [namePart, age].filter(Boolean).join(' ');\n                  })()}\n                </div>\n                <div class=\"date-time\">\n                  Date: ${dateOnly} Time: ${timeOnly}\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"two-column-layout\">\n              <div class=\"left-column\">\n                ${prescription.diagnosis ? `\n                <div class=\"section\">\n                  <div class=\"section-title\">Diagnosis</div>\n                  <div class=\"section-content\">${prescription.diagnosis}</div>\n                </div>\n                ` : ''}\n                \n                ${prescription.tests ? `\n                <div class=\"section\">\n                  <div class=\"section-title\">Investigation</div>\n                  <div class=\"section-content\">${prescription.tests}</div>\n                </div>\n                ` : ''}\n\n                ${(prescription.followUp || prescription.instructions) ? `\n                <div class=\"section\">\n                  <div class=\"section-title\">Follow up</div>\n                  <div class=\"section-content\">${prescription.followUp || prescription.instructions}</div>\n                </div>\n                ` : ''}\n              </div>\n\n              <div class=\"right-column\">\n                ${prescription.medicines ? `\n                <div class=\"section\">\n                  <div class=\"section-title\">Medicine</div>\n                  <div class=\"section-content medicines-content\">${typeof prescription.medicines === 'string' ? prescription.medicines : (Array.isArray(prescription.medicines) ? prescription.medicines.map((med: any) => typeof med === 'string' ? med : (med.name || med)).join('\\\\n') : prescription.medicines)}</div>\n                </div>\n                ` : ''}\n\n                ${(prescription.advice || prescription.rules) ? `\n                <div class=\"section\">\n                  <div class=\"section-title\">Advice</div>\n                  <div class=\"section-content\">${prescription.advice || prescription.rules}</div>\n                </div>\n                ` : ''}\n              </div>\n            </div>\n\n            <div class=\"footer\">\n              <div class=\"footer-info\">\n                <div class=\"company-name\">MediWise</div>\n                <div class=\"footer-text\" style=\"font-family: 'Noto Sans Bengali', 'Kalpurush', 'Siyam Rupali', sans-serif;\">\n                  <span>চেম্বার: মেডিওয়াইজ কনসালটেশন সেন্টার</span>\n                  <span>/</span>\n                  <span>Chamber: MediWise Consultation Center</span>\n                </div>\n                <div class=\"hotline\" style=\"font-family: 'Noto Sans Bengali', 'Kalpurush', 'Siyam Rupali', sans-serif;\">\n                  <span>সিরিয়ালের জন্য হটলাইন</span>\n                  <span>/</span>\n                  <span>Hotline for Serial: <strong>+8809658303665</strong></span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </body>\n      </html>\n    `;\n\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.focus();\n    setTimeout(() => {\n      printWindow.print();\n    }, 250);\n  }, [user, monthNames]);\n\n  const handleViewPrescription = (prescription: any) => {\n    setSelectedPrescription(prescription);\n    setShowPreviewModal(true);\n  };\n\n  // Generate prescription data URL for QR code - Direct PDF download\n  const generatePrescriptionDataURL = (prescription: any) => {\n    if (typeof window === 'undefined') return '';\n    \n    const prescriptionData = {\n      id: prescription.id,\n      patientName: prescription.patient?.name || user?.name,\n      doctorName: prescription.doctor?.user?.name,\n      date: prescription.prescriptionDate,\n      diagnosis: prescription.diagnosis,\n      medicines: prescription.medicines,\n      tests: prescription.tests,\n      advice: prescription.advice,\n      instructions: prescription.instructions,\n      followUp: prescription.followUp,\n    };\n    \n    // Create a data URL that will trigger direct PDF download when scanned\n    const dataStr = JSON.stringify(prescriptionData);\n    const base64Data = btoa(unescape(encodeURIComponent(dataStr)));\n    return `${window.location.origin}/prescription/${prescription.id}/download?data=${encodeURIComponent(base64Data)}`;\n  };\n\n  // Generate medicine-specific QR code data - Direct PDF download\n  const generateMedicineQRData = (prescription: any, medicine: any, index: number) => {\n    if (typeof window === 'undefined') return '';\n    \n    const medicineData = {\n      prescriptionId: prescription.id,\n      medicineIndex: index,\n      medicine: typeof medicine === 'string' ? medicine : medicine.name || medicine,\n      dosage: typeof medicine === 'object' ? medicine.dosage : '',\n      frequency: typeof medicine === 'object' ? medicine.frequency : '',\n      patientName: prescription.patient?.name || user?.name,\n      doctorName: prescription.doctor?.user?.name,\n      date: prescription.prescriptionDate,\n    };\n    \n    const dataStr = JSON.stringify(medicineData);\n    const base64Data = btoa(unescape(encodeURIComponent(dataStr)));\n    return `${window.location.origin}/prescription/${prescription.id}/medicine/${index}/download?data=${encodeURIComponent(base64Data)}`;\n  };\n\n  // Download prescription as image\n  const downloadPrescriptionAsImage = async () => {\n    const prescriptionElement = document.getElementById('prescription-view-content');\n    if (!prescriptionElement) return;\n\n    try {\n      const canvas = await html2canvas(prescriptionElement, {\n        scale: 2,\n        useCORS: true,\n        backgroundColor: '#ffffff',\n        logging: false,\n      });\n      \n      const imgData = canvas.toDataURL('image/png');\n      const link = document.createElement('a');\n      link.href = imgData;\n      link.download = `prescription-${selectedPrescription?.id || 'download'}.png`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error('Error generating image:', error);\n    }\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'patient') {\n    return null;\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50\">\n      <PatientSidebar user={user} logout={logout} />\n      <main className=\"w-full lg:ml-64 flex-1 transition-all duration-300\">\n        {/* Modern Header with Simple Color */}\n        <header className=\"bg-teal-600 text-white shadow-xl\">\n          <div className=\"px-4 sm:px-6 lg:px-8 py-4 sm:py-6\">\n            <div>\n              <h1 className=\"text-2xl sm:text-3xl font-bold mb-2\">My Prescriptions</h1>\n              <p className=\"text-sm sm:text-base text-teal-100\">View and manage your medical prescriptions</p>\n            </div>\n          </div>\n        </header>\n\n        <div className=\"p-8\">\n          {prescriptions.length === 0 ? (\n            <div className=\"bg-white rounded-2xl shadow-xl p-12 text-center border-2 border-gray-300\">\n              <div className=\"w-20 h-20 rounded-full bg-teal-100 flex items-center justify-center mx-auto mb-4 shadow-lg\">\n                <FiFileText className=\"text-4xl text-teal-600\" />\n              </div>\n              <p className=\"text-gray-600 text-lg mb-2 font-semibold\">No prescriptions found</p>\n              <p className=\"text-gray-500 text-sm\">\n                Your prescriptions will appear here once your doctor creates them\n              </p>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              {prescriptions.map((prescription) => (\n                <div\n                  key={prescription.id}\n                  className=\"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-300 hover:shadow-2xl transition-all transform hover:scale-[1.01]\"\n                >\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-4 mb-3\">\n                        <div className=\"w-14 h-14 rounded-xl bg-teal-100 flex items-center justify-center shadow-lg\">\n                          <FiFileText className=\"text-2xl text-teal-600\" />\n                        </div>\n                        <div>\n                          <h3 className=\"text-xl font-bold text-gray-800\">\n                            {prescription.doctor?.user?.name \n                              ? `Dr. ${prescription.doctor.user.name}`\n                              : 'Prescription'}\n                          </h3>\n                          <div className=\"flex items-center gap-4 text-sm text-gray-600 mt-2\">\n                            <div className=\"flex items-center gap-2\">\n                              <FiCalendar className=\"text-teal-600\" />\n                              <span className=\"font-medium\">\n                                {format(new Date(prescription.prescriptionDate), 'MMMM dd, yyyy')}\n                              </span>\n                            </div>\n                            {prescription.doctor?.specialization && (\n                              <span className=\"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-bold\">\n                                {prescription.doctor.specialization}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={() => handleViewPrescription(prescription)}\n                        className=\"px-6 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 hover:shadow-xl transition-all flex items-center gap-2 font-bold transform hover:scale-105\"\n                      >\n                        <FiFileText className=\"w-5 h-5\" />\n                        View\n                      </button>\n                      <button\n                        onClick={() => handlePrint(prescription)}\n                        className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 hover:shadow-xl transition-all flex items-center gap-2 font-bold transform hover:scale-105\"\n                      >\n                        <FiPrinter className=\"w-5 h-5\" />\n                        Print\n                      </button>\n                    </div>\n                  </div>\n\n                  {prescription.diagnosis && (\n                    <div className=\"mb-4 pb-4 border-b border-gray-200 dark:border-gray-700\">\n                      <h4 className=\"font-semibold text-gray-700 dark:text-gray-300 mb-2\">Diagnosis:</h4>\n                      <p className=\"text-gray-600 dark:text-gray-400\">{prescription.diagnosis}</p>\n                    </div>\n                  )}\n\n                  {prescription.medicines && (\n                    <div className=\"mb-4 pb-4 border-b border-gray-200 dark:border-gray-700\">\n                      <h4 className=\"font-semibold text-gray-700 dark:text-gray-300 mb-2\">Medicines:</h4>\n                      <div className=\"text-gray-600 dark:text-gray-400 whitespace-pre-line\">\n                        {typeof prescription.medicines === 'string' \n                          ? prescription.medicines \n                          : prescription.medicines.map((med: any, index: number) => (\n                              <div key={index} className=\"mb-1\">\n                                {med.name}\n                                {med.dosage && ` - ${med.dosage}`}\n                                {med.frequency && ` (${med.frequency})`}\n                              </div>\n                            ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {prescription.instructions && (\n                    <div className=\"mb-4\">\n                      <h4 className=\"font-semibold text-gray-700 dark:text-gray-300 mb-2\">Instructions:</h4>\n                      <p className=\"text-gray-600 dark:text-gray-400 whitespace-pre-line\">{prescription.instructions}</p>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Prescription Slide-in View from Right */}\n      {showPreviewModal && selectedPrescription && (() => {\n        const doctorProfile = selectedPrescription.doctor;\n        const patientInfo = selectedPrescription.patient || user;\n        const prescriptionDate = new Date(selectedPrescription.prescriptionDate);\n        const day = String(prescriptionDate.getDate()).padStart(2, '0');\n        const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const month = monthNames[prescriptionDate.getMonth()];\n        const year = prescriptionDate.getFullYear();\n        const dateOnly = `${day} ${month}, ${year}`;\n        \n        const mainQRUrl = generatePrescriptionDataURL(selectedPrescription);\n        const medicines = Array.isArray(selectedPrescription.medicines) \n          ? selectedPrescription.medicines \n          : (typeof selectedPrescription.medicines === 'string' \n              ? selectedPrescription.medicines.split('\\n').filter(Boolean).map((m: string) => m.trim())\n              : []);\n\n        return (\n          <>\n            {/* Backdrop - Semi-transparent overlay, original page visible */}\n            <div \n              className=\"fixed inset-0 bg-black bg-opacity-20 z-40 transition-opacity\"\n              onClick={() => {\n                setShowPreviewModal(false);\n                setSelectedPrescription(null);\n              }}\n            />\n            \n            {/* Slide-in Panel from Right */}\n            <div className=\"fixed right-0 top-0 h-full w-full max-w-2xl bg-white shadow-2xl z-50 overflow-y-auto animate-slideInRight\">\n              {/* Close Button */}\n              <button\n                onClick={() => {\n                  setShowPreviewModal(false);\n                  setSelectedPrescription(null);\n                }}\n                className=\"absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors\"\n              >\n                <FiX className=\"w-5 h-5 text-gray-600\" />\n              </button>\n              \n              {/* Prescription Content */}\n              <div id=\"prescription-view-content\" className=\"p-6\" style={{ fontFamily: \"'Times New Roman', serif\" }}>\n                {/* Header */}\n                <div className=\"mb-6\">\n                  <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Printout to redeem your e-prescription</h2>\n                </div>\n\n                {/* Patient Info Section with Main QR Code */}\n                <div className=\"flex justify-between items-start mb-6\">\n                  <div className=\"flex-1\">\n                    <div className=\"text-lg font-bold mb-2\">FOR {patientInfo?.name?.toUpperCase() || 'PATIENT'}</div>\n                    {patientInfo?.dateOfBirth && (\n                      <div className=\"text-sm\">BORN {format(new Date(patientInfo.dateOfBirth), 'dd.MM.yyyy')}</div>\n                    )}\n                  </div>\n                  <div className=\"flex flex-col items-center ml-4\">\n                    <div className=\"bg-white p-3 rounded-lg border-2 border-gray-300 shadow-lg\">\n                      <QRCodeSVG \n                        value={mainQRUrl}\n                        size={140}\n                        level=\"H\"\n                        includeMargin={true}\n                      />\n                    </div>\n                    <p className=\"text-xs text-gray-600 mt-2 text-center max-w-[140px] font-semibold\" style={{ writingMode: 'vertical-rl', textOrientation: 'mixed' }}>\n                      codes to redeem all prescriptions\n                    </p>\n                  </div>\n                </div>\n\n                {/* Doctor Info */}\n                <div className=\"mb-6 pb-4 border-b border-gray-300\">\n                  <div className=\"text-lg font-bold mb-2\">\n                    FROM {formatDoctorName(doctorProfile?.user?.name || '', doctorProfile?.qualification).toUpperCase()}\n                  </div>\n                  {doctorProfile?.specialization && (\n                    <div className=\"text-sm mb-1\">{doctorProfile.specialization}</div>\n                  )}\n                  {doctorProfile?.user?.phone && (\n                    <div className=\"text-sm\">{doctorProfile.user.phone}</div>\n                  )}\n                  {doctorProfile?.user?.email && (\n                    <div className=\"text-sm\">{doctorProfile.user.email}</div>\n                  )}\n                  <div className=\"text-sm font-bold mt-2\">DATE {dateOnly}</div>\n                </div>\n\n                {/* Medicine QR Codes Section */}\n                {medicines.length > 0 && (\n                  <div className=\"mb-6\">\n                    {medicines.map((med: any, index: number) => {\n                      const medicineName = typeof med === 'string' ? med : (med.name || med);\n                      const medicineQRUrl = generateMedicineQRData(selectedPrescription, med, index);\n                      const dosage = typeof med === 'object' && med.dosage ? med.dosage : '';\n                      const frequency = typeof med === 'object' && med.frequency ? med.frequency : '';\n                      const pzn = selectedPrescription.id.slice(0, 8);\n                      \n                      return (\n                        <div key={index} className=\"mb-4 flex items-start gap-4\">\n                          <div className=\"flex-shrink-0\">\n                            <div className=\"bg-white p-2 rounded border border-gray-200\">\n                              <QRCodeSVG \n                                value={medicineQRUrl}\n                                size={100}\n                                level=\"H\"\n                                includeMargin={true}\n                              />\n                            </div>\n                          </div>\n                          <div className=\"flex-1\">\n                            <div className=\"text-sm font-semibold\">\n                              {dosage ? `${dosage} - ` : ''}{medicineName}\n                            </div>\n                            {frequency && (\n                              <div className=\"text-xs text-gray-600 mt-1\">{frequency}</div>\n                            )}\n                            <div className=\"text-xs text-gray-500 mt-1\">PZN: {pzn}</div>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                )}\n\n                {/* App Download Section */}\n                <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-shrink-0\">\n                      <div className=\"bg-white p-2 rounded border border-gray-200\">\n                        <QRCodeSVG \n                          value=\"https://mediwise.com/app\"\n                          size={80}\n                          level=\"H\"\n                          includeMargin={true}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"text-sm font-bold mb-1\">App for e-prescription</div>\n                      <div className=\"text-xs text-gray-600\">\n                        Receive your e-prescriptions paperless now and download the app.\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3 mt-8 pb-4\">\n                  <button\n                    onClick={downloadPrescriptionAsImage}\n                    className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-semibold\"\n                  >\n                    <FiDownload className=\"w-5 h-5\" />\n                    Save\n                  </button>\n                  <button\n                    onClick={() => handlePrint(selectedPrescription)}\n                    className=\"flex-1 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center gap-2 font-semibold\"\n                  >\n                    <FiPrinter className=\"w-5 h-5\" />\n                    Print\n                  </button>\n                </div>\n              </div>\n            </div>\n          </>\n        );\n      })()}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}