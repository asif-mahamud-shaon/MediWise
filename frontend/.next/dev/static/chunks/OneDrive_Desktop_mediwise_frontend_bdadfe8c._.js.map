{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/doctor/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Loading from '@/components/Loading';\r\nimport DoctorSidebar from '@/components/DoctorSidebar';\r\nimport api from '@/lib/api';\r\nimport { FiCalendar, FiFileText, FiClock, FiUsers } from 'react-icons/fi';\r\nimport { format, parseISO } from 'date-fns';\r\n\r\nexport default function DoctorDashboardPage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const [stats, setStats] = useState<any>(null);\r\n  const [doctorProfile, setDoctorProfile] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && !user) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    if (user && user.role !== 'doctor') {\r\n      // Redirect to appropriate dashboard\r\n      if (user.role === 'admin') {\r\n        router.push('/admin/dashboard');\r\n      } else if (user.role === 'patient') {\r\n        router.push('/patient/dashboard');\r\n      } else {\r\n        router.push('/dashboard');\r\n      }\r\n      return;\r\n    }\r\n    if (user && user.role === 'doctor') {\r\n      checkDoctorProfile();\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  const checkDoctorProfile = async () => {\r\n    try {\r\n      const response = await api.get('/doctors/profile/me');\r\n      const doctor = response.data.doctor;\r\n      if (!doctor || doctor.status === 'pending') {\r\n        // Redirect to complete profile if not completed or pending\r\n        router.push('/doctor/complete-profile');\r\n        return;\r\n      } else if (doctor.status === 'approved') {\r\n        setDoctorProfile(doctor);\r\n        fetchDashboardData();\r\n      }\r\n    } catch (error) {\r\n      // If no profile exists, redirect to complete profile\r\n      router.push('/doctor/complete-profile');\r\n    }\r\n  };\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const appointments = await api.get('/appointments?limit=5');\r\n      const prescriptions = await api.get('/prescriptions?limit=5');\r\n      setStats({\r\n        appointments: appointments.data.appointments || [],\r\n        prescriptions: prescriptions.data.prescriptions || [],\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard data:', error);\r\n      setStats({\r\n        appointments: [],\r\n        prescriptions: [],\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user || user.role !== 'doctor') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <Sidebar user={user} logout={logout} />\r\n      <main className=\"ml-64 flex-1 transition-all duration-300\">\r\n        <div className=\"p-8\">\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\r\n              Welcome back, Dr. {user.name}!\r\n            </h1>\r\n            <p className=\"text-gray-600\">Here's an overview of your schedule</p>\r\n          </div>\r\n\r\n          {/* Stats Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-gray-600 text-sm\">Today's Appointments</p>\r\n                  <p className=\"text-3xl font-bold text-teal-600 mt-2\">\r\n                    {stats?.appointments?.filter((a: any) => {\r\n                      const apptDate = format(parseISO(a.appointmentDate), 'yyyy-MM-dd');\r\n                      const today = format(new Date(), 'yyyy-MM-dd');\r\n                      return apptDate === today;\r\n                    }).length || 0}\r\n                  </p>\r\n                </div>\r\n                <FiCalendar className=\"text-4xl text-teal-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-gray-600 text-sm\">Total Appointments</p>\r\n                  <p className=\"text-3xl font-bold text-indigo-600 mt-2\">\r\n                    {stats?.appointments?.length || 0}\r\n                  </p>\r\n                </div>\r\n                <FiClock className=\"text-4xl text-indigo-600\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <p className=\"text-gray-600 text-sm\">Prescriptions</p>\r\n                  <p className=\"text-3xl font-bold text-blue-600 mt-2\">\r\n                    {stats?.prescriptions?.length || 0}\r\n                  </p>\r\n                </div>\r\n                <FiFileText className=\"text-4xl text-blue-600\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Appointments */}\r\n          <div className=\"bg-white rounded-xl shadow-sm p-6 mb-8 border border-gray-100\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-semibold text-gray-800\">Today's Appointments</h2>\r\n              <Link\r\n                href=\"/doctor/appointments\"\r\n                className=\"text-teal-600 hover:text-teal-700 text-sm font-medium\"\r\n              >\r\n                View All â†’\r\n              </Link>\r\n            </div>\r\n            {stats?.appointments && stats.appointments.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {stats.appointments\r\n                  .filter((a: any) => {\r\n                    const apptDate = format(parseISO(a.appointmentDate), 'yyyy-MM-dd');\r\n                    const today = format(new Date(), 'yyyy-MM-dd');\r\n                    return apptDate === today;\r\n                  })\r\n                  .slice(0, 5)\r\n                  .map((appt: any) => (\r\n                    <div\r\n                      key={appt.id}\r\n                      className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\r\n                    >\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-semibold text-gray-800 text-lg\">\r\n                            {appt.patient?.name || 'Patient'}\r\n                          </p>\r\n                          <p className=\"text-sm text-gray-600 mt-2\">\r\n                            {format(parseISO(appt.appointmentDate), 'MM/dd/yyyy')} at {appt.appointmentTime}\r\n                          </p>\r\n                          {appt.reason && (\r\n                            <p className=\"text-sm text-gray-700 mt-2 font-medium\">{appt.reason}</p>\r\n                          )}\r\n                        </div>\r\n                        <span\r\n                          className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                            appt.status === 'confirmed'\r\n                              ? 'bg-green-100 text-green-800'\r\n                              : appt.status === 'pending'\r\n                              ? 'bg-yellow-100 text-yellow-800'\r\n                              : appt.status === 'completed'\r\n                              ? 'bg-blue-100 text-blue-800'\r\n                              : 'bg-red-100 text-red-800'\r\n                          }`}\r\n                        >\r\n                          {appt.status}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <FiCalendar className=\"text-5xl text-gray-300 mx-auto mb-4\" />\r\n                <p className=\"text-gray-500 text-lg\">No appointments for today</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Quick Links */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <Link\r\n              href=\"/doctor/appointments\"\r\n              className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4\"\r\n            >\r\n              <div className=\"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center\">\r\n                <FiCalendar className=\"text-2xl text-teal-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-semibold text-gray-800\">My Appointments</h3>\r\n                <p className=\"text-sm text-gray-600\">View and manage appointments</p>\r\n              </div>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/prescriptions\"\r\n              className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4\"\r\n            >\r\n              <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center\">\r\n                <FiFileText className=\"text-2xl text-indigo-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-semibold text-gray-800\">Prescriptions</h3>\r\n                <p className=\"text-sm text-gray-600\">Create and manage prescriptions</p>\r\n              </div>\r\n            </Link>\r\n            <Link\r\n              href=\"/doctor/profile\"\r\n              className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4\"\r\n            >\r\n              <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                <FiCalendar className=\"text-2xl text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-semibold text-gray-800\">My Profile</h3>\r\n                <p className=\"text-sm text-gray-600\">View and edit profile</p>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}