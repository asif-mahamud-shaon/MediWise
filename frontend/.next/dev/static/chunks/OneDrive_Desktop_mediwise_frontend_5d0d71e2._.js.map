{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/PatientSidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { \n  FiChevronRight,\n  FiHome, \n  FiUser, \n  FiCalendar, \n  FiFileText, \n  FiUsers, \n  FiMessageCircle,\n  FiLogOut\n} from 'react-icons/fi';\nimport { useState } from 'react';\n\ninterface PatientSidebarProps {\n  user: any;\n  logout: () => void;\n}\n\nconst PatientSidebar = ({ user, logout }: PatientSidebarProps) => {\n  const pathname = usePathname();\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'U';\n  };\n\n  const menu = [\n    { href: '/patient/dashboard', label: 'Dashboard', icon: FiHome },\n    { href: '/patient/doctors', label: 'Doctors', icon: FiUsers },\n    { href: '/patient/appointments', label: 'Appointments', icon: FiCalendar },\n    { href: '/patient/chat', label: 'Chats', icon: FiMessageCircle },\n    { href: '/patient/prescriptions', label: 'Prescriptions', icon: FiFileText },\n    { href: '/patient/profile', label: 'My Profile', icon: FiUser },\n  ];\n\n  return (\n    <div className={`${sidebarCollapsed ? 'w-16' : 'w-64'} bg-teal-600 text-white transition-all duration-300 fixed left-0 top-0 h-full z-20`}>\n      <div className=\"p-4\">\n        {/* Collapse/Expand Button */}\n        <button\n          onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n          className=\"w-full flex items-center justify-center p-2 hover:bg-teal-700 rounded-lg transition-colors mb-4\"\n        >\n          <FiChevronRight className={`text-xl transform transition-transform ${sidebarCollapsed ? '' : 'rotate-180'}`} />\n        </button>\n\n        {/* Medical Symbol / Logo */}\n        {!sidebarCollapsed && (\n          <div className=\"flex items-center justify-center mb-6\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-2xl\">ðŸ©º</span>\n              <span className=\"text-xl font-bold\">MediWise</span>\n            </div>\n          </div>\n        )}\n\n        {/* Patient Profile Section */}\n        {!sidebarCollapsed && (\n          <div className=\"mb-6 pb-6 border-b border-teal-500\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <div className=\"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-sm font-semibold\">\n                {getInitials(user?.name || 'P')}\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-semibold truncate\">{user?.name}</p>\n                <p className=\"text-xs text-teal-200 capitalize\">Patient</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Navigation Links */}\n        <nav className=\"space-y-1\">\n          {menu.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname === item.href;\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\n                  isActive\n                    ? 'bg-teal-700 text-white font-semibold'\n                    : 'text-teal-100 hover:bg-teal-700 hover:text-white'\n                }`}\n              >\n                <Icon className=\"text-xl flex-shrink-0\" />\n                {!sidebarCollapsed && <span className=\"text-sm\">{item.label}</span>}\n              </Link>\n            );\n          })}\n        </nav>\n\n        {/* Logout Button */}\n        {!sidebarCollapsed && (\n          <div className=\"absolute bottom-4 left-4 right-4\">\n            <button \n              onClick={logout}\n              className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-teal-100 hover:bg-teal-700 transition-colors\"\n            >\n              <FiLogOut className=\"text-xl\" />\n              <span className=\"text-sm\">LOGOUT</span>\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PatientSidebar;\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAUA;;;AAfA;;;;;AAsBA,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAE,MAAM,EAAuB;;IAC3D,MAAM,WAAW,IAAA,mMAAW;IAC5B,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wNAAQ,EAAC;IAEzD,MAAM,cAAc,CAAC;QACnB,OAAO,MACH,MAAM,MACN,IAAI,CAAC,IAAc,CAAC,CAAC,EAAE,GACvB,KAAK,KACL,eACA,MAAM,GAAG,MAAM;IACrB;IAEA,MAAM,OAAO;QACX;YAAE,MAAM;YAAsB,OAAO;YAAa,MAAM,0MAAM;QAAC;QAC/D;YAAE,MAAM;YAAoB,OAAO;YAAW,MAAM,2MAAO;QAAC;QAC5D;YAAE,MAAM;YAAyB,OAAO;YAAgB,MAAM,8MAAU;QAAC;QACzE;YAAE,MAAM;YAAiB,OAAO;YAAS,MAAM,mNAAe;QAAC;QAC/D;YAAE,MAAM;YAA0B,OAAO;YAAiB,MAAM,8MAAU;QAAC;QAC3E;YAAE,MAAM;YAAoB,OAAO;YAAc,MAAM,0MAAM;QAAC;KAC/D;IAED,qBACE,4OAAC;QAAI,WAAW,GAAG,mBAAmB,SAAS,OAAO,kFAAkF,CAAC;kBACvI,cAAA,4OAAC;YAAI,WAAU;;8BAEb,4OAAC;oBACC,SAAS,IAAM,oBAAoB,CAAC;oBACpC,WAAU;8BAEV,cAAA,4OAAC,kNAAc;wBAAC,WAAW,CAAC,uCAAuC,EAAE,mBAAmB,KAAK,cAAc;;;;;;;;;;;gBAI5G,CAAC,kCACA,4OAAC;oBAAI,WAAU;8BACb,cAAA,4OAAC;wBAAI,WAAU;;0CACb,4OAAC;gCAAK,WAAU;0CAAW;;;;;;0CAC3B,4OAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;;;;;;gBAMzC,CAAC,kCACA,4OAAC;oBAAI,WAAU;8BACb,cAAA,4OAAC;wBAAI,WAAU;;0CACb,4OAAC;gCAAI,WAAU;0CACZ,YAAY,MAAM,QAAQ;;;;;;0CAE7B,4OAAC;gCAAI,WAAU;;kDACb,4OAAC;wCAAE,WAAU;kDAAkC,MAAM;;;;;;kDACrD,4OAAC;wCAAE,WAAU;kDAAmC;;;;;;;;;;;;;;;;;;;;;;;8BAOxD,4OAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAC;wBACT,MAAM,OAAO,KAAK,IAAI;wBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;wBACvC,qBACE,4OAAC,yNAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,+DAA+D,EACzE,WACI,yCACA,oDACJ;;8CAEF,4OAAC;oCAAK,WAAU;;;;;;gCACf,CAAC,kCAAoB,4OAAC;oCAAK,WAAU;8CAAW,KAAK,KAAK;;;;;;;2BATtD,KAAK,IAAI;;;;;oBAYpB;;;;;;gBAID,CAAC,kCACA,4OAAC;oBAAI,WAAU;8BACb,cAAA,4OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,4OAAC,4MAAQ;gCAAC,WAAU;;;;;;0CACpB,4OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxC;GA/FM;;QACa,mMAAW;;;KADxB;uCAiGS","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/patient/prescriptions/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport PatientSidebar from '@/components/PatientSidebar';\r\nimport Loading from '@/components/Loading';\r\nimport api from '@/lib/api';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { FiFileText } from 'react-icons/fi';\r\n\r\nexport default function PatientPrescriptionsPage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const router = useRouter();\r\n  const [prescriptions, setPrescriptions] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && (!user || user.role !== 'patient')) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    if (user && user.role === 'patient') {\r\n      fetchPrescriptions();\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  const fetchPrescriptions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/prescriptions?limit=100`);\r\n      let allPrescriptions = response.data.prescriptions || [];\r\n      \r\n      // Filter prescriptions for current patient\r\n      allPrescriptions = allPrescriptions.filter((prescription: any) => \r\n        prescription.patient?.email === user?.email || prescription.patientId === user?.id\r\n      );\r\n      \r\n      // Sort by date (most recent first)\r\n      allPrescriptions.sort((a: any, b: any) => {\r\n        const dateA = new Date(a.createdAt).getTime();\r\n        const dateB = new Date(b.createdAt).getTime();\r\n        return dateB - dateA;\r\n      });\r\n\r\n      setPrescriptions(allPrescriptions);\r\n    } catch (error) {\r\n      console.error('Error fetching prescriptions:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user || user.role !== 'patient') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <PatientSidebar user={user} logout={logout} />\r\n      <main className=\"ml-64 flex-1 p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">My Prescriptions</h1>\r\n\r\n          {/* Prescriptions List */}\r\n          {prescriptions.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg shadow-sm p-12 text-center\">\r\n              <FiFileText className=\"text-6xl text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500 text-lg\">No prescriptions found</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {prescriptions.map((prescription) => (\r\n                <div\r\n                  key={prescription.id}\r\n                  className=\"bg-white rounded-lg shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow\"\r\n                >\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-800 text-lg mb-1\">\r\n                        Prescription by Dr. {prescription.doctor?.user?.name || 'Unknown Doctor'}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        {format(parseISO(prescription.createdAt), 'MMM dd, yyyy')}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {prescription.diagnosis && (\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-medium text-gray-700 mb-1\">Diagnosis:</h4>\r\n                      <p className=\"text-gray-600\">{prescription.diagnosis}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {prescription.medicines && prescription.medicines.length > 0 && (\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-medium text-gray-700 mb-2\">Medicines:</h4>\r\n                      <ul className=\"space-y-1\">\r\n                        {prescription.medicines.map((medicine: any, idx: number) => (\r\n                          <li key={idx} className=\"text-gray-600\">\r\n                            â€¢ {medicine.name}\r\n                            {medicine.dosage && ` - ${medicine.dosage}`}\r\n                            {medicine.frequency && ` (${medicine.frequency})`}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  {prescription.instructions && (\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-medium text-gray-700 mb-1\">Instructions:</h4>\r\n                      <p className=\"text-gray-600 whitespace-pre-wrap\">{prescription.instructions}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {prescription.tests && prescription.tests.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"font-medium text-gray-700 mb-2\">Tests Recommended:</h4>\r\n                      <ul className=\"space-y-1\">\r\n                        {prescription.tests.map((test: string, idx: number) => (\r\n                          <li key={idx} className=\"text-gray-600\">â€¢ {test}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}