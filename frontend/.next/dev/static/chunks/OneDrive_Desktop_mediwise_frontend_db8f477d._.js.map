{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,4OAAC;QAAI,WAAU;kBACb,cAAA,4OAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;KANM;uCAQS","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/AdminSidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { \n  FiHome, \n  FiUser, \n  FiCalendar, \n  FiFileText, \n  FiUsers, \n  FiSettings,\n  FiLogOut,\n  FiMessageCircle,\n  FiShoppingBag,\n  FiDollarSign,\n  FiX,\n  FiMenu,\n  FiBriefcase,\n  FiLayers,\n  FiHelpCircle,\n  FiFlag,\n  FiPackage,\n  FiBook\n} from 'react-icons/fi';\nimport { useState, useEffect } from 'react';\n\ninterface AdminSidebarProps {\n  activeSection?: string;\n  onSectionChange?: (section: string) => void;\n}\n\nconst AdminSidebar = ({ activeSection, onSectionChange }: AdminSidebarProps) => {\n  const pathname = usePathname();\n  const { user, logout } = useAuth();\n  const { t } = useLanguage();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  const mainMenu = [\n    { href: '/admin/dashboard', label: 'Overview', icon: FiHome },\n    { href: '/admin/patients', label: 'Patient', icon: FiUsers },\n    { href: '/admin/appointments', label: 'Appointment', icon: FiCalendar },\n  ];\n\n  const otherMenu = [\n    { href: '/admin/doctors', label: 'Doctors', icon: FiUser },\n    { href: '/admin/employees', label: 'Employee', icon: FiUsers },\n    { href: '/admin/departments', label: 'Department', icon: FiLayers },\n    { href: '/admin/payments', label: 'Payment', icon: FiDollarSign },\n    { href: '/admin/products', label: 'Product & Stock', icon: FiPackage },\n    { href: '/admin/jobs', label: 'Jobs', icon: FiBriefcase },\n    { href: '/admin/applications', label: 'Applications', icon: FiFileText },\n    { href: '/admin/ads', label: 'Ad Management', icon: FiShoppingBag },\n    { href: '/admin/blogs', label: 'Blog Approval', icon: FiBook },\n    { href: '/admin/chats', label: 'Chats', icon: FiMessageCircle },\n  ];\n\n  const helpSettings = [\n    { href: '/admin/help', label: 'Help & Center', icon: FiHelpCircle },\n    { href: '/admin/settings', label: 'Settings', icon: FiSettings },\n    { href: '/admin/reports', label: 'Report', icon: FiFlag },\n  ];\n\n  const menuSections = [\n    { title: 'MAIN MENU', items: mainMenu },\n    { title: 'OTHER MENU', items: otherMenu },\n    { title: 'HELP & SETTINGS', items: helpSettings },\n  ];\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'A';\n  };\n\n  // Close mobile menu when route changes\n  useEffect(() => {\n    setMobileMenuOpen(false);\n  }, [pathname]);\n\n  return (\n    <>\n      {/* Mobile Menu Button */}\n      <button\n        onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n        className=\"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700\"\n      >\n        {mobileMenuOpen ? <FiX className=\"text-2xl\" /> : <FiMenu className=\"text-2xl\" />}\n      </button>\n\n      {/* Mobile Overlay */}\n      {mobileMenuOpen && (\n        <div\n          className=\"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40\"\n          onClick={() => setMobileMenuOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div className={`\n        ${mobileMenuOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n        fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg z-40 lg:z-10 border-r border-gray-200 dark:border-gray-700 transition-all duration-300\n      `}>\n      {/* Logo Section */}\n      <div className=\"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <img src=\"/logo.png\" alt=\"MediWise Logo\" className=\"w-10 h-10 object-contain\" onError={(e) => {\n              const target = e.target as HTMLImageElement;\n              target.style.display = 'none';\n            }} />\n            <div>\n              <h1 className=\"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100\">MediWise</h1>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Healthcare Management</p>\n            </div>\n          </div>\n          {/* Close Button - Mobile only */}\n          <button\n            onClick={() => setMobileMenuOpen(false)}\n            className=\"lg:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n          >\n            <FiX className=\"text-xl text-gray-600 dark:text-gray-400\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Navigation Sections */}\n      <nav className=\"p-3 sm:p-4 space-y-4 sm:space-y-6 overflow-y-auto h-[calc(100vh-180px)]\">\n        {menuSections.map((section) => (\n          <div key={section.title}>\n            <h3 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-4\">\n              {section.title}\n            </h3>\n            <div className=\"space-y-1\">\n              {section.items.map((item) => {\n                const Icon = item.icon;\n                // Use activeSection if provided, otherwise use pathname\n                const isActive = activeSection \n                  ? activeSection === item.href \n                  : (pathname === item.href || pathname?.startsWith(item.href + '/') || pathname?.includes(item.href));\n                \n                const handleClick = (e: React.MouseEvent) => {\n                  // Only use onSectionChange for pages that are rendered in dashboard\n                  // For other pages, let Link handle navigation normally\n                  const dashboardPages = [\n                    '/admin/dashboard',\n                    '/admin/users',\n                    '/admin/doctors',\n                    '/admin/appointments',\n                    '/admin/chats',\n                    '/admin/prescriptions',\n                    '/admin/ads'\n                  ];\n                  \n                  if (onSectionChange && dashboardPages.includes(item.href)) {\n                    e.preventDefault();\n                    onSectionChange(item.href);\n                  }\n                  // Otherwise, let Link handle navigation normally to separate pages\n                };\n\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={handleClick}\n                    className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors relative ${\n                      isActive\n                        ? 'bg-teal-50 dark:bg-teal-900/30 text-teal-600 dark:text-teal-400 font-medium'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    }`}\n                  >\n                    {isActive && (\n                      <div className=\"absolute right-0 top-0 bottom-0 w-1 bg-teal-600 rounded-l\"></div>\n                    )}\n                    <Icon className=\"text-xl\" />\n                    <span className=\"text-sm\">{item.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n      </nav>\n\n      {/* Bottom Profile Section */}\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 transition-colors\">\n        <div className=\"mb-3 px-2\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n              {getInitials(user?.name || 'Admin')}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\">{user?.name || 'Admin'}</p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Super admin</p>\n            </div>\n          </div>\n        </div>\n        <button\n          onClick={logout}\n          className=\"w-full flex items-center justify-center gap-3 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm\"\n        >\n          <FiLogOut className=\"text-lg\" />\n          <span>Logout</span>\n        </button>\n      </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminSidebar;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/AdminHeader.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useNotification } from '@/context/NotificationContext';\nimport { useTheme } from '@/context/ThemeContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { useRouter } from 'next/navigation';\nimport { \n  FiSearch, \n  FiBell, \n  FiSettings, \n  FiCalendar, \n  FiChevronDown,\n  FiPlus,\n  FiFilter,\n  FiFlag,\n  FiX,\n  FiMoon,\n  FiSun,\n  FiVolume2,\n  FiVolumeX,\n  FiGlobe,\n  FiChevronLeft,\n  FiChevronRight\n} from 'react-icons/fi';\n\ninterface AdminHeaderProps {\n  title: string;\n  backButton?: boolean;\n  onBack?: () => void;\n  searchPlaceholder?: string;\n  onSearch?: (query: string) => void;\n  actionButton?: {\n    label: string;\n    onClick: () => void;\n    icon?: React.ReactNode;\n  };\n  filterButton?: {\n    onClick: () => void;\n  };\n  onQuickAdd?: {\n    onAddUser?: () => void;\n    onAddDoctor?: () => void;\n    onAddAppointment?: () => void;\n    onAddAdvertisement?: () => void;\n  };\n}\n\nconst AdminHeader = ({\n  title,\n  backButton = false,\n  onBack,\n  searchPlaceholder = 'Search for anything here...',\n  onSearch,\n  actionButton,\n  filterButton,\n  onQuickAdd,\n}: AdminHeaderProps) => {\n  const { user, logout } = useAuth();\n  const { showNotification } = useNotification();\n  const { theme, toggleTheme } = useTheme();\n  const { language, setLanguage, t } = useLanguage();\n  const router = useRouter();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [notifications] = useState([\n    { id: 1, title: 'New appointment request', message: 'Dr. Smith has a new appointment', time: '2 min ago', read: false },\n    { id: 2, title: 'System update', message: 'Scheduled maintenance tonight', time: '1 hour ago', read: false },\n  ]);\n  const [flaggedItems] = useState(4);\n  const [completedFlags] = useState(1);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const userMenuRef = useRef<HTMLDivElement>(null);\n  const notificationsRef = useRef<HTMLDivElement>(null);\n  const settingsRef = useRef<HTMLDivElement>(null);\n  const calendarRef = useRef<HTMLDivElement>(null);\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'A';\n  };\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    if (onSearch) {\n      onSearch(value);\n    }\n  };\n\n  // Close menus when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\n        setShowUserMenu(false);\n      }\n      if (notificationsRef.current && !notificationsRef.current.contains(event.target as Node)) {\n        setShowNotifications(false);\n      }\n      if (settingsRef.current && !settingsRef.current.contains(event.target as Node)) {\n        setShowSettings(false);\n      }\n      if (calendarRef.current && !calendarRef.current.contains(event.target as Node)) {\n        setShowCalendar(false);\n      }\n    };\n\n    if (showUserMenu || showNotifications || showSettings || showCalendar) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showUserMenu, showNotifications, showSettings, showCalendar]);\n\n  const unreadNotificationsCount = notifications.filter(n => !n.read).length;\n\n  const handleProfileSettings = () => {\n    setShowUserMenu(false);\n    // Navigate to profile page based on user role\n    if (user?.role === 'admin') {\n      // Admin should stay on dashboard - profile settings can be shown via modal or section\n      // For now, just show a notification that admin profile management is available in dashboard\n      showNotification('Admin profile settings are available in the dashboard', 'info');\n      // Don't navigate away - admin should stay on current page\n      return;\n    } else if (user?.role === 'patient') {\n      router.push('/profile');\n    } else if (user?.role === 'doctor') {\n      router.push('/doctor/profile');\n    } else {\n      router.push('/dashboard');\n    }\n  };\n\n  const handleAccountSettings = () => {\n    setShowUserMenu(false);\n    // For admin, account settings can be managed in dashboard\n    if (user?.role === 'admin') {\n      showNotification('Account settings are available in the dashboard', 'info');\n      // Don't navigate away\n      return;\n    }\n    // For other roles, navigate to settings page if exists\n    // router.push('/settings'); // Uncomment when settings page is created\n    showNotification('Settings page coming soon', 'info');\n  };\n\n  const handleLogout = () => {\n    setShowUserMenu(false);\n    // Show confirmation using notification - user can proceed with logout\n    if (window.confirm('Are you sure you want to logout?')) {\n      showNotification('Logging out...', 'info', 1000);\n      setTimeout(() => {\n        logout();\n      }, 500);\n    }\n  };\n\n  const [quickAddMenu, setQuickAddMenu] = useState(false);\n  const quickAddRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (quickAddRef.current && !quickAddRef.current.contains(event.target as Node)) {\n        setQuickAddMenu(false);\n      }\n    };\n    if (quickAddMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [quickAddMenu]);\n\n  return (\n    <header className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-8 py-4 sticky top-0 z-20 transition-colors\">\n      <div className=\"flex items-center justify-between\">\n        {/* Left Section - Title and Back Button */}\n        <div className=\"flex items-center gap-4\">\n          {backButton && (\n            <button\n              onClick={onBack}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n          )}\n          <h1 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">\n            {title ? (t(title.toLowerCase().replace(/\\s+/g, '_')) || title) : 'Admin Dashboard'}\n          </h1>\n        </div>\n\n        {/* Center Section - Search */}\n        <div className=\"flex-1 max-w-md mx-8\">\n          <div className=\"relative\">\n            <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500\" />\n            <input\n              type=\"text\"\n              placeholder={searchPlaceholder}\n              value={searchQuery}\n              onChange={handleSearch}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Right Section - Actions and User */}\n        <div className=\"flex items-center gap-4\">\n          {actionButton && (\n            <button\n              onClick={actionButton.onClick}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n            >\n              {actionButton.icon || <FiPlus className=\"text-lg\" />}\n              {actionButton.label}\n            </button>\n          )}\n          \n          {filterButton && (\n            <button\n              onClick={filterButton.onClick}\n              className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-700 dark:text-gray-300\"\n            >\n              <FiFilter className=\"text-lg\" />\n              Filters\n            </button>\n          )}\n\n          {/* Quick Add Button */}\n          <div className=\"relative\" ref={quickAddRef}>\n            <button \n              onClick={() => setQuickAddMenu(!quickAddMenu)}\n              className=\"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiPlus className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {quickAddMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50\">\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddUser) {\n                      onQuickAdd.onAddUser();\n                    } else {\n                      router.push('/admin/users');\n                      showNotification('Navigate to Users section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add User\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddDoctor) {\n                      onQuickAdd.onAddDoctor();\n                    } else {\n                      router.push('/admin/doctors');\n                      showNotification('Navigate to Doctors section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Doctor\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddAppointment) {\n                      onQuickAdd.onAddAppointment();\n                    } else {\n                      router.push('/admin/appointments');\n                      showNotification('Navigate to Appointments section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Appointment\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddAdvertisement) {\n                      onQuickAdd.onAddAdvertisement();\n                    } else {\n                      router.push('/admin/ads');\n                      showNotification('Navigate to Advertisements section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Advertisement\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Notifications Button */}\n          <div className=\"relative\" ref={notificationsRef}>\n            <button \n              onClick={() => setShowNotifications(!showNotifications)}\n              className=\"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiBell className=\"text-xl text-gray-600 dark:text-gray-300\" />\n              {unreadNotificationsCount > 0 && (\n                <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n              )}\n            </button>\n            {showNotifications && (\n              <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 max-h-96 overflow-y-auto\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n                  <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Notifications</h3>\n                  <button className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\">Mark all as read</button>\n                </div>\n                <div className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                  {notifications.map((notification) => (\n                    <div key={notification.id} className=\"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer\">\n                      <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{notification.title}</p>\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">{notification.message}</p>\n                      <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">{notification.time}</p>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"px-4 py-2 border-t border-gray-200 dark:border-gray-700\">\n                  <button className=\"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:underline\">\n                    View all notifications\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Settings Button */}\n          <div className=\"relative\" ref={settingsRef}>\n            <button \n              onClick={() => setShowSettings(!showSettings)}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiSettings className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {showSettings && (\n              <div className=\"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50\">\n                <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Settings</h3>\n                    <button \n                      onClick={() => setShowSettings(false)}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiX className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"p-4 space-y-4 max-h-96 overflow-y-auto\">\n                  {/* Dark Mode Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      {theme === 'dark' ? (\n                        <FiMoon className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      ) : (\n                        <FiSun className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      )}\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('dark_mode')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('toggle_dark_theme')}</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={toggleTheme}\n                      className={`relative w-12 h-6 rounded-full transition-colors ${\n                        theme === 'dark' ? 'bg-blue-600' : 'bg-gray-300'\n                      }`}\n                    >\n                      <span\n                        className={`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${\n                          theme === 'dark' ? 'translate-x-6' : 'translate-x-0'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  {/* Language Settings */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <FiGlobe className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('language')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('choose_language')}</p>\n                      </div>\n                    </div>\n                    <select \n                      value={language}\n                      onChange={(e) => setLanguage(e.target.value as 'en' | 'bn' | 'hi')}\n                      className=\"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-sm\"\n                    >\n                      <option value=\"en\">English</option>\n                      <option value=\"bn\">বাংলা</option>\n                      <option value=\"hi\">Hindi</option>\n                    </select>\n                  </div>\n\n                  {/* Notification Sound */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <FiVolume2 className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('notification_sound')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('enable_sound_alerts')}</p>\n                      </div>\n                    </div>\n                    <button className=\"w-12 h-6 rounded-full bg-blue-600 relative\">\n                      <span className=\"absolute top-1 right-1 w-4 h-4 bg-white rounded-full\" />\n                    </button>\n                  </div>\n\n                  {/* Auto-refresh */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('auto_refresh')}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('auto_refresh_desc')}</p>\n                    </div>\n                    <button className=\"w-12 h-6 rounded-full bg-blue-600 relative\">\n                      <span className=\"absolute top-1 right-1 w-4 h-4 bg-white rounded-full\" />\n                    </button>\n                  </div>\n\n                  {/* Data Preferences */}\n                  <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2\">{t('data_preferences')}</p>\n                    <div className=\"space-y-2\">\n                      <label className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" className=\"rounded\" />\n                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">{t('save_search_history')}</span>\n                      </label>\n                      <label className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" className=\"rounded\" />\n                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">{t('enable_analytics')}</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Calendar Button */}\n          <div className=\"relative\" ref={calendarRef}>\n            <button \n              onClick={() => setShowCalendar(!showCalendar)}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiCalendar className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {showCalendar && (\n              <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-50\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">{t('calendar')}</h3>\n                  <button \n                    onClick={() => setShowCalendar(false)}\n                    className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                  >\n                    <FiX className=\"text-gray-600 dark:text-gray-300\" />\n                  </button>\n                </div>\n                \n                {/* Calendar Widget */}\n                <div>\n                  {/* Month Navigation */}\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <button\n                      onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1))}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiChevronLeft className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                    <h4 className=\"text-sm font-semibold text-gray-800 dark:text-gray-100\">\n                      {currentDate.toLocaleDateString(language === 'bn' ? 'bn-BD' : language === 'hi' ? 'hi-IN' : 'en-US', { month: 'long', year: 'numeric' })}\n                    </h4>\n                    <button\n                      onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1))}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiChevronRight className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                  </div>\n\n                  {/* Day Headers */}\n                  <div className=\"grid grid-cols-7 gap-1 mb-2\">\n                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((day, i) => (\n                      <div key={i} className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 text-center py-1\">{day}</div>\n                    ))}\n                  </div>\n\n                  {/* Calendar Days */}\n                  <div className=\"grid grid-cols-7 gap-1\">\n                    {(() => {\n                      const year = currentDate.getFullYear();\n                      const month = currentDate.getMonth();\n                      const firstDay = new Date(year, month, 1).getDay();\n                      const daysInMonth = new Date(year, month + 1, 0).getDate();\n                      const today = new Date();\n                      \n                      const days = [];\n                      \n                      // Empty cells for days before month starts\n                      for (let i = 0; i < firstDay; i++) {\n                        days.push(<div key={`empty-${i}`} className=\"h-8\"></div>);\n                      }\n                      \n                      // Days of the month\n                      for (let day = 1; day <= daysInMonth; day++) {\n                        const date = new Date(year, month, day);\n                        const isToday = date.toDateString() === today.toDateString();\n                        const isCurrentMonth = date.getMonth() === month;\n                        \n                        days.push(\n                          <button\n                            key={day}\n                            className={`h-8 w-8 rounded text-xs font-medium transition-colors ${\n                              isToday\n                                ? 'bg-blue-600 text-white dark:bg-blue-500'\n                                : isCurrentMonth\n                                ? 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                                : 'text-gray-400 dark:text-gray-600'\n                            }`}\n                          >\n                            {day}\n                          </button>\n                        );\n                      }\n                      \n                      return days;\n                    })()}\n                  </div>\n\n                  {/* Today Button */}\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <button\n                      onClick={() => {\n                        setCurrentDate(new Date());\n                        showNotification(t('calendar_today'), 'info');\n                      }}\n                      className=\"w-full px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                      {t('today')}\n                    </button>\n                  </div>\n\n                  {/* Current Date Display */}\n                  <div className=\"mt-3 text-center\">\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                      {t('today')}: {new Date().toLocaleDateString(language === 'bn' ? 'bn-BD' : language === 'hi' ? 'hi-IN' : 'en-US', { weekday: 'short', month: 'short', day: 'numeric' })}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Flagged Items Button */}\n          <button \n            onClick={() => showNotification(`${t('flagged_items') || 'Flagged items'}: ${completedFlags}/${flaggedItems}`, 'info')}\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-1\"\n          >\n            <FiFlag className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            <span className=\"text-sm text-gray-600 dark:text-gray-300\">{completedFlags}/{flaggedItems}</span>\n          </button>\n\n          {/* User Profile Dropdown */}\n          <div className=\"relative\" ref={userMenuRef}>\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center gap-3 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                {getInitials(user?.name || 'Admin')}\n              </div>\n              <div className=\"text-left hidden md:block\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{user?.name || 'Admin User'}</p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Super admin</p>\n              </div>\n              <FiChevronDown className={`text-gray-600 dark:text-gray-300 hidden md:block transition-transform ${showUserMenu ? 'rotate-180' : ''}`} />\n            </button>\n\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50\">\n                <button\n                  onClick={handleProfileSettings}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Profile Settings\n                </button>\n                <button\n                  onClick={handleAccountSettings}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Account Settings\n                </button>\n                <div className=\"border-t border-gray-200 dark:border-gray-700 my-2\"></div>\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\n                >\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default AdminHeader;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1814, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/utils/doctorName.ts"],"sourcesContent":["/**\n * Formats doctor name with appropriate prefix\n * - Removes any existing \"Dr.\" or \"Prof. Dr.\" prefix\n * - Adds \"Prof. Dr.\" if doctor is a professor (checks qualification)\n * - Otherwise adds \"Dr.\" prefix\n */\nexport function formatDoctorName(name: string, qualification?: string): string {\n  if (!name) return '';\n\n  // Remove any existing prefixes (case-insensitive)\n  let cleanName = name\n    .replace(/^(prof\\.?\\s*)?dr\\.?\\s*/i, '')\n    .replace(/^dr\\.?\\s*/i, '')\n    .trim();\n\n  // Check if doctor is a professor (check qualification for \"professor\" or \"prof\")\n  const isProfessor = qualification && (\n    qualification.toLowerCase().includes('professor') ||\n    qualification.toLowerCase().includes('prof.') ||\n    qualification.toLowerCase().includes('prof ')\n  );\n\n  // Add appropriate prefix\n  if (isProfessor) {\n    return `Prof. Dr. ${cleanName}`;\n  } else {\n    return `Dr. ${cleanName}`;\n  }\n}\n\n/**\n * Formats doctor name in Bengali with appropriate prefix\n * - Removes any existing \"ডাঃ\" or \"প্রফেসর ডাঃ\" prefix\n * - Adds \"প্রফেসর ডাঃ\" if doctor is a professor (checks qualification)\n * - Otherwise adds \"ডাঃ\" prefix\n */\nexport function formatDoctorNameBengali(name: string, qualification?: string): string {\n  if (!name) return '';\n\n  // Remove any existing prefixes (case-insensitive)\n  let cleanName = name\n    .replace(/^(প্রফেসর\\s*)?ডাঃ\\s*/i, '')\n    .replace(/^ডাঃ\\s*/i, '')\n    .replace(/^(prof\\.?\\s*)?dr\\.?\\s*/i, '')\n    .replace(/^dr\\.?\\s*/i, '')\n    .trim();\n\n  // Check if doctor is a professor (check qualification for \"professor\" or \"prof\")\n  const isProfessor = qualification && (\n    qualification.toLowerCase().includes('professor') ||\n    qualification.toLowerCase().includes('prof.') ||\n    qualification.toLowerCase().includes('prof ') ||\n    qualification.toLowerCase().includes('প্রফেসর')\n  );\n\n  // Add appropriate prefix\n  if (isProfessor) {\n    return `প্রফেসর ডাঃ ${cleanName}`;\n  } else {\n    return `ডাঃ ${cleanName}`;\n  }\n}\n\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;AACM,SAAS,iBAAiB,IAAY,EAAE,aAAsB;IACnE,IAAI,CAAC,MAAM,OAAO;IAElB,kDAAkD;IAClD,IAAI,YAAY,KACb,OAAO,CAAC,2BAA2B,IACnC,OAAO,CAAC,cAAc,IACtB,IAAI;IAEP,iFAAiF;IACjF,MAAM,cAAc,iBAAiB,CACnC,cAAc,WAAW,GAAG,QAAQ,CAAC,gBACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,QACvC;IAEA,yBAAyB;IACzB,IAAI,aAAa;QACf,OAAO,CAAC,UAAU,EAAE,WAAW;IACjC,OAAO;QACL,OAAO,CAAC,IAAI,EAAE,WAAW;IAC3B;AACF;AAQO,SAAS,wBAAwB,IAAY,EAAE,aAAsB;IAC1E,IAAI,CAAC,MAAM,OAAO;IAElB,kDAAkD;IAClD,IAAI,YAAY,KACb,OAAO,CAAC,yBAAyB,IACjC,OAAO,CAAC,YAAY,IACpB,OAAO,CAAC,2BAA2B,IACnC,OAAO,CAAC,cAAc,IACtB,IAAI;IAEP,iFAAiF;IACjF,MAAM,cAAc,iBAAiB,CACnC,cAAc,WAAW,GAAG,QAAQ,CAAC,gBACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,YACrC,cAAc,WAAW,GAAG,QAAQ,CAAC,UACvC;IAEA,yBAAyB;IACzB,IAAI,aAAa;QACf,OAAO,CAAC,YAAY,EAAE,WAAW;IACnC,OAAO;QACL,OAAO,CAAC,IAAI,EAAE,WAAW;IAC3B;AACF","debugId":null}},
    {"offset": {"line": 1864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/admin/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useRef, useImperativeHandle } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useNotification } from '@/context/NotificationContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Loading from '@/components/Loading';\nimport api from '@/lib/api';\nimport { FiCalendar, FiUser, FiFileText, FiClock, FiMoreVertical, FiEdit, FiTrash2, FiEye, FiX, FiCheck, FiPlus, FiFileText as FiFileTextIcon, FiChevronDown, FiMessageCircle, FiSend, FiSearch, FiPaperclip } from 'react-icons/fi';\nimport { format, parseISO, formatDistanceToNow } from 'date-fns';\nimport AdminSidebar from '@/components/AdminSidebar';\nimport AdminHeader from '@/components/AdminHeader';\nimport { formatDoctorName } from '@/utils/doctorName';\nimport DashboardContent from './DashboardContent';\n\nexport default function AdminDashboardPage() {\n  const { user, loading: authLoading, logout } = useAuth();\n  const { showNotification } = useNotification();\n  const { t } = useLanguage();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [stats, setStats] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [activeSection, setActiveSection] = useState('/admin/dashboard');\n  const [headerSearchQuery, setHeaderSearchQuery] = useState('');\n  const usersViewRef = useRef<any>(null);\n  const appointmentsViewRef = useRef<any>(null);\n  const adsViewRef = useRef<any>(null);\n\n  // Sync activeSection with URL pathname\n  useEffect(() => {\n    // If we're on admin dashboard or one of the admin routes, sync activeSection with pathname\n    if (pathname && (pathname === '/admin/dashboard' || \n        pathname === '/admin/appointments' || \n        pathname === '/admin/users' || \n        pathname === '/admin/doctors' || \n        pathname === '/admin/prescriptions' || \n        pathname === '/admin/ads' ||\n        pathname === '/admin/chats')) {\n      setActiveSection(pathname);\n    } else if (pathname && pathname.startsWith('/admin/')) {\n      // For other admin routes, set to pathname\n      setActiveSection(pathname);\n    }\n  }, [pathname]);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n      return;\n    }\n    if (user && user.role !== 'admin') {\n      // Redirect to appropriate dashboard\n      if (user.role === 'patient') {\n        router.push('/patient/dashboard');\n      } else if (user.role === 'doctor') {\n        router.push('/doctor/dashboard');\n      } else {\n        router.push('/dashboard');\n      }\n      return;\n    }\n    if (user && user.role === 'admin') {\n      fetchDashboardData();\n    }\n  }, [user, authLoading, router]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      const [dashboardResponse, pendingDoctorsResponse, topDoctorsResponse] = await Promise.all([\n        api.get('/admin/dashboard'),\n        api.get('/doctors/admin/pending'),\n        api.get('/admin/top-doctors?limit=5'),\n      ]);\n      setStats({\n        ...dashboardResponse.data,\n        pendingDoctors: pendingDoctorsResponse.data.doctors || [],\n        topDoctors: topDoctorsResponse.data.topDoctors || [],\n      });\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n      setStats({\n        stats: { totalUsers: 0, totalDoctors: 0, totalAppointments: 0, pendingDoctors: 0 },\n        appointments: [],\n        prescriptions: [],\n        pendingDoctors: [],\n        topDoctors: [],\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getSectionTitle = () => {\n    switch (activeSection) {\n      case '/admin/dashboard': return 'Dashboard';\n      case '/admin/appointments': return 'Appointments';\n      case '/admin/users': return 'Users';\n      case '/admin/doctors': return 'Doctors';\n      case '/admin/prescriptions': return 'Prescriptions';\n      case '/admin/ads': return 'Advertisements';\n      case '/admin/chats': return 'Chats';\n      default: return 'Dashboard';\n    }\n  };\n\n  const handleHeaderSearch = (query: string) => {\n    setHeaderSearchQuery(query);\n  };\n\n  // Handle section change - update both state and URL\n  const handleSectionChange = (section: string) => {\n    setActiveSection(section);\n    // Update URL without full page reload\n    router.push(section);\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'admin') {\n    return null;\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\n      <AdminSidebar activeSection={pathname || activeSection} onSectionChange={handleSectionChange} />\n      <main className=\"w-full lg:ml-64 flex-1 bg-gray-50 dark:bg-gray-900 transition-colors\">\n        <AdminHeader \n          title={getSectionTitle()} \n          onSearch={activeSection === '/admin/users' ? handleHeaderSearch : undefined}\n          searchPlaceholder={activeSection === '/admin/users' ? 'Search users by name, email, or phone...' : undefined}\n          onQuickAdd={{\n            onAddUser: () => {\n              handleSectionChange('/admin/users');\n              setTimeout(() => {\n                if (usersViewRef.current?.openCreateModal) {\n                  usersViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n            onAddDoctor: () => {\n              handleSectionChange('/admin/doctors');\n              showNotification('Navigate to Doctors section to review pending doctor applications', 'info');\n            },\n            onAddAppointment: () => {\n              handleSectionChange('/admin/appointments');\n              setTimeout(() => {\n                if (appointmentsViewRef.current?.openCreateModal) {\n                  appointmentsViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n            onAddAdvertisement: () => {\n              handleSectionChange('/admin/ads');\n              setTimeout(() => {\n                if (adsViewRef.current?.openCreateModal) {\n                  adsViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n          }}\n        />\n\n        <div className=\"p-8\">\n          {(activeSection === '/admin/dashboard' || activeSection === '/dashboard') && stats && (\n            <>\n              <div className=\"mb-6\">\n                <h2 className=\"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2\">\n                  {t('welcome_back')}, {user.name}!\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">{t('dashboard_overview') || \"Here's an overview of your system\"}</p>\n              </div>\n\n              <DashboardContent stats={stats} onRefresh={fetchDashboardData} />\n            </>\n          )}\n\n          {/* Keep old dashboard as fallback for other sections */}\n          {(activeSection !== '/admin/dashboard' && activeSection !== '/dashboard') && (\n            <div className=\"space-y-8\">\n                {/* Stats Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_users')}</p>\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalUsers || 0}</p>\n                      </div>\n                      <FiUser className=\"text-4xl text-teal-600 dark:text-teal-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_doctors')}</p>\n                        <p className=\"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mt-2\">{stats.stats?.totalDoctors || 0}</p>\n                      </div>\n                      <FiUser className=\"text-4xl text-indigo-600 dark:text-indigo-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_appointments')}</p>\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalAppointments || 0}</p>\n                      </div>\n                      <FiCalendar className=\"text-4xl text-teal-600 dark:text-teal-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('pending_doctors')}</p>\n                        <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2\">{stats.stats?.pendingDoctors || 0}</p>\n                      </div>\n                      <FiClock className=\"text-4xl text-orange-600 dark:text-orange-400\" />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Recent Appointments and Top Doctors Section */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {/* Recent Appointments Section */}\n                  {stats.recentAppointments && stats.recentAppointments.length > 0 && (\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('recent_appointments')}</h2>\n                        <button\n                          onClick={() => handleSectionChange('/admin/appointments')}\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\n                        >\n                          {t('view_all')} →\n                        </button>\n                      </div>\n                      <div className=\"space-y-3\">\n                        {stats.recentAppointments.slice(0, 5).map((appt: any) => (\n                        <div\n                          key={appt.id}\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\n                        >\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\n                              {appt.patient?.name || 'Patient'} - {formatDoctorName(appt.doctor?.user?.name || 'Doctor', appt.doctor?.qualification)}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                                {format(parseISO(appt.appointmentDate), 'MM/dd/yyyy')} at {appt.appointmentTime}\n                              </p>\n                              {appt.reason && (\n                                <p className=\"text-sm text-gray-700 dark:text-gray-300 mt-1\">{appt.reason}</p>\n                              )}\n                            </div>\n                            <span\n                              className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                                appt.status === 'confirmed'\n                                  ? 'bg-green-100 text-green-800'\n                                  : appt.status === 'pending'\n                                  ? 'bg-yellow-100 text-yellow-800'\n                                  : appt.status === 'completed'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : 'bg-red-100 text-red-800'\n                              }`}\n                            >\n                              {appt.status}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Top Doctors Section */}\n                  {stats.topDoctors && stats.topDoctors.length > 0 && (\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('top_doctors')}</h2>\n                        <button\n                          onClick={() => handleSectionChange('/admin/doctors')}\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\n                        >\n                          {t('view_all')} →\n                        </button>\n                      </div>\n                      <div className=\"space-y-3\">\n                        {stats.topDoctors.map((doctor: any, index: number) => (\n                          <div\n                            key={doctor.id}\n                            className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\n                          >\n                            <div className=\"flex items-center gap-4 flex-1\">\n                              <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-lg\">\n                                {index + 1}\n                              </div>\n                              <div className=\"flex-1\">\n                                <p className=\"font-semibold text-gray-800 dark:text-gray-100\">{formatDoctorName(doctor.name || doctor.user?.name || '', doctor.qualification)}</p>\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization}</p>\n                                <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.email}</p>\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-2xl font-bold text-teal-600 dark:text-teal-400\">{doctor.patientCount}</p>\n                              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Patients</p>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Pending Doctors Section */}\n                {stats.pendingDoctors && stats.pendingDoctors.length > 0 && (\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8 transition-colors\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">Pending Doctor Approvals</h2>\n                      <button\n                        onClick={() => setActiveSection('/admin/doctors')}\n                        className=\"text-teal-600 hover:text-teal-700 text-sm font-medium\"\n                      >\n                        View All →\n                      </button>\n                    </div>\n                    <div className=\"space-y-3\">\n                      {stats.pendingDoctors.slice(0, 5).map((doctor: any) => (\n                        <div\n                          key={doctor.id}\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800\"\n                        >\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\n                              {doctor.user?.name || 'Doctor'}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization || 'N/A'}</p>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.department?.name || 'No Department'}</p>\n                          </div>\n                          <button\n                            onClick={() => setActiveSection('/admin/doctors')}\n                            className=\"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium\"\n                          >\n                            Review\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Quick Actions */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                  <button\n                    onClick={() => setActiveSection('/admin/doctors')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center\">\n                      <FiUser className=\"text-2xl text-indigo-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Doctors</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Approve pending doctors</p>\n                      {stats.stats?.pendingDoctors > 0 && (\n                        <p className=\"text-xs text-orange-600 mt-1 font-medium\">\n                          {stats.stats.pendingDoctors} pending approval\n                        </p>\n                      )}\n                    </div>\n                  </button>\n                  <button\n                    onClick={() => setActiveSection('/admin/appointments')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center\">\n                      <FiCalendar className=\"text-2xl text-teal-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">View Appointments</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Manage all appointments</p>\n                    </div>\n                  </button>\n                  <button\n                    onClick={() => setActiveSection('/admin/users')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\n                      <FiUser className=\"text-2xl text-blue-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Users</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">View all users</p>\n                    </div>\n                  </button>\n                </div>\n              </div>\n          )}\n\n          {/* Render different sections based on activeSection */}\n          {activeSection === '/admin/users' && (\n            <UsersManagementView \n              ref={usersViewRef}\n              onSectionChange={setActiveSection} \n              searchQuery={headerSearchQuery}\n            />\n          )}\n          \n          {activeSection === '/admin/doctors' && (\n            <DoctorsManagementView onSectionChange={setActiveSection} />\n          )}\n\n          {activeSection === '/admin/appointments' && (\n            <AppointmentsManagementView ref={appointmentsViewRef} />\n          )}\n\n          {activeSection === '/admin/chats' && (\n            <AdminChatsManagementView />\n          )}\n\n          {activeSection === '/admin/prescriptions' && (\n            <PrescriptionsManagementView />\n          )}\n\n          {activeSection === '/admin/ads' && (\n            <AdsManagementView ref={adsViewRef} />\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\n// View Components for Admin Dashboard Sections\n// These components are copied from dashboard/page.tsx for use in admin dashboard\n\nconst UsersManagementView = React.forwardRef(({ onSectionChange, searchQuery: externalSearchQuery }: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [users, setUsers] = useState<any[]>([]);\n  const [filteredUsers, setFilteredUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'all' | 'patients' | 'doctors' | 'admins'>('all');\n  const searchQuery = externalSearchQuery || '';\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\n  const [sortColumn, setSortColumn] = useState<string>('name');\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n  const [showUserModal, setShowUserModal] = useState(false);\n  const [isEditingUser, setIsEditingUser] = useState(false);\n  const [isCreatingUser, setIsCreatingUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<any>({});\n  const [newUserForm, setNewUserForm] = useState({\n    name: '',\n    email: '',\n    password: '',\n    phone: '',\n    role: 'patient',\n    address: '',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: () => {\n      setNewUserForm({\n        name: '',\n        email: '',\n        password: '',\n        phone: '',\n        role: 'patient',\n        address: '',\n      });\n      setIsCreatingUser(true);\n      setIsEditingUser(false);\n      setSelectedUser(null);\n      setShowUserModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  useEffect(() => {\n    filterUsers();\n  }, [users, activeTab, searchQuery, sortColumn, sortDirection]);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/admin/users?limit=100');\n      setUsers(response.data.users || []);\n      setFilteredUsers(response.data.users || []);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterUsers = () => {\n    let filtered = [...users];\n    \n    if (activeTab !== 'all') {\n      filtered = filtered.filter((u) => u.role === activeTab.slice(0, -1));\n    }\n    \n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (u) =>\n          u.name?.toLowerCase().includes(query) ||\n          u.email?.toLowerCase().includes(query) ||\n          u.phone?.toLowerCase().includes(query)\n      );\n    }\n    \n    filtered.sort((a, b) => {\n      let aVal = a[sortColumn] || '';\n      let bVal = b[sortColumn] || '';\n      if (typeof aVal === 'string') {\n        aVal = aVal.toLowerCase();\n        bVal = bVal.toLowerCase();\n      }\n      if (sortDirection === 'asc') {\n        return aVal > bVal ? 1 : -1;\n      } else {\n        return aVal < bVal ? 1 : -1;\n      }\n    });\n    \n    setFilteredUsers(filtered);\n  };\n\n  const handleSort = (column: string) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortDirection('asc');\n    }\n  };\n\n  const handleSelectAll = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.checked) {\n      setSelectedUsers(filteredUsers.map((u) => u.id));\n    } else {\n      setSelectedUsers([]);\n    }\n  };\n\n  const handleSelectUser = (userId: string) => {\n    if (selectedUsers.includes(userId)) {\n      setSelectedUsers(selectedUsers.filter((id) => id !== userId));\n    } else {\n      setSelectedUsers([...selectedUsers, userId]);\n    }\n  };\n\n  const getRoleBadgeColor = (role: string) => {\n    switch (role) {\n      case 'admin': return 'bg-purple-100 text-purple-800';\n      case 'doctor': return 'bg-blue-100 text-blue-800';\n      case 'patient': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const handleDeleteUser = async (userId: string, userName: string) => {\n    if (!confirm(`Are you sure you want to delete ${userName}? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await api.delete(`/admin/users/${userId}`);\n      showNotification('User deleted successfully', 'success');\n      setActionMenuOpen(null);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete user', 'error');\n    }\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedUsers.length === 0) {\n      showNotification('Please select users to delete', 'warning');\n      return;\n    }\n\n    if (!confirm(`Are you sure you want to delete ${selectedUsers.length} user(s)? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await api.delete('/admin/users', {\n        data: { userIds: selectedUsers },\n      });\n      showNotification(`${selectedUsers.length} user(s) deleted successfully`, 'success');\n      setSelectedUsers([]);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete users', 'error');\n    }\n  };\n\n  const openUserModal = async (user: any, editMode: boolean = false) => {\n    try {\n      // Fetch full user details\n      const response = await api.get(`/users/${user.id}`);\n      const fullUser = response.data.user;\n      setSelectedUser(fullUser);\n      setEditUserForm({\n        name: fullUser.name || '',\n        email: fullUser.email || '',\n        phone: fullUser.phone || '',\n        address: fullUser.address || '',\n        role: fullUser.role || '',\n        dateOfBirth: fullUser.dateOfBirth ? new Date(fullUser.dateOfBirth).toISOString().split('T')[0] : '',\n        weight: fullUser.weight || '',\n        height: fullUser.height || '',\n        homePhone: fullUser.homePhone || '',\n        workPhone: fullUser.workPhone || '',\n        allergies: Array.isArray(fullUser.allergies) ? fullUser.allergies : [],\n        bloodPressure: fullUser.bloodPressure || '',\n        pulse: fullUser.pulse || '',\n      });\n      setIsEditingUser(editMode);\n      setShowUserModal(true);\n      setActionMenuOpen(null);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to fetch user details', 'error');\n    }\n  };\n\n  const handleCreateUser = async () => {\n    try {\n      if (!newUserForm.name || !newUserForm.email || !newUserForm.password) {\n        showNotification('Name, email, and password are required', 'error');\n        return;\n      }\n\n      await api.post('/auth/register', {\n        name: newUserForm.name,\n        email: newUserForm.email,\n        password: newUserForm.password,\n        phone: newUserForm.phone || null,\n        role: newUserForm.role,\n        address: newUserForm.address || null,\n      });\n      \n      showNotification('User created successfully', 'success');\n      setIsCreatingUser(false);\n      setShowUserModal(false);\n      setNewUserForm({\n        name: '',\n        email: '',\n        password: '',\n        phone: '',\n        role: 'patient',\n        address: '',\n      });\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create user', 'error');\n    }\n  };\n\n  const handleUpdateUser = async () => {\n    try {\n      const updateData = {\n        ...editUserForm,\n        allergies: Array.isArray(editUserForm.allergies) ? editUserForm.allergies : [],\n      };\n\n      await api.put(`/admin/users/${selectedUser.id}`, updateData);\n      showNotification('User updated successfully', 'success');\n      setIsEditingUser(false);\n      setShowUserModal(false);\n      setSelectedUser(null);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update user', 'error');\n    }\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  const activeCount = filteredUsers.length;\n  const totalCount = users.length;\n\n  return (\n    <div>\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All Users ({totalCount})\n          </button>\n          <button\n            onClick={() => setActiveTab('patients')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'patients'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Patients ({users.filter((u) => u.role === 'patient').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('doctors')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'doctors'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Doctors ({users.filter((u) => u.role === 'doctor').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('admins')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'admins'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Admins ({users.filter((u) => u.role === 'admin').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Count and Actions */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{activeCount} users</p>\n        {selectedUsers.length > 0 && (\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">{selectedUsers.length} selected</span>\n            <button\n              onClick={handleDeleteSelected}\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\"\n            >\n              Delete Selected\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}\n                    onChange={handleSelectAll}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('name')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Name\n                    {sortColumn === 'name' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('email')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Email\n                    {sortColumn === 'email' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Phone\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('role')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Role\n                    {sortColumn === 'role' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredUsers.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No users found\n                  </td>\n                </tr>\n              ) : (\n                filteredUsers.map((userItem) => (\n                  <tr key={userItem.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedUsers.includes(userItem.id)}\n                        onChange={() => handleSelectUser(userItem.id)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                          {userItem.name?.charAt(0)?.toUpperCase() || 'U'}\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{userItem.name || 'N/A'}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.email || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.phone || '-'}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getRoleBadgeColor(userItem.role)}`}>\n                        {userItem.role || 'N/A'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right relative\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActionMenuOpen(actionMenuOpen === userItem.id ? null : userItem.id);\n                        }}\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                      >\n                        <FiMoreVertical className=\"text-gray-600\" />\n                      </button>\n                      {actionMenuOpen === userItem.id && (\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openUserModal(userItem, false);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEye className=\"text-base\" />\n                            View Details\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openUserModal(userItem, true);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEdit className=\"text-base\" />\n                            Edit\n                          </button>\n                          <div className=\"border-t border-gray-200 my-2\"></div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteUser(userItem.id, userItem.name);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                          >\n                            <FiTrash2 className=\"text-base\" />\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {actionMenuOpen && (\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\n      )}\n\n      {/* User View/Edit/Create Modal */}\n      {showUserModal && (selectedUser || isCreatingUser) && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            {/* Modal Header */}\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">\n                  {isCreatingUser ? 'Create New User' : isEditingUser ? 'Edit User' : 'User Details'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowUserModal(false);\n                    setSelectedUser(null);\n                    setIsEditingUser(false);\n                    setIsCreatingUser(false);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Modal Body - Scrollable */}\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              {isCreatingUser ? (\n                // Create User Form\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name *</label>\n                    <input\n                      type=\"text\"\n                      value={newUserForm.name}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, name: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email *</label>\n                    <input\n                      type=\"email\"\n                      value={newUserForm.email}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, email: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Password *</label>\n                    <input\n                      type=\"password\"\n                      value={newUserForm.password}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, password: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\n                    <input\n                      type=\"tel\"\n                      value={newUserForm.phone}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, phone: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role *</label>\n                    <select\n                      value={newUserForm.role}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, role: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                    >\n                      <option value=\"patient\">Patient</option>\n                      <option value=\"doctor\">Doctor</option>\n                      <option value=\"admin\">Admin</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\n                    <textarea\n                      value={newUserForm.address}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, address: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      rows={2}\n                    />\n                  </div>\n                </div>\n              ) : (\n                // View/Edit User Form\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"text\"\n                        value={editUserForm.name}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, name: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.name || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"email\"\n                        value={editUserForm.email}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, email: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.email || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"tel\"\n                        value={editUserForm.phone}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, phone: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.phone || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role</label>\n                    {isEditingUser ? (\n                      <select\n                        value={editUserForm.role}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, role: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      >\n                        <option value=\"patient\">Patient</option>\n                        <option value=\"doctor\">Doctor</option>\n                        <option value=\"admin\">Admin</option>\n                      </select>\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.role || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\n                    {isEditingUser ? (\n                      <textarea\n                        value={editUserForm.address}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, address: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                        rows={2}\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.address || 'N/A'}</p>\n                    )}\n                  </div>\n\n                {selectedUser && selectedUser.role === 'patient' && (\n                  <>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Date of Birth</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"date\"\n                          value={editUserForm.dateOfBirth}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, dateOfBirth: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">\n                          {selectedUser.dateOfBirth ? new Date(selectedUser.dateOfBirth).toLocaleDateString() : 'N/A'}\n                        </p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Weight</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.weight}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, weight: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.weight || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Height</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.height}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, height: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.height || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Blood Pressure</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.bloodPressure}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, bloodPressure: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.bloodPressure || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Pulse</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.pulse}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, pulse: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.pulse || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Allergies</label>\n                      {isEditingUser ? (\n                        <div className=\"space-y-2\">\n                          {editUserForm.allergies.map((allergy: string, idx: number) => (\n                            <div key={idx} className=\"flex gap-2\">\n                              <input\n                                type=\"text\"\n                                value={allergy}\n                                onChange={(e) => {\n                                  const updated = [...editUserForm.allergies];\n                                  updated[idx] = e.target.value;\n                                  setEditUserForm({ ...editUserForm, allergies: updated });\n                                }}\n                                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                              />\n                              <button\n                                onClick={() => {\n                                  setEditUserForm({\n                                    ...editUserForm,\n                                    allergies: editUserForm.allergies.filter((_: any, i: number) => i !== idx),\n                                  });\n                                }}\n                                className=\"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n                              >\n                                <FiX />\n                              </button>\n                            </div>\n                          ))}\n                          <button\n                            onClick={() => {\n                              setEditUserForm({\n                                ...editUserForm,\n                                allergies: [...editUserForm.allergies, ''],\n                              });\n                            }}\n                            className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                          >\n                            <FiPlus className=\"inline mr-1\" /> Add Allergy\n                          </button>\n                        </div>\n                      ) : (\n                        <div className=\"flex flex-wrap gap-2\">\n                          {Array.isArray(selectedUser.allergies) && selectedUser.allergies.length > 0 ? (\n                            selectedUser.allergies.map((allergy: string, idx: number) => (\n                              <span key={idx} className=\"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm\">\n                                {allergy}\n                              </span>\n                            ))\n                          ) : (\n                            <p className=\"text-gray-800\">None</p>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                )}\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-4 transition-colors\">\n              {isCreatingUser ? (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowUserModal(false);\n                      setIsCreatingUser(false);\n                      setNewUserForm({\n                        name: '',\n                        email: '',\n                        password: '',\n                        phone: '',\n                        role: 'patient',\n                        address: '',\n                      });\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleCreateUser}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Create User\n                  </button>\n                </>\n              ) : isEditingUser ? (\n                <>\n                  <button\n                    onClick={() => setIsEditingUser(false)}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleUpdateUser}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Save Changes\n                  </button>\n                </>\n              ) : (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowUserModal(false);\n                      setSelectedUser(null);\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => setIsEditingUser(true)}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Edit\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nUsersManagementView.displayName = 'UsersManagementView';\n\nconst DoctorsManagementView = ({ onSectionChange }: any) => {\n  const { showNotification } = useNotification();\n  const [pendingDoctors, setPendingDoctors] = useState<any[]>([]);\n  const [approvedDoctors, setApprovedDoctors] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'pending' | 'approved'>('approved');\n  const [selectedDoctor, setSelectedDoctor] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [notes, setNotes] = useState('');\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\n  const [isEditingDoctor, setIsEditingDoctor] = useState(false);\n  const [editDoctorForm, setEditDoctorForm] = useState<any>({});\n  const [departments, setDepartments] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetchPendingDoctors();\n    fetchApprovedDoctors();\n    fetchDepartments();\n  }, []);\n\n  useEffect(() => {\n    if (activeTab === 'approved') {\n      fetchApprovedDoctors();\n    }\n  }, [activeTab]);\n\n  const fetchDepartments = async () => {\n    try {\n      const response = await api.get('/departments');\n      setDepartments(response.data.departments || []);\n    } catch (error) {\n      console.error('Error fetching departments:', error);\n    }\n  };\n\n  const fetchPendingDoctors = async () => {\n    try {\n      const response = await api.get('/doctors/admin/pending');\n      setPendingDoctors(response.data.doctors || []);\n    } catch (error) {\n      console.error('Error fetching pending doctors:', error);\n    }\n  };\n\n  const fetchApprovedDoctors = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/doctors/admin/approved?limit=100');\n      setApprovedDoctors(response.data.doctors || []);\n    } catch (error) {\n      console.error('Error fetching approved doctors:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async (doctorId: string) => {\n    try {\n      await api.put(`/doctors/admin/${doctorId}/approve`, { notes });\n      setShowModal(false);\n      setSelectedDoctor(null);\n      setNotes('');\n      setSuccessMessage('Doctor approved successfully!');\n      setShowSuccessMessage(true);\n      fetchPendingDoctors();\n      fetchApprovedDoctors();\n      showNotification('Doctor approved successfully!', 'success');\n      \n      setTimeout(() => {\n        setShowSuccessMessage(false);\n      }, 3000);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to approve doctor', 'error');\n    }\n  };\n\n  const handleReject = async (doctorId: string) => {\n    if (!notes.trim()) {\n      showNotification('Please provide a reason for rejection', 'warning');\n      return;\n    }\n\n    if (!confirm('Are you sure you want to reject this doctor application?')) {\n      return;\n    }\n\n    try {\n      await api.put(`/doctors/admin/${doctorId}/reject`, { notes });\n      showNotification('Doctor application rejected', 'info');\n      setShowModal(false);\n      setSelectedDoctor(null);\n      setNotes('');\n      fetchPendingDoctors();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to reject doctor', 'error');\n    }\n  };\n\n  const openModal = (doctor: any, isApproved: boolean = false) => {\n    const parsedDoctor = { ...doctor };\n    \n    if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\n      try {\n        parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\n      } catch (e) {\n        parsedDoctor.availableDays = [];\n      }\n    }\n    \n    if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\n      try {\n        parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\n      } catch (e) {\n        parsedDoctor.previousJobs = [];\n      }\n    }\n    \n    if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\n      try {\n        parsedDoctor.education = JSON.parse(parsedDoctor.education);\n      } catch (e) {\n        parsedDoctor.education = [];\n      }\n    }\n    \n    setSelectedDoctor({ ...parsedDoctor, _isApproved: isApproved });\n    \n    if (isApproved) {\n      setEditDoctorForm({\n        departmentId: parsedDoctor.departmentId || '',\n        specialization: parsedDoctor.specialization || '',\n        experience: parsedDoctor.experience?.toString() || '',\n        qualification: parsedDoctor.qualification || '',\n        bio: parsedDoctor.bio || '',\n        consultationFee: parsedDoctor.consultationFee?.toString() || '',\n        availableFrom: parsedDoctor.availableFrom || '',\n        availableTo: parsedDoctor.availableTo || '',\n        availableDays: Array.isArray(parsedDoctor.availableDays) ? parsedDoctor.availableDays : [],\n        previousJobs: Array.isArray(parsedDoctor.previousJobs) ? parsedDoctor.previousJobs : [],\n        education: Array.isArray(parsedDoctor.education) ? parsedDoctor.education : [],\n      });\n    }\n    \n    setIsEditingDoctor(false);\n    setShowModal(true);\n  };\n\n  const handleUpdateDoctor = async () => {\n    try {\n      const updateData = {\n        ...editDoctorForm,\n        availableDays: JSON.stringify(editDoctorForm.availableDays),\n        previousJobs: JSON.stringify(editDoctorForm.previousJobs),\n        education: JSON.stringify(editDoctorForm.education),\n      };\n\n      await api.put(`/doctors/${selectedDoctor.id}`, updateData);\n      showNotification('Doctor updated successfully', 'success');\n      setIsEditingDoctor(false);\n      setShowModal(false);\n      setSelectedDoctor(null);\n      fetchApprovedDoctors();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update doctor', 'error');\n    }\n  };\n\n  if (loading && approvedDoctors.length === 0) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"relative\">\n      {showSuccessMessage && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]\">\n          <div className=\"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all\">\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <FiCheck className=\"text-3xl text-green-600\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">Success!</h3>\n              <p className=\"text-lg text-gray-600 mb-6\">{successMessage}</p>\n              <button\n                onClick={() => setShowSuccessMessage(false)}\n                className=\"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('approved')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'approved'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Approved Doctors ({approvedDoctors.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('pending')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'pending'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Pending Doctors ({pendingDoctors.length})\n          </button>\n        </div>\n      </div>\n\n      {activeTab === 'pending' && pendingDoctors.length === 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\n          <p className=\"text-gray-600 text-lg\">No pending doctor applications</p>\n        </div>\n      )}\n\n      {activeTab === 'pending' && pendingDoctors.length > 0 && (\n        <div className=\"space-y-4\">\n          {pendingDoctors.map((doctor) => (\n            <div \n              key={doctor.id} \n              onClick={() => openModal(doctor)}\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all cursor-pointer text-gray-900 dark:text-gray-100\"\n            >\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex items-start gap-4 flex-1\">\n                  <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xl font-bold overflow-hidden\">\n                    {doctor.profileImage ? (\n                      <img \n                        src={`data:${doctor.profileImageMimeType || 'image/jpeg'};base64,${doctor.profileImage}`} \n                        alt={doctor.user?.name}\n                        className=\"w-full h-full rounded-full object-cover\"\n                      />\n                    ) : (\n                      doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h3 className=\"text-xl font-semibold text-gray-800\">{doctor.user?.name}</h3>\n                      <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold\">\n                        Pending\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-600 mb-1\">{doctor.specialization}</p>\n                    <p className=\"text-xs text-gray-500\">{doctor.department?.name}</p>\n                    <div className=\"flex gap-4 mt-3 text-xs text-gray-500\">\n                      <span>{doctor.experience || 0} years exp</span>\n                      <span>•</span>\n                      <span>BDT {doctor.consultationFee || 0} fee</span>\n                      <span>•</span>\n                      <span>{doctor.user?.email}</span>\n                    </div>\n                  </div>\n                </div>\n                <button \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    openModal(doctor);\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ml-4\"\n                >\n                  View Details\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {activeTab === 'approved' && approvedDoctors.length === 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\n          <p className=\"text-gray-600 text-lg\">No approved doctors yet</p>\n        </div>\n      )}\n\n      {activeTab === 'approved' && approvedDoctors.length > 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n                <tr>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Doctor Name\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Specialization\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Department\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Email\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Phone\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Experience\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Consultation Fee\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n                {approvedDoctors.map((doctor) => (\n                  <tr key={doctor.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                          {doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-900\">{doctor.user?.name || 'N/A'}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.specialization || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.department?.name || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.email || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.phone || '-'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.experience || 0} years</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">BDT {doctor.consultationFee || 0}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className=\"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800\">\n                        Approved\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right relative\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActionMenuOpen(actionMenuOpen === doctor.id ? null : doctor.id);\n                        }}\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                      >\n                        <FiMoreVertical className=\"text-gray-600\" />\n                      </button>\n                      {actionMenuOpen === doctor.id && (\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openModal(doctor, true);\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEye className=\"text-base\" />\n                            View Details\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              const parsedDoctor = { ...doctor };\n                              if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\n                                try {\n                                  parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\n                                } catch (e) {\n                                  parsedDoctor.availableDays = [];\n                                }\n                              }\n                              if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\n                                try {\n                                  parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\n                                } catch (e) {\n                                  parsedDoctor.previousJobs = [];\n                                }\n                              }\n                              if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\n                                try {\n                                  parsedDoctor.education = JSON.parse(parsedDoctor.education);\n                                } catch (e) {\n                                  parsedDoctor.education = [];\n                                }\n                              }\n                              openModal(parsedDoctor, true);\n                              setIsEditingDoctor(true);\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEdit className=\"text-base\" />\n                            Edit\n                          </button>\n                          <div className=\"border-t border-gray-200 my-2\"></div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              if (confirm(`Are you sure you want to delete ${doctor.user?.name}?`)) {\n                                showNotification('Delete functionality coming soon', 'info');\n                              }\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                          >\n                            <FiTrash2 className=\"text-base\" />\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {actionMenuOpen && (\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\n      )}\n\n      {showModal && selectedDoctor && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">\n                  {isEditingDoctor ? 'Edit Doctor Profile' : selectedDoctor._isApproved ? 'Doctor Details' : 'Review Doctor Application'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedDoctor(null);\n                    setNotes('');\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"flex items-start gap-6 mb-6 pb-6 border-b border-gray-200\">\n                <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-3xl font-bold overflow-hidden\">\n                  {selectedDoctor.profileImage ? (\n                    <img \n                      src={`data:${selectedDoctor.profileImageMimeType || 'image/jpeg'};base64,${selectedDoctor.profileImage}`} \n                      alt={selectedDoctor.user?.name}\n                      className=\"w-full h-full rounded-full object-cover\"\n                    />\n                  ) : (\n                    selectedDoctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\n                  )}\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"text-3xl font-bold text-gray-800\">\n                      {selectedDoctor.user?.name}\n                    </h3>\n                    {selectedDoctor._isApproved ? (\n                      <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold\">\n                        Approved\n                      </span>\n                    ) : (\n                      <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold\">\n                        Pending Approval\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-lg text-gray-600 mb-1\">{selectedDoctor.specialization}</p>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedDoctor.department?.icon} {selectedDoctor.department?.name}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-6 mb-6 pb-6 border-b border-gray-200\">\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Email</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.email}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Phone</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.phone || 'N/A'}</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Department</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <select\n                      value={editDoctorForm.departmentId}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, departmentId: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"\">Select Department</option>\n                      {departments.map((dept) => (\n                        <option key={dept.id} value={dept.id}>\n                          {dept.icon} {dept.name}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">\n                      {selectedDoctor.department?.icon} {selectedDoctor.department?.name || 'N/A'}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Specialization</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"text\"\n                      value={editDoctorForm.specialization}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, specialization: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.specialization || 'N/A'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Experience</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"number\"\n                      value={editDoctorForm.experience}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, experience: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.experience || 0} years</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Consultation Fee</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"number\"\n                      value={editDoctorForm.consultationFee}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, consultationFee: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">BDT {selectedDoctor.consultationFee || 0}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Qualifications</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <textarea\n                    value={editDoctorForm.qualification}\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, qualification: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={4}\n                  />\n                ) : (\n                  <p className=\"text-gray-700 whitespace-pre-line\">{selectedDoctor.qualification || 'N/A'}</p>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Bio</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <textarea\n                    value={editDoctorForm.bio}\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, bio: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={4}\n                  />\n                ) : (\n                  <p className=\"text-gray-700\">{selectedDoctor.bio || 'N/A'}</p>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Previous Jobs</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-3\">\n                    {(editDoctorForm.previousJobs || []).map((job: any, index: number) => (\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                        <input\n                          type=\"text\"\n                          value={job.position || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], position: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Position\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={job.hospital || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], hospital: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Hospital\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={job.years || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], years: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Years\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditDoctorForm({\n                              ...editDoctorForm,\n                              previousJobs: (editDoctorForm.previousJobs || []).filter((_: any, i: number) => i !== index),\n                            });\n                          }}\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\n                        >\n                          <FiX className=\"inline mr-1\" /> Remove\n                        </button>\n                      </div>\n                    ))}\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setEditDoctorForm({\n                          ...editDoctorForm,\n                          previousJobs: [...(editDoctorForm.previousJobs || []), { position: '', hospital: '', years: '' }],\n                        });\n                      }}\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                    >\n                      <FiPlus className=\"inline mr-1\" /> Add Job\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {selectedDoctor.previousJobs && Array.isArray(selectedDoctor.previousJobs) && selectedDoctor.previousJobs.length > 0 ? (\n                      selectedDoctor.previousJobs.map((job: any, index: number) => (\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\n                          <p className=\"font-semibold text-gray-800\">{job.position}</p>\n                          <p className=\"text-sm text-gray-600\">{job.hospital}</p>\n                          <p className=\"text-xs text-gray-500 mt-1\">{job.years}</p>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-gray-500\">No previous jobs listed</p>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Education</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-3\">\n                    {(editDoctorForm.education || []).map((edu: any, index: number) => (\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                        <input\n                          type=\"text\"\n                          value={edu.degree || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], degree: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Degree\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={edu.institution || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], institution: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Institution\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={edu.year || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], year: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Year\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditDoctorForm({\n                              ...editDoctorForm,\n                              education: (editDoctorForm.education || []).filter((_: any, i: number) => i !== index),\n                            });\n                          }}\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\n                        >\n                          <FiX className=\"inline mr-1\" /> Remove\n                        </button>\n                      </div>\n                    ))}\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setEditDoctorForm({\n                          ...editDoctorForm,\n                          education: [...(editDoctorForm.education || []), { degree: '', institution: '', year: '' }],\n                        });\n                      }}\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                    >\n                      <FiPlus className=\"inline mr-1\" /> Add Education\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {selectedDoctor.education && Array.isArray(selectedDoctor.education) && selectedDoctor.education.length > 0 ? (\n                      selectedDoctor.education.map((edu: any, index: number) => (\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\n                          <p className=\"font-semibold text-gray-800\">{edu.degree}</p>\n                          <p className=\"text-sm text-gray-600\">{edu.institution}</p>\n                          <p className=\"text-xs text-gray-500 mt-1\">{edu.year}</p>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-gray-500\">No education listed</p>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Availability</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm text-gray-500 mb-2\">Available Days:</label>\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n                        {['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map((day) => (\n                          <label key={day} className=\"flex items-center gap-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={(editDoctorForm.availableDays || []).includes(day)}\n                              onChange={(e) => {\n                                const currentDays = editDoctorForm.availableDays || [];\n                                if (e.target.checked) {\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: [...currentDays, day] });\n                                } else {\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: currentDays.filter((d: string) => d !== day) });\n                                }\n                              }}\n                              className=\"rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                            />\n                            <span className=\"text-sm text-gray-700\">{day}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm text-gray-500 mb-1\">From</label>\n                        <input\n                          type=\"time\"\n                          value={editDoctorForm.availableFrom || ''}\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableFrom: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm text-gray-500 mb-1\">To</label>\n                        <input\n                          type=\"time\"\n                          value={editDoctorForm.availableTo || ''}\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableTo: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    {selectedDoctor.availableDays && Array.isArray(selectedDoctor.availableDays) && selectedDoctor.availableDays.length > 0 && (\n                      <div className=\"mb-3\">\n                        <p className=\"text-sm text-gray-500 mb-2\">Available Days:</p>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {selectedDoctor.availableDays.map((day: string, index: number) => (\n                            <span\n                              key={index}\n                              className=\"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium\"\n                            >\n                              {day}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    {selectedDoctor.availableFrom && selectedDoctor.availableTo && (\n                      <p className=\"font-semibold text-gray-800\">\n                        Time: {selectedDoctor.availableFrom} - {selectedDoctor.availableTo}\n                      </p>\n                    )}\n                    {(!selectedDoctor.availableDays || selectedDoctor.availableDays.length === 0) && !selectedDoctor.availableFrom && (\n                      <p className=\"text-gray-500\">No availability set</p>\n                    )}\n                  </>\n                )}\n              </div>\n\n              {(selectedDoctor.hasCV || selectedDoctor.cvResume) && (\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                  <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">CV/Resume</h4>\n                  <a\n                    href={`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000'}/api/doctors/${selectedDoctor.id}/cv`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\n                  >\n                    <FiFileTextIcon className=\"text-lg\" />\n                    Download CV/Resume {selectedDoctor.cvResumeFileName && `(${selectedDoctor.cvResumeFileName})`}\n                  </a>\n                </div>\n              )}\n\n              {!selectedDoctor._isApproved && (\n                <div className=\"mb-6\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Admin Notes (Optional for approval, Required for rejection)\n                  </label>\n                  <textarea\n                    value={notes}\n                    onChange={(e) => setNotes(e.target.value)}\n                    rows={4}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    placeholder=\"Add any notes or comments about this doctor application...\"\n                  />\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\n              {selectedDoctor._isApproved ? (\n                isEditingDoctor ? (\n                  <>\n                    <button\n                      onClick={() => {\n                        setIsEditingDoctor(false);\n                      }}\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleUpdateDoctor}\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                    >\n                      Save Changes\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <button\n                      onClick={() => {\n                        setShowModal(false);\n                        setSelectedDoctor(null);\n                        setNotes('');\n                        setIsEditingDoctor(false);\n                      }}\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                    >\n                      Close\n                    </button>\n                    <button\n                      onClick={() => setIsEditingDoctor(true)}\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                    >\n                      Edit\n                    </button>\n                  </>\n                )\n              ) : (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowModal(false);\n                      setSelectedDoctor(null);\n                      setNotes('');\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => handleReject(selectedDoctor.id)}\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 font-medium transition-colors\"\n                  >\n                    <FiX className=\"text-lg\" />\n                    Reject Application\n                  </button>\n                  <button\n                    onClick={() => handleApprove(selectedDoctor.id)}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2 font-medium transition-colors\"\n                  >\n                    <FiCheck className=\"text-lg\" />\n                    Approve Doctor\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AppointmentsManagementView = React.forwardRef((props: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [appointments, setAppointments] = useState<any[]>([]);\n  const [filteredAppointments, setFilteredAppointments] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'all' | 'pending' | 'confirmed' | 'completed' | 'cancelled'>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedAppointment, setSelectedAppointment] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [users, setUsers] = useState<any[]>([]);\n  const [doctors, setDoctors] = useState<any[]>([]);\n  const [newAppointmentForm, setNewAppointmentForm] = useState({\n    patientId: '',\n    doctorId: '',\n    appointmentDate: '',\n    appointmentTime: '',\n    reason: '',\n    status: 'pending',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: async () => {\n      // Fetch users and doctors for dropdowns\n      try {\n        const [usersRes, doctorsRes] = await Promise.all([\n          api.get('/admin/users?limit=1000'),\n          api.get('/doctors?limit=1000'),\n        ]);\n        setUsers(usersRes.data.users?.filter((u: any) => u.role === 'patient') || []);\n        setDoctors(doctorsRes.data.doctors || []);\n      } catch (error) {\n        console.error('Error fetching users/doctors:', error);\n      }\n      setNewAppointmentForm({\n        patientId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        reason: '',\n        status: 'pending',\n      });\n      setShowCreateModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n\n  useEffect(() => {\n    filterAppointments();\n  }, [appointments, activeTab, searchQuery]);\n\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/appointments?limit=1000');\n      setAppointments(response.data.appointments || []);\n      setFilteredAppointments(response.data.appointments || []);\n    } catch (error) {\n      console.error('Error fetching appointments:', error);\n      showNotification('Failed to fetch appointments', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAppointments = () => {\n    let filtered = [...appointments];\n\n    if (activeTab !== 'all') {\n      filtered = filtered.filter((apt) => apt.status === activeTab);\n    }\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (apt) =>\n          apt.patient?.name?.toLowerCase().includes(query) ||\n          apt.doctor?.user?.name?.toLowerCase().includes(query) ||\n          apt.patient?.email?.toLowerCase().includes(query) ||\n          apt.reason?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredAppointments(filtered);\n  };\n\n  const handleCreateAppointment = async () => {\n    try {\n      if (!newAppointmentForm.patientId || !newAppointmentForm.doctorId || !newAppointmentForm.appointmentDate || !newAppointmentForm.appointmentTime) {\n        showNotification('Patient, Doctor, Date, and Time are required', 'error');\n        return;\n      }\n\n      await api.post('/appointments', {\n        patientId: newAppointmentForm.patientId,\n        doctorId: newAppointmentForm.doctorId,\n        appointmentDate: newAppointmentForm.appointmentDate,\n        appointmentTime: newAppointmentForm.appointmentTime,\n        reason: newAppointmentForm.reason || '',\n        status: newAppointmentForm.status,\n        overrideLimit: true, // Admin can override limits\n      });\n\n      showNotification('Appointment created successfully', 'success');\n      setShowCreateModal(false);\n      setNewAppointmentForm({\n        patientId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        reason: '',\n        status: 'pending',\n      });\n      fetchAppointments();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create appointment', 'error');\n    }\n  };\n\n  const handleStatusUpdate = async (appointmentId: string, newStatus: string) => {\n    try {\n      await api.put(`/appointments/${appointmentId}/status`, { status: newStatus });\n      showNotification('Appointment status updated successfully', 'success');\n      fetchAppointments();\n      setShowModal(false);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update appointment status', 'error');\n    }\n  };\n\n  const getStatusBadgeColor = (status: string) => {\n    switch (status) {\n      case 'confirmed': return 'bg-green-100 text-green-800';\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\n      case 'completed': return 'bg-blue-100 text-blue-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Search and Filter */}\n      <div className=\"mb-6 flex gap-4\">\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by patient name, doctor name, or email...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n          />\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All ({appointments.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('pending')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'pending'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Pending ({appointments.filter((a) => a.status === 'pending').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('confirmed')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'confirmed'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Confirmed ({appointments.filter((a) => a.status === 'confirmed').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('completed')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'completed'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Completed ({appointments.filter((a) => a.status === 'completed').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('cancelled')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'cancelled'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Cancelled ({appointments.filter((a) => a.status === 'cancelled').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Appointments Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Patient\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Doctor\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Date & Time\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Reason\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredAppointments.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No appointments found\n                  </td>\n                </tr>\n              ) : (\n                filteredAppointments.map((appointment) => (\n                  <tr key={appointment.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{appointment.patient?.name || 'N/A'}</p>\n                        <p className=\"text-xs text-gray-500\">{appointment.patient?.email || 'N/A'}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{formatDoctorName(appointment.doctor?.user?.name || 'N/A', appointment.doctor?.qualification)}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">\n                        {format(parseISO(appointment.appointmentDate), 'MMM dd, yyyy')}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">{appointment.appointmentTime}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{appointment.reason || '-'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(appointment.status)}`}>\n                        {appointment.status || 'N/A'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button\n                        onClick={() => {\n                          setSelectedAppointment(appointment);\n                          setShowModal(true);\n                        }}\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\n                      >\n                        View Details\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Appointment Details Modal */}\n      {showModal && selectedAppointment && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">Appointment Details</h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedAppointment(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.email || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\n                    <p className=\"font-semibold text-gray-800\">{formatDoctorName(selectedAppointment.doctor?.user?.name || 'N/A', selectedAppointment.doctor?.qualification)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\n                    <p className=\"font-semibold text-gray-800\">\n                      {format(parseISO(selectedAppointment.appointmentDate), 'MMMM dd, yyyy')}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Time</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.appointmentTime || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Status</p>\n                    <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(selectedAppointment.status)}`}>\n                      {selectedAppointment.status || 'N/A'}\n                    </span>\n                  </div>\n                </div>\n                {selectedAppointment.reason && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Reason</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.reason}</p>\n                  </div>\n                )}\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-2\">Update Status</p>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    {['pending', 'confirmed', 'completed', 'cancelled'].map((status) => (\n                      <button\n                        key={status}\n                        onClick={() => handleStatusUpdate(selectedAppointment.id, status)}\n                        disabled={selectedAppointment.status === status}\n                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                          selectedAppointment.status === status\n                            ? 'bg-gray-300 text-gray-600 cursor-not-allowed'\n                            : 'bg-teal-600 text-white hover:bg-teal-700'\n                        }`}\n                      >\n                        {status.charAt(0).toUpperCase() + status.slice(1)}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedAppointment(null);\n                }}\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nAppointmentsManagementView.displayName = 'AppointmentsManagementView';\n\nconst PrescriptionsManagementView = () => {\n  const { showNotification } = useNotification();\n  const [prescriptions, setPrescriptions] = useState<any[]>([]);\n  const [filteredPrescriptions, setFilteredPrescriptions] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedPrescription, setSelectedPrescription] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    fetchPrescriptions();\n  }, []);\n\n  useEffect(() => {\n    filterPrescriptions();\n  }, [prescriptions, searchQuery]);\n\n  const fetchPrescriptions = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/prescriptions?limit=1000');\n      setPrescriptions(response.data.prescriptions || []);\n      setFilteredPrescriptions(response.data.prescriptions || []);\n    } catch (error) {\n      console.error('Error fetching prescriptions:', error);\n      showNotification('Failed to fetch prescriptions', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterPrescriptions = () => {\n    let filtered = [...prescriptions];\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (pres) =>\n          pres.patient?.name?.toLowerCase().includes(query) ||\n          pres.patient?.email?.toLowerCase().includes(query) ||\n          pres.doctor?.user?.name?.toLowerCase().includes(query) ||\n          pres.diagnosis?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredPrescriptions(filtered);\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Search */}\n      <div className=\"mb-6\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by patient name, doctor name, email, or diagnosis...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n        />\n      </div>\n\n      {/* Prescriptions Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Patient\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Doctor\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Diagnosis\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Medicines\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Date\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredPrescriptions.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No prescriptions found\n                  </td>\n                </tr>\n              ) : (\n                filteredPrescriptions.map((prescription) => (\n                  <tr key={prescription.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{prescription.patient?.name || 'N/A'}</p>\n                        <p className=\"text-xs text-gray-500\">{prescription.patient?.email || 'N/A'}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{formatDoctorName(prescription.doctor?.user?.name || 'N/A', prescription.doctor?.qualification)}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{prescription.diagnosis || '-'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-600\">\n                        {prescription.medicines && Array.isArray(prescription.medicines)\n                          ? `${prescription.medicines.length} medicine(s)`\n                          : 'N/A'}\n                      </p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">\n                        {prescription.createdAt\n                          ? format(parseISO(prescription.createdAt), 'MMM dd, yyyy')\n                          : 'N/A'}\n                      </p>\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button\n                        onClick={() => {\n                          setSelectedPrescription(prescription);\n                          setShowModal(true);\n                        }}\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\n                      >\n                        View Details\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Prescription Details Modal */}\n      {showModal && selectedPrescription && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">Prescription Details</h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedPrescription(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.email || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\n                    <p className=\"font-semibold text-gray-800\">{formatDoctorName(selectedPrescription.doctor?.user?.name || 'N/A', selectedPrescription.doctor?.qualification)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\n                    <p className=\"font-semibold text-gray-800\">\n                      {selectedPrescription.createdAt\n                        ? format(parseISO(selectedPrescription.createdAt), 'MMMM dd, yyyy')\n                        : 'N/A'}\n                    </p>\n                  </div>\n                </div>\n\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Diagnosis</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedPrescription.diagnosis || 'N/A'}</p>\n                </div>\n\n                {selectedPrescription.medicines && Array.isArray(selectedPrescription.medicines) && selectedPrescription.medicines.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Medicines</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.medicines.map((medicine: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-gray-800\">{medicine.name || 'N/A'}</p>\n                            {(medicine.dosage || medicine.frequency) && (\n                              <p className=\"text-xs text-gray-600\">\n                                {medicine.dosage && `Dosage: ${medicine.dosage}`}\n                                {medicine.dosage && medicine.frequency && ' • '}\n                                {medicine.frequency && `Frequency: ${medicine.frequency}`}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.tests && Array.isArray(selectedPrescription.tests) && selectedPrescription.tests.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Tests</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.tests.map((test: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <p className=\"text-sm text-gray-800\">{test.name || 'N/A'}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.rules && Array.isArray(selectedPrescription.rules) && selectedPrescription.rules.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Rules</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.rules.map((rule: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-gray-800\">{rule.title || 'N/A'}</p>\n                            {rule.description && (\n                              <p className=\"text-xs text-gray-600\">{rule.description}</p>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.instructions && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Instructions</p>\n                    <p className=\"text-sm text-gray-800 whitespace-pre-line\">{selectedPrescription.instructions}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedPrescription(null);\n                }}\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AdsManagementView = React.forwardRef((props: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [ads, setAds] = useState<any[]>([]);\n  const [filteredAds, setFilteredAds] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeTab, setActiveTab] = useState<'all' | 'active' | 'inactive'>('all');\n  const [selectedAd, setSelectedAd] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [adForm, setAdForm] = useState({\n    title: '',\n    description: '',\n    imageUrl: '',\n    link: '',\n    targetAudience: 'all',\n    isActive: true,\n    startDate: '',\n    endDate: '',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: () => {\n      setAdForm({\n        title: '',\n        description: '',\n        imageUrl: '',\n        link: '',\n        targetAudience: 'all',\n        isActive: true,\n        startDate: '',\n        endDate: '',\n      });\n      setIsEditing(false);\n      setSelectedAd(null);\n      setShowCreateModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchAds();\n  }, []);\n\n  useEffect(() => {\n    filterAds();\n  }, [ads, activeTab, searchQuery]);\n\n  const fetchAds = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/admin/ads?limit=1000');\n      setAds(response.data.ads || []);\n      setFilteredAds(response.data.ads || []);\n    } catch (error) {\n      console.error('Error fetching ads:', error);\n      showNotification('Failed to fetch advertisements', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAds = () => {\n    let filtered = [...ads];\n\n    if (activeTab === 'active') {\n      filtered = filtered.filter((ad) => ad.isActive === true);\n    } else if (activeTab === 'inactive') {\n      filtered = filtered.filter((ad) => ad.isActive === false);\n    }\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (ad) =>\n          ad.title?.toLowerCase().includes(query) ||\n          ad.description?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredAds(filtered);\n  };\n\n  const handleCreateAd = async () => {\n    try {\n      await api.post('/ads', adForm);\n      showNotification('Advertisement created successfully', 'success');\n      setShowCreateModal(false);\n      setAdForm({\n        title: '',\n        description: '',\n        imageUrl: '',\n        link: '',\n        targetAudience: 'all',\n        isActive: true,\n        startDate: '',\n        endDate: '',\n      });\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create advertisement', 'error');\n    }\n  };\n\n  const handleUpdateAd = async () => {\n    try {\n      await api.put(`/ads/${selectedAd.id}`, adForm);\n      showNotification('Advertisement updated successfully', 'success');\n      setShowModal(false);\n      setIsEditing(false);\n      setSelectedAd(null);\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update advertisement', 'error');\n    }\n  };\n\n  const handleDeleteAd = async (adId: string) => {\n    if (!confirm('Are you sure you want to delete this advertisement?')) {\n      return;\n    }\n\n    try {\n      await api.delete(`/ads/${adId}`);\n      showNotification('Advertisement deleted successfully', 'success');\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete advertisement', 'error');\n    }\n  };\n\n  const openEditModal = (ad: any) => {\n    setSelectedAd(ad);\n    setAdForm({\n      title: ad.title || '',\n      description: ad.description || '',\n      imageUrl: ad.imageUrl || '',\n      link: ad.link || '',\n      targetAudience: ad.targetAudience || 'all',\n      isActive: ad.isActive !== undefined ? ad.isActive : true,\n      startDate: ad.startDate ? format(parseISO(ad.startDate), 'yyyy-MM-dd') : '',\n      endDate: ad.endDate ? format(parseISO(ad.endDate), 'yyyy-MM-dd') : '',\n    });\n    setIsEditing(true);\n    setShowModal(true);\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Header with Create Button */}\n      <div className=\"mb-6 flex items-center justify-between\">\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Search advertisements by title or description...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n          />\n        </div>\n        <button\n          onClick={() => {\n            setAdForm({\n              title: '',\n              description: '',\n              imageUrl: '',\n              link: '',\n              targetAudience: 'all',\n              isActive: true,\n              startDate: '',\n              endDate: '',\n            });\n            setShowCreateModal(true);\n          }}\n          className=\"ml-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center gap-2\"\n        >\n          <FiPlus className=\"text-lg\" />\n          Create Ad\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All ({ads.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('active')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'active'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Active ({ads.filter((a) => a.isActive).length})\n          </button>\n          <button\n            onClick={() => setActiveTab('inactive')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'inactive'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Inactive ({ads.filter((a) => !a.isActive).length})\n          </button>\n        </div>\n      </div>\n\n      {/* Ads Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredAds.length === 0 ? (\n          <div className=\"col-span-full bg-white rounded-lg shadow-md p-8 text-center\">\n            <p className=\"text-gray-600 text-lg\">No advertisements found</p>\n          </div>\n        ) : (\n          filteredAds.map((ad) => (\n            <div\n              key={ad.id}\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\n            >\n              {ad.imageUrl && (\n                <div className=\"w-full h-48 bg-gray-200 overflow-hidden\">\n                  <img\n                    src={ad.imageUrl}\n                    alt={ad.title}\n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      (e.target as HTMLImageElement).style.display = 'none';\n                    }}\n                  />\n                </div>\n              )}\n              <div className=\"p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 flex-1\">{ad.title}</h3>\n                  <span\n                    className={`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${\n                      ad.isActive\n                        ? 'bg-green-100 text-green-800'\n                        : 'bg-gray-100 text-gray-800'\n                    }`}\n                  >\n                    {ad.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{ad.description}</p>\n                <div className=\"flex items-center justify-between text-xs text-gray-500 mb-3\">\n                  <span>Target: {ad.targetAudience || 'all'}</span>\n                  <span>Clicks: {ad.clickCount || 0}</span>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => openEditModal(ad)}\n                    className=\"flex-1 px-3 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleDeleteAd(ad.id)}\n                    className=\"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                  >\n                    <FiTrash2 />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Create/Edit Modal */}\n      {(showCreateModal || showModal) && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">\n                  {isEditing ? 'Edit Advertisement' : 'Create Advertisement'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setShowCreateModal(false);\n                    setIsEditing(false);\n                    setSelectedAd(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Title *</label>\n                  <input\n                    type=\"text\"\n                    value={adForm.title}\n                    onChange={(e) => setAdForm({ ...adForm, title: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"Enter advertisement title\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Description</label>\n                  <textarea\n                    value={adForm.description}\n                    onChange={(e) => setAdForm({ ...adForm, description: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={3}\n                    placeholder=\"Enter advertisement description\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Image URL</label>\n                  <input\n                    type=\"url\"\n                    value={adForm.imageUrl}\n                    onChange={(e) => setAdForm({ ...adForm, imageUrl: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"https://example.com/image.jpg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Link URL</label>\n                  <input\n                    type=\"url\"\n                    value={adForm.link}\n                    onChange={(e) => setAdForm({ ...adForm, link: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"https://example.com\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Target Audience</label>\n                    <select\n                      value={adForm.targetAudience}\n                      onChange={(e) => setAdForm({ ...adForm, targetAudience: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"all\">All</option>\n                      <option value=\"patient\">Patients</option>\n                      <option value=\"doctor\">Doctors</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Status</label>\n                    <select\n                      value={adForm.isActive ? 'true' : 'false'}\n                      onChange={(e) => setAdForm({ ...adForm, isActive: e.target.value === 'true' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"true\">Active</option>\n                      <option value=\"false\">Inactive</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Start Date</label>\n                    <input\n                      type=\"date\"\n                      value={adForm.startDate}\n                      onChange={(e) => setAdForm({ ...adForm, startDate: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">End Date</label>\n                    <input\n                      type=\"date\"\n                      value={adForm.endDate}\n                      onChange={(e) => setAdForm({ ...adForm, endDate: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setShowCreateModal(false);\n                  setIsEditing(false);\n                  setSelectedAd(null);\n                }}\n                className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  if (isEditing) {\n                    handleUpdateAd();\n                  } else {\n                    handleCreateAd();\n                  }\n                }}\n                disabled={!adForm.title.trim()}\n                className={`flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors ${\n                  !adForm.title.trim() ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {isEditing ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nAdsManagementView.displayName = 'AdsManagementView';\n\n// Admin Chats Management View - Full access to chat with all users\nconst AdminChatsManagementView = () => {\n  const { user } = useAuth();\n  const { showNotification } = useNotification();\n  const [allUsers, setAllUsers] = useState<any[]>([]);\n  const [conversations, setConversations] = useState<any[]>([]);\n  const [selectedConversation, setSelectedConversation] = useState<any>(null);\n  const [messages, setMessages] = useState<any[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const pollingIntervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      fetchChatUsers();\n      fetchConversations();\n      fetchUnreadCount();\n    }\n  }, [user]);\n\n  // Real-time polling\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      const globalPollInterval = setInterval(() => {\n        fetchChatUsers();\n        fetchConversations();\n        if (selectedConversation) {\n          fetchMessages(selectedConversation.id);\n        }\n        fetchUnreadCount();\n      }, 2000);\n\n      return () => clearInterval(globalPollInterval);\n    }\n  }, [user, selectedConversation]);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      if (pollingIntervalRef.current) {\n        clearInterval(pollingIntervalRef.current);\n      }\n      pollingIntervalRef.current = setInterval(() => {\n        fetchMessages(selectedConversation.id);\n        fetchConversations();\n        fetchUnreadCount();\n      }, 2000);\n    }\n    return () => {\n      if (pollingIntervalRef.current) {\n        clearInterval(pollingIntervalRef.current);\n      }\n    };\n  }, [selectedConversation]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const fetchChatUsers = async () => {\n    try {\n      const response = await api.get('/chat/users');\n      setAllUsers(response.data.users || []);\n    } catch (error) {\n      console.error('Error fetching chat users:', error);\n    }\n  };\n\n  const fetchConversations = async () => {\n    try {\n      const response = await api.get('/chat/conversations');\n      setConversations(response.data.conversations || []);\n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n    }\n  };\n\n  const fetchMessages = async (userId: string) => {\n    try {\n      const response = await api.get(`/chat/messages/${userId}`);\n      setMessages(response.data.messages || []);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    }\n  };\n\n  const fetchUnreadCount = async () => {\n    try {\n      const response = await api.get('/chat/unread-count');\n      setUnreadCount(response.data.unreadCount || 0);\n    } catch (error) {\n      console.error('Error fetching unread count:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectConversation = (conversation: any) => {\n    setSelectedConversation(conversation);\n    fetchMessages(conversation.id);\n    setSearchQuery('');\n    setShowSuggestions(false);\n  };\n\n  const handleSelectUser = (userItem: any) => {\n    const existingConversation = conversations.find(c => c.id === userItem.id);\n    if (existingConversation) {\n      handleSelectConversation(existingConversation);\n    } else {\n      const newConversation = {\n        id: userItem.id,\n        name: userItem.name,\n        email: userItem.email,\n        role: userItem.role,\n        phone: userItem.phone,\n        lastMessage: userItem.lastMessage || 'No messages yet',\n        lastMessageTime: userItem.lastMessageTime || new Date(),\n        unreadCount: userItem.unreadCount || 0,\n      };\n      setSelectedConversation(newConversation);\n      setMessages([]);\n    }\n    setSearchQuery('');\n    setShowSuggestions(false);\n  };\n\n  // Search by ID, name, email, or phone\n  const filteredUsers = allUsers.filter((userItem: any) => {\n    const query = searchQuery.toLowerCase();\n    return (\n      userItem.name.toLowerCase().includes(query) ||\n      userItem.email.toLowerCase().includes(query) ||\n      userItem.id.toLowerCase().includes(query) ||\n      (userItem.phone && userItem.phone.includes(query)) ||\n      userItem.role.toLowerCase().includes(query)\n    );\n  });\n\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedConversation) return;\n\n    try {\n      await api.post('/chat/send', {\n        receiverId: selectedConversation.id,\n        content: newMessage.trim(),\n      });\n      setNewMessage('');\n      setTimeout(() => {\n        fetchMessages(selectedConversation.id);\n        fetchConversations();\n        fetchChatUsers();\n        fetchUnreadCount();\n      }, 100);\n    } catch (error: any) {\n      console.error('Error sending message:', error);\n      showNotification(error.response?.data?.message || 'Failed to send message', 'error');\n    }\n  };\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'U';\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-200px)] bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-colors\">\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Conversations List */}\n        <div className=\"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col transition-colors\">\n          <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n            <h2 className=\"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3\">\n              All Users {unreadCount > 0 && `(${unreadCount})`}\n            </h2>\n            {/* Search Bar with Auto-suggestions - Search by ID, Name, Email */}\n            <div className=\"relative\">\n              <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => {\n                  setSearchQuery(e.target.value);\n                  setShowSuggestions(e.target.value.length > 0);\n                }}\n                onFocus={() => {\n                  if (searchQuery.length > 0) {\n                    setShowSuggestions(true);\n                  }\n                }}\n                onBlur={() => {\n                  setTimeout(() => setShowSuggestions(false), 200);\n                }}\n                placeholder=\"Search by ID, name, email...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n              />\n              {showSuggestions && filteredUsers.length > 0 && (\n                <div className=\"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto transition-colors\">\n                  {filteredUsers.slice(0, 5).map((userItem: any) => (\n                    <div\n                      key={userItem.id}\n                      onMouseDown={(e) => {\n                        e.preventDefault();\n                        handleSelectUser(userItem);\n                      }}\n                      className=\"px-4 py-3 hover:bg-teal-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-0 transition-colors\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-sm\">\n                          {getInitials(userItem.name)}\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-semibold text-gray-800 dark:text-gray-100\">{userItem.name}</p>\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400 capitalize\">{userItem.role}</p>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">ID: {userItem.id.slice(0, 8)}...</p>\n                        </div>\n                        {userItem.unreadCount > 0 && (\n                          <span className=\"bg-blue-600 text-white text-xs px-2 py-1 rounded-full\">\n                            {userItem.unreadCount}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto\">\n            {allUsers.length === 0 ? (\n              <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n                <p>No users available</p>\n              </div>\n            ) : (\n              filteredUsers.map((userItem: any) => {\n                const conversation = conversations.find(c => c.id === userItem.id);\n                const isSelected = selectedConversation?.id === userItem.id;\n                const displayData = conversation || userItem;\n                return (\n                  <div\n                    key={userItem.id}\n                    onClick={() => handleSelectUser(userItem)}\n                    className={`p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${\n                      isSelected ? 'bg-teal-50 dark:bg-gray-700 border-l-4 border-teal-600' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\n                        {getInitials(userItem.name)}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between\">\n                          <h3 className=\"font-semibold text-gray-800 dark:text-gray-100 truncate\">{userItem.name}</h3>\n                          {displayData.lastMessageTime && (\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {formatDistanceToNow(new Date(displayData.lastMessageTime), { addSuffix: true })}\n                            </span>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 truncate mt-1\">{displayData.lastMessage || 'No messages yet'}</p>\n                        <div className=\"flex items-center gap-2 mt-1\">\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500\">ID: {userItem.id.slice(0, 8)}...</p>\n                          <span className=\"text-xs text-gray-400\">•</span>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{userItem.role}</p>\n                        </div>\n                      </div>\n                      {userItem.unreadCount > 0 && (\n                        <span className=\"bg-teal-600 text-white text-xs px-2 py-1 rounded-full\">\n                          {userItem.unreadCount}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n\n        {/* Chat Area */}\n        <div className=\"flex-1 flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors\">\n          {selectedConversation ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between transition-colors\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\n                    {getInitials(selectedConversation.name)}\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">{selectedConversation.name}</h3>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{selectedConversation.role}</p>\n                    <p className=\"text-xs text-gray-400 dark:text-gray-500\">ID: {selectedConversation.id.slice(0, 8)}...</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                {messages.map((message) => {\n                  const isOwn = message.senderId === user?.id;\n                  return (\n                    <div\n                      key={message.id}\n                      className={`flex ${isOwn ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${\n                          isOwn\n                            ? 'bg-teal-600 text-white'\n                            : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600'\n                        } transition-colors`}\n                      >\n                        {!isOwn && (\n                          <p className=\"text-xs font-semibold mb-1 opacity-75\">\n                            {message.sender.name}\n                          </p>\n                        )}\n                        <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                        <div className={`flex items-center gap-1 mt-1 ${isOwn ? 'justify-end' : 'justify-start'}`}>\n                          <p className={`text-xs ${isOwn ? 'text-blue-100' : 'text-gray-500 dark:text-gray-400'}`}>\n                            {format(new Date(message.createdAt), 'h:mm a')}\n                          </p>\n                          {isOwn && (\n                            <div className=\"flex items-center\">\n                              {message.isRead ? (\n                                <span className=\"text-blue-300 text-xs ml-1 flex items-center gap-0.5\">\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                  <span className=\"text-[10px]\">Seen</span>\n                                </span>\n                              ) : (\n                                <span className=\"text-gray-300 text-xs ml-1\">\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </span>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Message Input */}\n              <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 transition-colors\">\n                <form onSubmit={handleSendMessage} className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                  >\n                    <FiPaperclip className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                  </button>\n                  <input\n                    type=\"text\"\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    placeholder=\"Type a message...\"\n                    className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                  />\n                  <button\n                    type=\"submit\"\n                    disabled={!newMessage.trim()}\n                    className=\"p-2 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <FiSend className=\"text-xl\" />\n                  </button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <FiMessageCircle className=\"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4\" />\n                <p className=\"text-gray-500 dark:text-gray-400 text-lg\">Select a user to start chatting</p>\n                <p className=\"text-gray-400 dark:text-gray-500 text-sm mt-2\">Search by ID, name, email, or phone</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}