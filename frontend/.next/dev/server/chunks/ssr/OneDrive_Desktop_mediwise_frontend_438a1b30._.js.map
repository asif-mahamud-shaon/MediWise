{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx"],"sourcesContent":["const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,UAAU;IACd,qBACE,6RAAC;QAAI,WAAU;kBACb,cAAA,6RAAC;YAAI,WAAU;;;;;;;;;;;AAGrB;uCAEe","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/AdminSidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { \n  FiHome, \n  FiUser, \n  FiCalendar, \n  FiFileText, \n  FiUsers, \n  FiSettings,\n  FiLogOut,\n  FiMessageCircle,\n  FiShoppingBag,\n  FiDollarSign\n} from 'react-icons/fi';\n\ninterface AdminSidebarProps {\n  activeSection?: string;\n  onSectionChange?: (section: string) => void;\n}\n\nconst AdminSidebar = ({ activeSection, onSectionChange }: AdminSidebarProps) => {\n  const pathname = usePathname();\n  const { user, logout } = useAuth();\n  const { t } = useLanguage();\n\n  const clinicSection = [\n    { href: '/admin/dashboard', label: t('dashboard'), icon: FiHome },\n    { href: '/admin/appointments', label: t('appointments'), icon: FiCalendar },\n    { href: '/admin/users', label: t('users'), icon: FiUsers },\n    { href: '/admin/doctors', label: t('doctors'), icon: FiUser },\n    { href: '/admin/prescriptions', label: t('prescriptions'), icon: FiFileText },\n    { href: '/admin/chats', label: t('chats'), icon: FiMessageCircle },\n  ];\n\n  const financeSection = [\n    { href: '/admin/ads', label: t('advertisements'), icon: FiShoppingBag },\n  ];\n\n  const menuSections = [\n    { title: 'CLINIC', items: clinicSection },\n    { title: 'FINANCE', items: financeSection },\n  ];\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'A';\n  };\n\n  return (\n    <div className=\"fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg z-10 border-r border-gray-200 dark:border-gray-700 transition-colors\">\n      {/* Logo Section */}\n      <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg\">\n            ðŸ©º\n          </div>\n          <div>\n            <h1 className=\"text-xl font-bold text-gray-800 dark:text-gray-100\">MediWise</h1>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Healthcare Management</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Sections */}\n      <nav className=\"p-4 space-y-6 overflow-y-auto h-[calc(100vh-200px)]\">\n        {menuSections.map((section) => (\n          <div key={section.title}>\n            <h3 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-4\">\n              {section.title}\n            </h3>\n            <div className=\"space-y-1\">\n              {section.items.map((item) => {\n                const Icon = item.icon;\n                // Use activeSection if provided, otherwise use pathname\n                const isActive = activeSection \n                  ? activeSection === item.href \n                  : (pathname === item.href || pathname?.startsWith(item.href + '/') || pathname?.includes(item.href));\n                \n                const handleClick = (e: React.MouseEvent) => {\n                  // If onSectionChange is provided, use it to update state and URL\n                  // This allows for single-page navigation with URL updates\n                  if (onSectionChange) {\n                    e.preventDefault();\n                    onSectionChange(item.href);\n                  }\n                  // Otherwise, let Link handle navigation normally\n                };\n\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={handleClick}\n                    className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\n                      isActive\n                        ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-medium'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    }`}\n                  >\n                    <Icon className=\"text-xl\" />\n                    <span className=\"text-sm\">{item.label}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        ))}\n      </nav>\n\n      {/* Bottom Profile Section */}\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 transition-colors\">\n        <div className=\"mb-3 px-2\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n              {getInitials(user?.name || 'Admin')}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\">{user?.name || 'Admin'}</p>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Super admin</p>\n            </div>\n          </div>\n        </div>\n        <button\n          onClick={logout}\n          className=\"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm\"\n        >\n          <FiLogOut className=\"text-lg\" />\n          <span>Logout</span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminSidebar;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/components/AdminHeader.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useNotification } from '@/context/NotificationContext';\nimport { useTheme } from '@/context/ThemeContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { useRouter } from 'next/navigation';\nimport { \n  FiSearch, \n  FiBell, \n  FiSettings, \n  FiCalendar, \n  FiChevronDown,\n  FiPlus,\n  FiFilter,\n  FiFlag,\n  FiX,\n  FiMoon,\n  FiSun,\n  FiVolume2,\n  FiVolumeX,\n  FiGlobe,\n  FiChevronLeft,\n  FiChevronRight\n} from 'react-icons/fi';\n\ninterface AdminHeaderProps {\n  title: string;\n  backButton?: boolean;\n  onBack?: () => void;\n  searchPlaceholder?: string;\n  onSearch?: (query: string) => void;\n  actionButton?: {\n    label: string;\n    onClick: () => void;\n    icon?: React.ReactNode;\n  };\n  filterButton?: {\n    onClick: () => void;\n  };\n  onQuickAdd?: {\n    onAddUser?: () => void;\n    onAddDoctor?: () => void;\n    onAddAppointment?: () => void;\n    onAddAdvertisement?: () => void;\n  };\n}\n\nconst AdminHeader = ({\n  title,\n  backButton = false,\n  onBack,\n  searchPlaceholder = 'Search for anything here...',\n  onSearch,\n  actionButton,\n  filterButton,\n  onQuickAdd,\n}: AdminHeaderProps) => {\n  const { user, logout } = useAuth();\n  const { showNotification } = useNotification();\n  const { theme, toggleTheme } = useTheme();\n  const { language, setLanguage, t } = useLanguage();\n  const router = useRouter();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [notifications] = useState([\n    { id: 1, title: 'New appointment request', message: 'Dr. Smith has a new appointment', time: '2 min ago', read: false },\n    { id: 2, title: 'System update', message: 'Scheduled maintenance tonight', time: '1 hour ago', read: false },\n  ]);\n  const [flaggedItems] = useState(4);\n  const [completedFlags] = useState(1);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const userMenuRef = useRef<HTMLDivElement>(null);\n  const notificationsRef = useRef<HTMLDivElement>(null);\n  const settingsRef = useRef<HTMLDivElement>(null);\n  const calendarRef = useRef<HTMLDivElement>(null);\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'A';\n  };\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    if (onSearch) {\n      onSearch(value);\n    }\n  };\n\n  // Close menus when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (userMenuRef.current && !userMenuRef.current.contains(event.target as Node)) {\n        setShowUserMenu(false);\n      }\n      if (notificationsRef.current && !notificationsRef.current.contains(event.target as Node)) {\n        setShowNotifications(false);\n      }\n      if (settingsRef.current && !settingsRef.current.contains(event.target as Node)) {\n        setShowSettings(false);\n      }\n      if (calendarRef.current && !calendarRef.current.contains(event.target as Node)) {\n        setShowCalendar(false);\n      }\n    };\n\n    if (showUserMenu || showNotifications || showSettings || showCalendar) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showUserMenu, showNotifications, showSettings, showCalendar]);\n\n  const unreadNotificationsCount = notifications.filter(n => !n.read).length;\n\n  const handleProfileSettings = () => {\n    setShowUserMenu(false);\n    // Navigate to profile page based on user role\n    if (user?.role === 'admin') {\n      // Admin should stay on dashboard - profile settings can be shown via modal or section\n      // For now, just show a notification that admin profile management is available in dashboard\n      showNotification('Admin profile settings are available in the dashboard', 'info');\n      // Don't navigate away - admin should stay on current page\n      return;\n    } else if (user?.role === 'patient') {\n      router.push('/profile');\n    } else if (user?.role === 'doctor') {\n      router.push('/doctor/profile');\n    } else {\n      router.push('/dashboard');\n    }\n  };\n\n  const handleAccountSettings = () => {\n    setShowUserMenu(false);\n    // For admin, account settings can be managed in dashboard\n    if (user?.role === 'admin') {\n      showNotification('Account settings are available in the dashboard', 'info');\n      // Don't navigate away\n      return;\n    }\n    // For other roles, navigate to settings page if exists\n    // router.push('/settings'); // Uncomment when settings page is created\n    showNotification('Settings page coming soon', 'info');\n  };\n\n  const handleLogout = () => {\n    setShowUserMenu(false);\n    // Show confirmation using notification - user can proceed with logout\n    if (window.confirm('Are you sure you want to logout?')) {\n      showNotification('Logging out...', 'info', 1000);\n      setTimeout(() => {\n        logout();\n      }, 500);\n    }\n  };\n\n  const [quickAddMenu, setQuickAddMenu] = useState(false);\n  const quickAddRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (quickAddRef.current && !quickAddRef.current.contains(event.target as Node)) {\n        setQuickAddMenu(false);\n      }\n    };\n    if (quickAddMenu) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [quickAddMenu]);\n\n  return (\n    <header className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-8 py-4 sticky top-0 z-20 transition-colors\">\n      <div className=\"flex items-center justify-between\">\n        {/* Left Section - Title and Back Button */}\n        <div className=\"flex items-center gap-4\">\n          {backButton && (\n            <button\n              onClick={onBack}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5 text-gray-600 dark:text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n              </svg>\n            </button>\n          )}\n          <h1 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">{t(title.toLowerCase().replace(/\\s+/g, '_')) || title}</h1>\n        </div>\n\n        {/* Center Section - Search */}\n        <div className=\"flex-1 max-w-md mx-8\">\n          <div className=\"relative\">\n            <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500\" />\n            <input\n              type=\"text\"\n              placeholder={searchPlaceholder}\n              value={searchQuery}\n              onChange={handleSearch}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Right Section - Actions and User */}\n        <div className=\"flex items-center gap-4\">\n          {actionButton && (\n            <button\n              onClick={actionButton.onClick}\n              className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n            >\n              {actionButton.icon || <FiPlus className=\"text-lg\" />}\n              {actionButton.label}\n            </button>\n          )}\n          \n          {filterButton && (\n            <button\n              onClick={filterButton.onClick}\n              className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-700 dark:text-gray-300\"\n            >\n              <FiFilter className=\"text-lg\" />\n              Filters\n            </button>\n          )}\n\n          {/* Quick Add Button */}\n          <div className=\"relative\" ref={quickAddRef}>\n            <button \n              onClick={() => setQuickAddMenu(!quickAddMenu)}\n              className=\"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiPlus className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {quickAddMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50\">\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddUser) {\n                      onQuickAdd.onAddUser();\n                    } else {\n                      router.push('/admin/users');\n                      showNotification('Navigate to Users section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add User\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddDoctor) {\n                      onQuickAdd.onAddDoctor();\n                    } else {\n                      router.push('/admin/doctors');\n                      showNotification('Navigate to Doctors section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Doctor\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddAppointment) {\n                      onQuickAdd.onAddAppointment();\n                    } else {\n                      router.push('/admin/appointments');\n                      showNotification('Navigate to Appointments section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Appointment\n                </button>\n                <button \n                  onClick={() => {\n                    setQuickAddMenu(false);\n                    if (onQuickAdd?.onAddAdvertisement) {\n                      onQuickAdd.onAddAdvertisement();\n                    } else {\n                      router.push('/admin/ads');\n                      showNotification('Navigate to Advertisements section', 'info');\n                    }\n                  }}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Add Advertisement\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Notifications Button */}\n          <div className=\"relative\" ref={notificationsRef}>\n            <button \n              onClick={() => setShowNotifications(!showNotifications)}\n              className=\"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiBell className=\"text-xl text-gray-600 dark:text-gray-300\" />\n              {unreadNotificationsCount > 0 && (\n                <span className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></span>\n              )}\n            </button>\n            {showNotifications && (\n              <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 max-h-96 overflow-y-auto\">\n                <div className=\"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n                  <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Notifications</h3>\n                  <button className=\"text-xs text-blue-600 dark:text-blue-400 hover:underline\">Mark all as read</button>\n                </div>\n                <div className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                  {notifications.map((notification) => (\n                    <div key={notification.id} className=\"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer\">\n                      <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{notification.title}</p>\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">{notification.message}</p>\n                      <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-1\">{notification.time}</p>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"px-4 py-2 border-t border-gray-200 dark:border-gray-700\">\n                  <button className=\"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:underline\">\n                    View all notifications\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Settings Button */}\n          <div className=\"relative\" ref={settingsRef}>\n            <button \n              onClick={() => setShowSettings(!showSettings)}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiSettings className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {showSettings && (\n              <div className=\"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50\">\n                <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n                  <div className=\"flex items-center justify-between\">\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Settings</h3>\n                    <button \n                      onClick={() => setShowSettings(false)}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiX className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"p-4 space-y-4 max-h-96 overflow-y-auto\">\n                  {/* Dark Mode Toggle */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      {theme === 'dark' ? (\n                        <FiMoon className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      ) : (\n                        <FiSun className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      )}\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('dark_mode')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('toggle_dark_theme')}</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={toggleTheme}\n                      className={`relative w-12 h-6 rounded-full transition-colors ${\n                        theme === 'dark' ? 'bg-blue-600' : 'bg-gray-300'\n                      }`}\n                    >\n                      <span\n                        className={`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${\n                          theme === 'dark' ? 'translate-x-6' : 'translate-x-0'\n                        }`}\n                      />\n                    </button>\n                  </div>\n\n                  {/* Language Settings */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <FiGlobe className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('language')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('choose_language')}</p>\n                      </div>\n                    </div>\n                    <select \n                      value={language}\n                      onChange={(e) => setLanguage(e.target.value as 'en' | 'bn' | 'hi')}\n                      className=\"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-sm\"\n                    >\n                      <option value=\"en\">English</option>\n                      <option value=\"bn\">à¦¬à¦¾à¦‚à¦²à¦¾</option>\n                      <option value=\"hi\">Hindi</option>\n                    </select>\n                  </div>\n\n                  {/* Notification Sound */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <FiVolume2 className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('notification_sound')}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('enable_sound_alerts')}</p>\n                      </div>\n                    </div>\n                    <button className=\"w-12 h-6 rounded-full bg-blue-600 relative\">\n                      <span className=\"absolute top-1 right-1 w-4 h-4 bg-white rounded-full\" />\n                    </button>\n                  </div>\n\n                  {/* Auto-refresh */}\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100\">{t('auto_refresh')}</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">{t('auto_refresh_desc')}</p>\n                    </div>\n                    <button className=\"w-12 h-6 rounded-full bg-blue-600 relative\">\n                      <span className=\"absolute top-1 right-1 w-4 h-4 bg-white rounded-full\" />\n                    </button>\n                  </div>\n\n                  {/* Data Preferences */}\n                  <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <p className=\"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2\">{t('data_preferences')}</p>\n                    <div className=\"space-y-2\">\n                      <label className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" className=\"rounded\" />\n                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">{t('save_search_history')}</span>\n                      </label>\n                      <label className=\"flex items-center gap-2\">\n                        <input type=\"checkbox\" className=\"rounded\" />\n                        <span className=\"text-sm text-gray-700 dark:text-gray-300\">{t('enable_analytics')}</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Calendar Button */}\n          <div className=\"relative\" ref={calendarRef}>\n            <button \n              onClick={() => setShowCalendar(!showCalendar)}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <FiCalendar className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            </button>\n            {showCalendar && (\n              <div className=\"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-50\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">{t('calendar')}</h3>\n                  <button \n                    onClick={() => setShowCalendar(false)}\n                    className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                  >\n                    <FiX className=\"text-gray-600 dark:text-gray-300\" />\n                  </button>\n                </div>\n                \n                {/* Calendar Widget */}\n                <div>\n                  {/* Month Navigation */}\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <button\n                      onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1))}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiChevronLeft className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                    <h4 className=\"text-sm font-semibold text-gray-800 dark:text-gray-100\">\n                      {currentDate.toLocaleDateString(language === 'bn' ? 'bn-BD' : language === 'hi' ? 'hi-IN' : 'en-US', { month: 'long', year: 'numeric' })}\n                    </h4>\n                    <button\n                      onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1))}\n                      className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                    >\n                      <FiChevronRight className=\"text-gray-600 dark:text-gray-300\" />\n                    </button>\n                  </div>\n\n                  {/* Day Headers */}\n                  <div className=\"grid grid-cols-7 gap-1 mb-2\">\n                    {['S', 'M', 'T', 'W', 'T', 'F', 'S'].map((day, i) => (\n                      <div key={i} className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 text-center py-1\">{day}</div>\n                    ))}\n                  </div>\n\n                  {/* Calendar Days */}\n                  <div className=\"grid grid-cols-7 gap-1\">\n                    {(() => {\n                      const year = currentDate.getFullYear();\n                      const month = currentDate.getMonth();\n                      const firstDay = new Date(year, month, 1).getDay();\n                      const daysInMonth = new Date(year, month + 1, 0).getDate();\n                      const today = new Date();\n                      \n                      const days = [];\n                      \n                      // Empty cells for days before month starts\n                      for (let i = 0; i < firstDay; i++) {\n                        days.push(<div key={`empty-${i}`} className=\"h-8\"></div>);\n                      }\n                      \n                      // Days of the month\n                      for (let day = 1; day <= daysInMonth; day++) {\n                        const date = new Date(year, month, day);\n                        const isToday = date.toDateString() === today.toDateString();\n                        const isCurrentMonth = date.getMonth() === month;\n                        \n                        days.push(\n                          <button\n                            key={day}\n                            className={`h-8 w-8 rounded text-xs font-medium transition-colors ${\n                              isToday\n                                ? 'bg-blue-600 text-white dark:bg-blue-500'\n                                : isCurrentMonth\n                                ? 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                                : 'text-gray-400 dark:text-gray-600'\n                            }`}\n                          >\n                            {day}\n                          </button>\n                        );\n                      }\n                      \n                      return days;\n                    })()}\n                  </div>\n\n                  {/* Today Button */}\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <button\n                      onClick={() => {\n                        setCurrentDate(new Date());\n                        showNotification(t('calendar_today'), 'info');\n                      }}\n                      className=\"w-full px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                    >\n                      {t('today')}\n                    </button>\n                  </div>\n\n                  {/* Current Date Display */}\n                  <div className=\"mt-3 text-center\">\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                      {t('today')}: {new Date().toLocaleDateString(language === 'bn' ? 'bn-BD' : language === 'hi' ? 'hi-IN' : 'en-US', { weekday: 'short', month: 'short', day: 'numeric' })}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Flagged Items Button */}\n          <button \n            onClick={() => showNotification(`${t('flagged_items') || 'Flagged items'}: ${completedFlags}/${flaggedItems}`, 'info')}\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-1\"\n          >\n            <FiFlag className=\"text-xl text-gray-600 dark:text-gray-300\" />\n            <span className=\"text-sm text-gray-600 dark:text-gray-300\">{completedFlags}/{flaggedItems}</span>\n          </button>\n\n          {/* User Profile Dropdown */}\n          <div className=\"relative\" ref={userMenuRef}>\n            <button\n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center gap-3 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                {getInitials(user?.name || 'Admin')}\n              </div>\n              <div className=\"text-left hidden md:block\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{user?.name || 'Admin User'}</p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Super admin</p>\n              </div>\n              <FiChevronDown className={`text-gray-600 dark:text-gray-300 hidden md:block transition-transform ${showUserMenu ? 'rotate-180' : ''}`} />\n            </button>\n\n            {showUserMenu && (\n              <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50\">\n                <button\n                  onClick={handleProfileSettings}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Profile Settings\n                </button>\n                <button\n                  onClick={handleAccountSettings}\n                  className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                >\n                  Account Settings\n                </button>\n                <div className=\"border-t border-gray-200 dark:border-gray-700 my-2\"></div>\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors\"\n                >\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default AdminHeader;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1621, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/admin/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState, useRef, useImperativeHandle } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useNotification } from '@/context/NotificationContext';\r\nimport { useLanguage } from '@/context/LanguageContext';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport Loading from '@/components/Loading';\r\nimport api from '@/lib/api';\r\nimport { FiCalendar, FiUser, FiFileText, FiClock, FiMoreVertical, FiEdit, FiTrash2, FiEye, FiX, FiCheck, FiPlus, FiFileText as FiFileTextIcon, FiChevronDown, FiMessageCircle, FiSend, FiSearch, FiPaperclip } from 'react-icons/fi';\r\nimport { format, parseISO, formatDistanceToNow } from 'date-fns';\r\nimport AdminSidebar from '@/components/AdminSidebar';\r\nimport AdminHeader from '@/components/AdminHeader';\r\n\r\nexport default function AdminDashboardPage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const { showNotification } = useNotification();\r\n  const { t } = useLanguage();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [stats, setStats] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSection, setActiveSection] = useState('/admin/dashboard');\r\n  const [headerSearchQuery, setHeaderSearchQuery] = useState('');\r\n  const usersViewRef = useRef<any>(null);\r\n  const appointmentsViewRef = useRef<any>(null);\r\n  const adsViewRef = useRef<any>(null);\r\n\r\n  // Sync activeSection with URL pathname\r\n  useEffect(() => {\r\n    // If we're on admin dashboard or one of the admin routes, sync activeSection with pathname\r\n    if (pathname && (pathname === '/admin/dashboard' || \r\n        pathname === '/admin/appointments' || \r\n        pathname === '/admin/users' || \r\n        pathname === '/admin/doctors' || \r\n        pathname === '/admin/prescriptions' || \r\n        pathname === '/admin/ads' ||\r\n        pathname === '/admin/chats')) {\r\n      setActiveSection(pathname);\r\n    } else if (pathname && pathname.startsWith('/admin/')) {\r\n      // For other admin routes, set to pathname\r\n      setActiveSection(pathname);\r\n    }\r\n  }, [pathname]);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && !user) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    if (user && user.role !== 'admin') {\r\n      // Redirect to appropriate dashboard\r\n      if (user.role === 'patient') {\r\n        router.push('/patient/dashboard');\r\n      } else if (user.role === 'doctor') {\r\n        router.push('/doctor/dashboard');\r\n      } else {\r\n        router.push('/dashboard');\r\n      }\r\n      return;\r\n    }\r\n    if (user && user.role === 'admin') {\r\n      fetchDashboardData();\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [dashboardResponse, pendingDoctorsResponse, topDoctorsResponse] = await Promise.all([\r\n        api.get('/admin/dashboard'),\r\n        api.get('/doctors/admin/pending'),\r\n        api.get('/admin/top-doctors?limit=5'),\r\n      ]);\r\n      setStats({\r\n        ...dashboardResponse.data,\r\n        pendingDoctors: pendingDoctorsResponse.data.doctors || [],\r\n        topDoctors: topDoctorsResponse.data.topDoctors || [],\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching dashboard data:', error);\r\n      setStats({\r\n        stats: { totalUsers: 0, totalDoctors: 0, totalAppointments: 0, pendingDoctors: 0 },\r\n        appointments: [],\r\n        prescriptions: [],\r\n        pendingDoctors: [],\r\n        topDoctors: [],\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getSectionTitle = () => {\r\n    switch (activeSection) {\r\n      case '/admin/dashboard': return 'Dashboard';\r\n      case '/admin/appointments': return 'Appointments';\r\n      case '/admin/users': return 'Users';\r\n      case '/admin/doctors': return 'Doctors';\r\n      case '/admin/prescriptions': return 'Prescriptions';\r\n      case '/admin/ads': return 'Advertisements';\r\n      case '/admin/chats': return 'Chats';\r\n      default: return 'Dashboard';\r\n    }\r\n  };\r\n\r\n  const handleHeaderSearch = (query: string) => {\r\n    setHeaderSearchQuery(query);\r\n  };\r\n\r\n  // Handle section change - update both state and URL\r\n  const handleSectionChange = (section: string) => {\r\n    setActiveSection(section);\r\n    // Update URL without full page reload\r\n    router.push(section);\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user || user.role !== 'admin') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\r\n      <AdminSidebar activeSection={activeSection} onSectionChange={handleSectionChange} />\r\n      <main className=\"ml-64 flex-1 bg-gray-50 dark:bg-gray-900 transition-colors\">\r\n        <AdminHeader \r\n          title={getSectionTitle()} \r\n          onSearch={activeSection === '/admin/users' ? handleHeaderSearch : undefined}\r\n          searchPlaceholder={activeSection === '/admin/users' ? 'Search users by name, email, or phone...' : undefined}\r\n          onQuickAdd={{\r\n            onAddUser: () => {\r\n              handleSectionChange('/admin/users');\r\n              setTimeout(() => {\r\n                if (usersViewRef.current?.openCreateModal) {\r\n                  usersViewRef.current.openCreateModal();\r\n                }\r\n              }, 100);\r\n            },\r\n            onAddDoctor: () => {\r\n              handleSectionChange('/admin/doctors');\r\n              showNotification('Navigate to Doctors section to review pending doctor applications', 'info');\r\n            },\r\n            onAddAppointment: () => {\r\n              handleSectionChange('/admin/appointments');\r\n              setTimeout(() => {\r\n                if (appointmentsViewRef.current?.openCreateModal) {\r\n                  appointmentsViewRef.current.openCreateModal();\r\n                }\r\n              }, 100);\r\n            },\r\n            onAddAdvertisement: () => {\r\n              handleSectionChange('/admin/ads');\r\n              setTimeout(() => {\r\n                if (adsViewRef.current?.openCreateModal) {\r\n                  adsViewRef.current.openCreateModal();\r\n                }\r\n              }, 100);\r\n            },\r\n          }}\r\n        />\r\n\r\n        <div className=\"p-8\">\r\n          {(activeSection === '/admin/dashboard' || activeSection === '/dashboard') && stats && (\r\n            <>\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2\">\r\n                  {t('welcome_back')}, {user.name}!\r\n                </h2>\r\n                <p className=\"text-gray-600 dark:text-gray-400\">{t('dashboard_overview') || \"Here's an overview of your system\"}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-8\">\r\n                {/* Stats Cards */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_users')}</p>\r\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalUsers || 0}</p>\r\n                      </div>\r\n                      <FiUser className=\"text-4xl text-teal-600 dark:text-teal-400\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_doctors')}</p>\r\n                        <p className=\"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mt-2\">{stats.stats?.totalDoctors || 0}</p>\r\n                      </div>\r\n                      <FiUser className=\"text-4xl text-indigo-600 dark:text-indigo-400\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_appointments')}</p>\r\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalAppointments || 0}</p>\r\n                      </div>\r\n                      <FiCalendar className=\"text-4xl text-teal-600 dark:text-teal-400\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('pending_doctors')}</p>\r\n                        <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2\">{stats.stats?.pendingDoctors || 0}</p>\r\n                      </div>\r\n                      <FiClock className=\"text-4xl text-orange-600 dark:text-orange-400\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Recent Appointments and Top Doctors Section */}\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                  {/* Recent Appointments Section */}\r\n                  {stats.recentAppointments && stats.recentAppointments.length > 0 && (\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                      <div className=\"flex items-center justify-between mb-4\">\r\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('recent_appointments')}</h2>\r\n                        <button\r\n                          onClick={() => handleSectionChange('/admin/appointments')}\r\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\r\n                        >\r\n                          {t('view_all')} â†’\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"space-y-3\">\r\n                        {stats.recentAppointments.slice(0, 5).map((appt: any) => (\r\n                        <div\r\n                          key={appt.id}\r\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\r\n                        >\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\r\n                              {appt.patient?.name || 'Patient'} - Dr. {appt.doctor?.user?.name || 'Doctor'}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\r\n                                {format(parseISO(appt.appointmentDate), 'MM/dd/yyyy')} at {appt.appointmentTime}\r\n                              </p>\r\n                              {appt.reason && (\r\n                                <p className=\"text-sm text-gray-700 dark:text-gray-300 mt-1\">{appt.reason}</p>\r\n                              )}\r\n                            </div>\r\n                            <span\r\n                              className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                                appt.status === 'confirmed'\r\n                                  ? 'bg-green-100 text-green-800'\r\n                                  : appt.status === 'pending'\r\n                                  ? 'bg-yellow-100 text-yellow-800'\r\n                                  : appt.status === 'completed'\r\n                                  ? 'bg-blue-100 text-blue-800'\r\n                                  : 'bg-red-100 text-red-800'\r\n                              }`}\r\n                            >\r\n                              {appt.status}\r\n                            </span>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Top Doctors Section */}\r\n                  {stats.topDoctors && stats.topDoctors.length > 0 && (\r\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\r\n                      <div className=\"flex items-center justify-between mb-4\">\r\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('top_doctors')}</h2>\r\n                        <button\r\n                          onClick={() => handleSectionChange('/admin/doctors')}\r\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\r\n                        >\r\n                          {t('view_all')} â†’\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"space-y-3\">\r\n                        {stats.topDoctors.map((doctor: any, index: number) => (\r\n                          <div\r\n                            key={doctor.id}\r\n                            className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\r\n                          >\r\n                            <div className=\"flex items-center gap-4 flex-1\">\r\n                              <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-lg\">\r\n                                {index + 1}\r\n                              </div>\r\n                              <div className=\"flex-1\">\r\n                                <p className=\"font-semibold text-gray-800 dark:text-gray-100\">Dr. {doctor.name}</p>\r\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization}</p>\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.email}</p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                              <p className=\"text-2xl font-bold text-teal-600 dark:text-teal-400\">{doctor.patientCount}</p>\r\n                              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Patients</p>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Pending Doctors Section */}\r\n                {stats.pendingDoctors && stats.pendingDoctors.length > 0 && (\r\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8 transition-colors\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">Pending Doctor Approvals</h2>\r\n                      <button\r\n                        onClick={() => setActiveSection('/admin/doctors')}\r\n                        className=\"text-teal-600 hover:text-teal-700 text-sm font-medium\"\r\n                      >\r\n                        View All â†’\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"space-y-3\">\r\n                      {stats.pendingDoctors.slice(0, 5).map((doctor: any) => (\r\n                        <div\r\n                          key={doctor.id}\r\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800\"\r\n                        >\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\r\n                              {doctor.user?.name || 'Doctor'}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization || 'N/A'}</p>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.department?.name || 'No Department'}</p>\r\n                          </div>\r\n                          <button\r\n                            onClick={() => setActiveSection('/admin/doctors')}\r\n                            className=\"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium\"\r\n                          >\r\n                            Review\r\n                          </button>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Quick Actions */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n                  <button\r\n                    onClick={() => setActiveSection('/admin/doctors')}\r\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\r\n                  >\r\n                    <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center\">\r\n                      <FiUser className=\"text-2xl text-indigo-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Doctors</h3>\r\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Approve pending doctors</p>\r\n                      {stats.stats?.pendingDoctors > 0 && (\r\n                        <p className=\"text-xs text-orange-600 mt-1 font-medium\">\r\n                          {stats.stats.pendingDoctors} pending approval\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveSection('/admin/appointments')}\r\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\r\n                  >\r\n                    <div className=\"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center\">\r\n                      <FiCalendar className=\"text-2xl text-teal-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">View Appointments</h3>\r\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Manage all appointments</p>\r\n                    </div>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveSection('/admin/users')}\r\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\r\n                  >\r\n                    <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                      <FiUser className=\"text-2xl text-blue-600\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Users</h3>\r\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">View all users</p>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Render different sections based on activeSection */}\r\n          {activeSection === '/admin/users' && (\r\n            <UsersManagementView \r\n              ref={usersViewRef}\r\n              onSectionChange={setActiveSection} \r\n              searchQuery={headerSearchQuery}\r\n            />\r\n          )}\r\n          \r\n          {activeSection === '/admin/doctors' && (\r\n            <DoctorsManagementView onSectionChange={setActiveSection} />\r\n          )}\r\n\r\n          {activeSection === '/admin/appointments' && (\r\n            <AppointmentsManagementView ref={appointmentsViewRef} />\r\n          )}\r\n\r\n          {activeSection === '/admin/chats' && (\r\n            <AdminChatsManagementView />\r\n          )}\r\n\r\n          {activeSection === '/admin/prescriptions' && (\r\n            <PrescriptionsManagementView />\r\n          )}\r\n\r\n          {activeSection === '/admin/ads' && (\r\n            <AdsManagementView ref={adsViewRef} />\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// View Components for Admin Dashboard Sections\r\n// These components are copied from dashboard/page.tsx for use in admin dashboard\r\n\r\nconst UsersManagementView = React.forwardRef(({ onSectionChange, searchQuery: externalSearchQuery }: any, ref: any) => {\r\n  const { showNotification } = useNotification();\r\n  const [users, setUsers] = useState<any[]>([]);\r\n  const [filteredUsers, setFilteredUsers] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'all' | 'patients' | 'doctors' | 'admins'>('all');\r\n  const searchQuery = externalSearchQuery || '';\r\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\r\n  const [sortColumn, setSortColumn] = useState<string>('name');\r\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\r\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\r\n  const [selectedUser, setSelectedUser] = useState<any>(null);\r\n  const [showUserModal, setShowUserModal] = useState(false);\r\n  const [isEditingUser, setIsEditingUser] = useState(false);\r\n  const [isCreatingUser, setIsCreatingUser] = useState(false);\r\n  const [editUserForm, setEditUserForm] = useState<any>({});\r\n  const [newUserForm, setNewUserForm] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    phone: '',\r\n    role: 'patient',\r\n    address: '',\r\n  });\r\n\r\n  // Expose methods to parent via ref\r\n  useImperativeHandle(ref, () => ({\r\n    openCreateModal: () => {\r\n      setNewUserForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        phone: '',\r\n        role: 'patient',\r\n        address: '',\r\n      });\r\n      setIsCreatingUser(true);\r\n      setIsEditingUser(false);\r\n      setSelectedUser(null);\r\n      setShowUserModal(true);\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterUsers();\r\n  }, [users, activeTab, searchQuery, sortColumn, sortDirection]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/admin/users?limit=100');\r\n      setUsers(response.data.users || []);\r\n      setFilteredUsers(response.data.users || []);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterUsers = () => {\r\n    let filtered = [...users];\r\n    \r\n    if (activeTab !== 'all') {\r\n      filtered = filtered.filter((u) => u.role === activeTab.slice(0, -1));\r\n    }\r\n    \r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (u) =>\r\n          u.name?.toLowerCase().includes(query) ||\r\n          u.email?.toLowerCase().includes(query) ||\r\n          u.phone?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    filtered.sort((a, b) => {\r\n      let aVal = a[sortColumn] || '';\r\n      let bVal = b[sortColumn] || '';\r\n      if (typeof aVal === 'string') {\r\n        aVal = aVal.toLowerCase();\r\n        bVal = bVal.toLowerCase();\r\n      }\r\n      if (sortDirection === 'asc') {\r\n        return aVal > bVal ? 1 : -1;\r\n      } else {\r\n        return aVal < bVal ? 1 : -1;\r\n      }\r\n    });\r\n    \r\n    setFilteredUsers(filtered);\r\n  };\r\n\r\n  const handleSort = (column: string) => {\r\n    if (sortColumn === column) {\r\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortColumn(column);\r\n      setSortDirection('asc');\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.checked) {\r\n      setSelectedUsers(filteredUsers.map((u) => u.id));\r\n    } else {\r\n      setSelectedUsers([]);\r\n    }\r\n  };\r\n\r\n  const handleSelectUser = (userId: string) => {\r\n    if (selectedUsers.includes(userId)) {\r\n      setSelectedUsers(selectedUsers.filter((id) => id !== userId));\r\n    } else {\r\n      setSelectedUsers([...selectedUsers, userId]);\r\n    }\r\n  };\r\n\r\n  const getRoleBadgeColor = (role: string) => {\r\n    switch (role) {\r\n      case 'admin': return 'bg-purple-100 text-purple-800';\r\n      case 'doctor': return 'bg-blue-100 text-blue-800';\r\n      case 'patient': return 'bg-green-100 text-green-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (userId: string, userName: string) => {\r\n    if (!confirm(`Are you sure you want to delete ${userName}? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.delete(`/admin/users/${userId}`);\r\n      showNotification('User deleted successfully', 'success');\r\n      setActionMenuOpen(null);\r\n      fetchUsers();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to delete user', 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteSelected = async () => {\r\n    if (selectedUsers.length === 0) {\r\n      showNotification('Please select users to delete', 'warning');\r\n      return;\r\n    }\r\n\r\n    if (!confirm(`Are you sure you want to delete ${selectedUsers.length} user(s)? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.delete('/admin/users', {\r\n        data: { userIds: selectedUsers },\r\n      });\r\n      showNotification(`${selectedUsers.length} user(s) deleted successfully`, 'success');\r\n      setSelectedUsers([]);\r\n      fetchUsers();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to delete users', 'error');\r\n    }\r\n  };\r\n\r\n  const openUserModal = async (user: any, editMode: boolean = false) => {\r\n    try {\r\n      // Fetch full user details\r\n      const response = await api.get(`/users/${user.id}`);\r\n      const fullUser = response.data.user;\r\n      setSelectedUser(fullUser);\r\n      setEditUserForm({\r\n        name: fullUser.name || '',\r\n        email: fullUser.email || '',\r\n        phone: fullUser.phone || '',\r\n        address: fullUser.address || '',\r\n        role: fullUser.role || '',\r\n        dateOfBirth: fullUser.dateOfBirth ? new Date(fullUser.dateOfBirth).toISOString().split('T')[0] : '',\r\n        weight: fullUser.weight || '',\r\n        height: fullUser.height || '',\r\n        homePhone: fullUser.homePhone || '',\r\n        workPhone: fullUser.workPhone || '',\r\n        allergies: Array.isArray(fullUser.allergies) ? fullUser.allergies : [],\r\n        bloodPressure: fullUser.bloodPressure || '',\r\n        pulse: fullUser.pulse || '',\r\n      });\r\n      setIsEditingUser(editMode);\r\n      setShowUserModal(true);\r\n      setActionMenuOpen(null);\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to fetch user details', 'error');\r\n    }\r\n  };\r\n\r\n  const handleCreateUser = async () => {\r\n    try {\r\n      if (!newUserForm.name || !newUserForm.email || !newUserForm.password) {\r\n        showNotification('Name, email, and password are required', 'error');\r\n        return;\r\n      }\r\n\r\n      await api.post('/auth/register', {\r\n        name: newUserForm.name,\r\n        email: newUserForm.email,\r\n        password: newUserForm.password,\r\n        phone: newUserForm.phone || null,\r\n        role: newUserForm.role,\r\n        address: newUserForm.address || null,\r\n      });\r\n      \r\n      showNotification('User created successfully', 'success');\r\n      setIsCreatingUser(false);\r\n      setShowUserModal(false);\r\n      setNewUserForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        phone: '',\r\n        role: 'patient',\r\n        address: '',\r\n      });\r\n      fetchUsers();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to create user', 'error');\r\n    }\r\n  };\r\n\r\n  const handleUpdateUser = async () => {\r\n    try {\r\n      const updateData = {\r\n        ...editUserForm,\r\n        allergies: Array.isArray(editUserForm.allergies) ? editUserForm.allergies : [],\r\n      };\r\n\r\n      await api.put(`/admin/users/${selectedUser.id}`, updateData);\r\n      showNotification('User updated successfully', 'success');\r\n      setIsEditingUser(false);\r\n      setShowUserModal(false);\r\n      setSelectedUser(null);\r\n      fetchUsers();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to update user', 'error');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  const activeCount = filteredUsers.length;\r\n  const totalCount = users.length;\r\n\r\n  return (\r\n    <div>\r\n      {/* Tabs */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            onClick={() => setActiveTab('all')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'all'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            All Users ({totalCount})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('patients')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'patients'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Patients ({users.filter((u) => u.role === 'patient').length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('doctors')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'doctors'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Doctors ({users.filter((u) => u.role === 'doctor').length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('admins')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'admins'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Admins ({users.filter((u) => u.role === 'admin').length})\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Count and Actions */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{activeCount} users</p>\r\n        {selectedUsers.length > 0 && (\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">{selectedUsers.length} selected</span>\r\n            <button\r\n              onClick={handleDeleteSelected}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\"\r\n            >\r\n              Delete Selected\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\r\n              <tr>\r\n                <th className=\"px-6 py-4 text-left\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}\r\n                    onChange={handleSelectAll}\r\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                  />\r\n                </th>\r\n                <th\r\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\r\n                  onClick={() => handleSort('name')}\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    Name\r\n                    {sortColumn === 'name' && (\r\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\r\n                    )}\r\n                  </div>\r\n                </th>\r\n                <th\r\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\r\n                  onClick={() => handleSort('email')}\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    Email\r\n                    {sortColumn === 'email' && (\r\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\r\n                    )}\r\n                  </div>\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Phone\r\n                </th>\r\n                <th\r\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\r\n                  onClick={() => handleSort('role')}\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    Role\r\n                    {sortColumn === 'role' && (\r\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\r\n                    )}\r\n                  </div>\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\r\n              {filteredUsers.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                    No users found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredUsers.map((userItem) => (\r\n                  <tr key={userItem.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedUsers.includes(userItem.id)}\r\n                        onChange={() => handleSelectUser(userItem.id)}\r\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\r\n                      />\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\r\n                          {userItem.name?.charAt(0)?.toUpperCase() || 'U'}\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{userItem.name || 'N/A'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.email || 'N/A'}</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.phone || '-'}</td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getRoleBadgeColor(userItem.role)}`}>\r\n                        {userItem.role || 'N/A'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right relative\">\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setActionMenuOpen(actionMenuOpen === userItem.id ? null : userItem.id);\r\n                        }}\r\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                      >\r\n                        <FiMoreVertical className=\"text-gray-600\" />\r\n                      </button>\r\n                      {actionMenuOpen === userItem.id && (\r\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              openUserModal(userItem, false);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\r\n                          >\r\n                            <FiEye className=\"text-base\" />\r\n                            View Details\r\n                          </button>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              openUserModal(userItem, true);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\r\n                          >\r\n                            <FiEdit className=\"text-base\" />\r\n                            Edit\r\n                          </button>\r\n                          <div className=\"border-t border-gray-200 my-2\"></div>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              handleDeleteUser(userItem.id, userItem.name);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\r\n                          >\r\n                            <FiTrash2 className=\"text-base\" />\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {actionMenuOpen && (\r\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\r\n      )}\r\n\r\n      {/* User View/Edit/Create Modal */}\r\n      {showUserModal && (selectedUser || isCreatingUser) && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\r\n            {/* Modal Header */}\r\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">\r\n                  {isCreatingUser ? 'Create New User' : isEditingUser ? 'Edit User' : 'User Details'}\r\n                </h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowUserModal(false);\r\n                    setSelectedUser(null);\r\n                    setIsEditingUser(false);\r\n                    setIsCreatingUser(false);\r\n                  }}\r\n                  className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                >\r\n                  <FiX className=\"text-xl text-gray-600 dark:text-gray-300\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Modal Body - Scrollable */}\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              {isCreatingUser ? (\r\n                // Create User Form\r\n                <div className=\"grid grid-cols-2 gap-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newUserForm.name}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, name: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email *</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      value={newUserForm.email}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, email: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Password *</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      value={newUserForm.password}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, password: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={newUserForm.phone}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, phone: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role *</label>\r\n                    <select\r\n                      value={newUserForm.role}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, role: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                    >\r\n                      <option value=\"patient\">Patient</option>\r\n                      <option value=\"doctor\">Doctor</option>\r\n                      <option value=\"admin\">Admin</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\r\n                    <textarea\r\n                      value={newUserForm.address}\r\n                      onChange={(e) => setNewUserForm({ ...newUserForm, address: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      rows={2}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                // View/Edit User Form\r\n                <div className=\"grid grid-cols-2 gap-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name</label>\r\n                    {isEditingUser ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editUserForm.name}\r\n                        onChange={(e) => setEditUserForm({ ...editUserForm, name: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.name || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email</label>\r\n                    {isEditingUser ? (\r\n                      <input\r\n                        type=\"email\"\r\n                        value={editUserForm.email}\r\n                        onChange={(e) => setEditUserForm({ ...editUserForm, email: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.email || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\r\n                    {isEditingUser ? (\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={editUserForm.phone}\r\n                        onChange={(e) => setEditUserForm({ ...editUserForm, phone: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.phone || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role</label>\r\n                    {isEditingUser ? (\r\n                      <select\r\n                        value={editUserForm.role}\r\n                        onChange={(e) => setEditUserForm({ ...editUserForm, role: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                      >\r\n                        <option value=\"patient\">Patient</option>\r\n                        <option value=\"doctor\">Doctor</option>\r\n                        <option value=\"admin\">Admin</option>\r\n                      </select>\r\n                    ) : (\r\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.role || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\r\n                    {isEditingUser ? (\r\n                      <textarea\r\n                        value={editUserForm.address}\r\n                        onChange={(e) => setEditUserForm({ ...editUserForm, address: e.target.value })}\r\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                        rows={2}\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.address || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n\r\n                {selectedUser && selectedUser.role === 'patient' && (\r\n                  <>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Date of Birth</label>\r\n                      {isEditingUser ? (\r\n                        <input\r\n                          type=\"date\"\r\n                          value={editUserForm.dateOfBirth}\r\n                          onChange={(e) => setEditUserForm({ ...editUserForm, dateOfBirth: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      ) : (\r\n                        <p className=\"text-gray-800\">\r\n                          {selectedUser.dateOfBirth ? new Date(selectedUser.dateOfBirth).toLocaleDateString() : 'N/A'}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Weight</label>\r\n                      {isEditingUser ? (\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editUserForm.weight}\r\n                          onChange={(e) => setEditUserForm({ ...editUserForm, weight: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      ) : (\r\n                        <p className=\"text-gray-800\">{selectedUser.weight || 'N/A'}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Height</label>\r\n                      {isEditingUser ? (\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editUserForm.height}\r\n                          onChange={(e) => setEditUserForm({ ...editUserForm, height: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      ) : (\r\n                        <p className=\"text-gray-800\">{selectedUser.height || 'N/A'}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Blood Pressure</label>\r\n                      {isEditingUser ? (\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editUserForm.bloodPressure}\r\n                          onChange={(e) => setEditUserForm({ ...editUserForm, bloodPressure: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      ) : (\r\n                        <p className=\"text-gray-800\">{selectedUser.bloodPressure || 'N/A'}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Pulse</label>\r\n                      {isEditingUser ? (\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editUserForm.pulse}\r\n                          onChange={(e) => setEditUserForm({ ...editUserForm, pulse: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      ) : (\r\n                        <p className=\"text-gray-800\">{selectedUser.pulse || 'N/A'}</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"col-span-2\">\r\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Allergies</label>\r\n                      {isEditingUser ? (\r\n                        <div className=\"space-y-2\">\r\n                          {editUserForm.allergies.map((allergy: string, idx: number) => (\r\n                            <div key={idx} className=\"flex gap-2\">\r\n                              <input\r\n                                type=\"text\"\r\n                                value={allergy}\r\n                                onChange={(e) => {\r\n                                  const updated = [...editUserForm.allergies];\r\n                                  updated[idx] = e.target.value;\r\n                                  setEditUserForm({ ...editUserForm, allergies: updated });\r\n                                }}\r\n                                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                              />\r\n                              <button\r\n                                onClick={() => {\r\n                                  setEditUserForm({\r\n                                    ...editUserForm,\r\n                                    allergies: editUserForm.allergies.filter((_: any, i: number) => i !== idx),\r\n                                  });\r\n                                }}\r\n                                className=\"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n                              >\r\n                                <FiX />\r\n                              </button>\r\n                            </div>\r\n                          ))}\r\n                          <button\r\n                            onClick={() => {\r\n                              setEditUserForm({\r\n                                ...editUserForm,\r\n                                allergies: [...editUserForm.allergies, ''],\r\n                              });\r\n                            }}\r\n                            className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\r\n                          >\r\n                            <FiPlus className=\"inline mr-1\" /> Add Allergy\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {Array.isArray(selectedUser.allergies) && selectedUser.allergies.length > 0 ? (\r\n                            selectedUser.allergies.map((allergy: string, idx: number) => (\r\n                              <span key={idx} className=\"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm\">\r\n                                {allergy}\r\n                              </span>\r\n                            ))\r\n                          ) : (\r\n                            <p className=\"text-gray-800\">None</p>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                )}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Modal Footer */}\r\n            <div className=\"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-4 transition-colors\">\r\n              {isCreatingUser ? (\r\n                <>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowUserModal(false);\r\n                      setIsCreatingUser(false);\r\n                      setNewUserForm({\r\n                        name: '',\r\n                        email: '',\r\n                        password: '',\r\n                        phone: '',\r\n                        role: 'patient',\r\n                        address: '',\r\n                      });\r\n                    }}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleCreateUser}\r\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n                  >\r\n                    Create User\r\n                  </button>\r\n                </>\r\n              ) : isEditingUser ? (\r\n                <>\r\n                  <button\r\n                    onClick={() => setIsEditingUser(false)}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    onClick={handleUpdateUser}\r\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n                  >\r\n                    Save Changes\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowUserModal(false);\r\n                      setSelectedUser(null);\r\n                    }}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setIsEditingUser(true)}\r\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nUsersManagementView.displayName = 'UsersManagementView';\r\n\r\nconst DoctorsManagementView = ({ onSectionChange }: any) => {\r\n  const { showNotification } = useNotification();\r\n  const [pendingDoctors, setPendingDoctors] = useState<any[]>([]);\r\n  const [approvedDoctors, setApprovedDoctors] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'pending' | 'approved'>('approved');\r\n  const [selectedDoctor, setSelectedDoctor] = useState<any>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [notes, setNotes] = useState('');\r\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\r\n  const [isEditingDoctor, setIsEditingDoctor] = useState(false);\r\n  const [editDoctorForm, setEditDoctorForm] = useState<any>({});\r\n  const [departments, setDepartments] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetchPendingDoctors();\r\n    fetchApprovedDoctors();\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'approved') {\r\n      fetchApprovedDoctors();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const fetchDepartments = async () => {\r\n    try {\r\n      const response = await api.get('/departments');\r\n      setDepartments(response.data.departments || []);\r\n    } catch (error) {\r\n      console.error('Error fetching departments:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPendingDoctors = async () => {\r\n    try {\r\n      const response = await api.get('/doctors/admin/pending');\r\n      setPendingDoctors(response.data.doctors || []);\r\n    } catch (error) {\r\n      console.error('Error fetching pending doctors:', error);\r\n    }\r\n  };\r\n\r\n  const fetchApprovedDoctors = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/doctors/admin/approved?limit=100');\r\n      setApprovedDoctors(response.data.doctors || []);\r\n    } catch (error) {\r\n      console.error('Error fetching approved doctors:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (doctorId: string) => {\r\n    try {\r\n      await api.put(`/doctors/admin/${doctorId}/approve`, { notes });\r\n      setShowModal(false);\r\n      setSelectedDoctor(null);\r\n      setNotes('');\r\n      setSuccessMessage('Doctor approved successfully!');\r\n      setShowSuccessMessage(true);\r\n      fetchPendingDoctors();\r\n      fetchApprovedDoctors();\r\n      showNotification('Doctor approved successfully!', 'success');\r\n      \r\n      setTimeout(() => {\r\n        setShowSuccessMessage(false);\r\n      }, 3000);\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to approve doctor', 'error');\r\n    }\r\n  };\r\n\r\n  const handleReject = async (doctorId: string) => {\r\n    if (!notes.trim()) {\r\n      showNotification('Please provide a reason for rejection', 'warning');\r\n      return;\r\n    }\r\n\r\n    if (!confirm('Are you sure you want to reject this doctor application?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.put(`/doctors/admin/${doctorId}/reject`, { notes });\r\n      showNotification('Doctor application rejected', 'info');\r\n      setShowModal(false);\r\n      setSelectedDoctor(null);\r\n      setNotes('');\r\n      fetchPendingDoctors();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to reject doctor', 'error');\r\n    }\r\n  };\r\n\r\n  const openModal = (doctor: any, isApproved: boolean = false) => {\r\n    const parsedDoctor = { ...doctor };\r\n    \r\n    if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\r\n      try {\r\n        parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\r\n      } catch (e) {\r\n        parsedDoctor.availableDays = [];\r\n      }\r\n    }\r\n    \r\n    if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\r\n      try {\r\n        parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\r\n      } catch (e) {\r\n        parsedDoctor.previousJobs = [];\r\n      }\r\n    }\r\n    \r\n    if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\r\n      try {\r\n        parsedDoctor.education = JSON.parse(parsedDoctor.education);\r\n      } catch (e) {\r\n        parsedDoctor.education = [];\r\n      }\r\n    }\r\n    \r\n    setSelectedDoctor({ ...parsedDoctor, _isApproved: isApproved });\r\n    \r\n    if (isApproved) {\r\n      setEditDoctorForm({\r\n        departmentId: parsedDoctor.departmentId || '',\r\n        specialization: parsedDoctor.specialization || '',\r\n        experience: parsedDoctor.experience?.toString() || '',\r\n        qualification: parsedDoctor.qualification || '',\r\n        bio: parsedDoctor.bio || '',\r\n        consultationFee: parsedDoctor.consultationFee?.toString() || '',\r\n        availableFrom: parsedDoctor.availableFrom || '',\r\n        availableTo: parsedDoctor.availableTo || '',\r\n        availableDays: Array.isArray(parsedDoctor.availableDays) ? parsedDoctor.availableDays : [],\r\n        previousJobs: Array.isArray(parsedDoctor.previousJobs) ? parsedDoctor.previousJobs : [],\r\n        education: Array.isArray(parsedDoctor.education) ? parsedDoctor.education : [],\r\n      });\r\n    }\r\n    \r\n    setIsEditingDoctor(false);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleUpdateDoctor = async () => {\r\n    try {\r\n      const updateData = {\r\n        ...editDoctorForm,\r\n        availableDays: JSON.stringify(editDoctorForm.availableDays),\r\n        previousJobs: JSON.stringify(editDoctorForm.previousJobs),\r\n        education: JSON.stringify(editDoctorForm.education),\r\n      };\r\n\r\n      await api.put(`/doctors/${selectedDoctor.id}`, updateData);\r\n      showNotification('Doctor updated successfully', 'success');\r\n      setIsEditingDoctor(false);\r\n      setShowModal(false);\r\n      setSelectedDoctor(null);\r\n      fetchApprovedDoctors();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to update doctor', 'error');\r\n    }\r\n  };\r\n\r\n  if (loading && approvedDoctors.length === 0) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      {showSuccessMessage && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]\">\r\n          <div className=\"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all\">\r\n            <div className=\"text-center\">\r\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <FiCheck className=\"text-3xl text-green-600\" />\r\n              </div>\r\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">Success!</h3>\r\n              <p className=\"text-lg text-gray-600 mb-6\">{successMessage}</p>\r\n              <button\r\n                onClick={() => setShowSuccessMessage(false)}\r\n                className=\"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            onClick={() => setActiveTab('approved')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'approved'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Approved Doctors ({approvedDoctors.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('pending')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'pending'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Pending Doctors ({pendingDoctors.length})\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {activeTab === 'pending' && pendingDoctors.length === 0 && (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\r\n          <p className=\"text-gray-600 text-lg\">No pending doctor applications</p>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'pending' && pendingDoctors.length > 0 && (\r\n        <div className=\"space-y-4\">\r\n          {pendingDoctors.map((doctor) => (\r\n            <div \r\n              key={doctor.id} \r\n              onClick={() => openModal(doctor)}\r\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all cursor-pointer text-gray-900 dark:text-gray-100\"\r\n            >\r\n              <div className=\"flex justify-between items-start\">\r\n                <div className=\"flex items-start gap-4 flex-1\">\r\n                  <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xl font-bold overflow-hidden\">\r\n                    {doctor.profileImage ? (\r\n                      <img \r\n                        src={`data:${doctor.profileImageMimeType || 'image/jpeg'};base64,${doctor.profileImage}`} \r\n                        alt={doctor.user?.name}\r\n                        className=\"w-full h-full rounded-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                      <h3 className=\"text-xl font-semibold text-gray-800\">{doctor.user?.name}</h3>\r\n                      <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold\">\r\n                        Pending\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 mb-1\">{doctor.specialization}</p>\r\n                    <p className=\"text-xs text-gray-500\">{doctor.department?.name}</p>\r\n                    <div className=\"flex gap-4 mt-3 text-xs text-gray-500\">\r\n                      <span>{doctor.experience || 0} years exp</span>\r\n                      <span>â€¢</span>\r\n                      <span>BDT {doctor.consultationFee || 0} fee</span>\r\n                      <span>â€¢</span>\r\n                      <span>{doctor.user?.email}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button \r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    openModal(doctor);\r\n                  }}\r\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ml-4\"\r\n                >\r\n                  View Details\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'approved' && approvedDoctors.length === 0 && (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\r\n          <p className=\"text-gray-600 text-lg\">No approved doctors yet</p>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'approved' && approvedDoctors.length > 0 && (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\r\n                <tr>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Doctor Name\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Specialization\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Department\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Email\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Phone\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Experience\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Consultation Fee\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\r\n                {approvedDoctors.map((doctor) => (\r\n                  <tr key={doctor.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\r\n                          {doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\r\n                        </div>\r\n                        <span className=\"text-sm font-medium text-gray-900\">{doctor.user?.name || 'N/A'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.specialization || 'N/A'}</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.department?.name || 'N/A'}</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.email || 'N/A'}</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.phone || '-'}</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.experience || 0} years</td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">BDT {doctor.consultationFee || 0}</td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className=\"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800\">\r\n                        Approved\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right relative\">\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setActionMenuOpen(actionMenuOpen === doctor.id ? null : doctor.id);\r\n                        }}\r\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                      >\r\n                        <FiMoreVertical className=\"text-gray-600\" />\r\n                      </button>\r\n                      {actionMenuOpen === doctor.id && (\r\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              openModal(doctor, true);\r\n                              setActionMenuOpen(null);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\r\n                          >\r\n                            <FiEye className=\"text-base\" />\r\n                            View Details\r\n                          </button>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              const parsedDoctor = { ...doctor };\r\n                              if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\r\n                                try {\r\n                                  parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\r\n                                } catch (e) {\r\n                                  parsedDoctor.availableDays = [];\r\n                                }\r\n                              }\r\n                              if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\r\n                                try {\r\n                                  parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\r\n                                } catch (e) {\r\n                                  parsedDoctor.previousJobs = [];\r\n                                }\r\n                              }\r\n                              if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\r\n                                try {\r\n                                  parsedDoctor.education = JSON.parse(parsedDoctor.education);\r\n                                } catch (e) {\r\n                                  parsedDoctor.education = [];\r\n                                }\r\n                              }\r\n                              openModal(parsedDoctor, true);\r\n                              setIsEditingDoctor(true);\r\n                              setActionMenuOpen(null);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\r\n                          >\r\n                            <FiEdit className=\"text-base\" />\r\n                            Edit\r\n                          </button>\r\n                          <div className=\"border-t border-gray-200 my-2\"></div>\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation();\r\n                              if (confirm(`Are you sure you want to delete ${doctor.user?.name}?`)) {\r\n                                showNotification('Delete functionality coming soon', 'info');\r\n                              }\r\n                              setActionMenuOpen(null);\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\r\n                          >\r\n                            <FiTrash2 className=\"text-base\" />\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {actionMenuOpen && (\r\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\r\n      )}\r\n\r\n      {showModal && selectedDoctor && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\r\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">\r\n                  {isEditingDoctor ? 'Edit Doctor Profile' : selectedDoctor._isApproved ? 'Doctor Details' : 'Review Doctor Application'}\r\n                </h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setSelectedDoctor(null);\r\n                    setNotes('');\r\n                  }}\r\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                >\r\n                  <FiX className=\"text-xl text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              <div className=\"flex items-start gap-6 mb-6 pb-6 border-b border-gray-200\">\r\n                <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-3xl font-bold overflow-hidden\">\r\n                  {selectedDoctor.profileImage ? (\r\n                    <img \r\n                      src={`data:${selectedDoctor.profileImageMimeType || 'image/jpeg'};base64,${selectedDoctor.profileImage}`} \r\n                      alt={selectedDoctor.user?.name}\r\n                      className=\"w-full h-full rounded-full object-cover\"\r\n                    />\r\n                  ) : (\r\n                    selectedDoctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <h3 className=\"text-3xl font-bold text-gray-800\">\r\n                      {selectedDoctor.user?.name}\r\n                    </h3>\r\n                    {selectedDoctor._isApproved ? (\r\n                      <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold\">\r\n                        Approved\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold\">\r\n                        Pending Approval\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <p className=\"text-lg text-gray-600 mb-1\">{selectedDoctor.specialization}</p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {selectedDoctor.department?.icon} {selectedDoctor.department?.name}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-6 mb-6 pb-6 border-b border-gray-200\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500 mb-1\">Email</p>\r\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.email}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500 mb-1\">Phone</p>\r\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.phone || 'N/A'}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500 mb-1\">Department</label>\r\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                    <select\r\n                      value={editDoctorForm.departmentId}\r\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, departmentId: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    >\r\n                      <option value=\"\">Select Department</option>\r\n                      {departments.map((dept) => (\r\n                        <option key={dept.id} value={dept.id}>\r\n                          {dept.icon} {dept.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  ) : (\r\n                    <p className=\"font-semibold text-gray-800\">\r\n                      {selectedDoctor.department?.icon} {selectedDoctor.department?.name || 'N/A'}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500 mb-1\">Specialization</label>\r\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editDoctorForm.specialization}\r\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, specialization: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.specialization || 'N/A'}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500 mb-1\">Experience</label>\r\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                    <input\r\n                      type=\"number\"\r\n                      value={editDoctorForm.experience}\r\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, experience: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.experience || 0} years</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm text-gray-500 mb-1\">Consultation Fee</label>\r\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                    <input\r\n                      type=\"number\"\r\n                      value={editDoctorForm.consultationFee}\r\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, consultationFee: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"font-semibold text-gray-800\">BDT {selectedDoctor.consultationFee || 0}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Qualifications</h4>\r\n                {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                  <textarea\r\n                    value={editDoctorForm.qualification}\r\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, qualification: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    rows={4}\r\n                  />\r\n                ) : (\r\n                  <p className=\"text-gray-700 whitespace-pre-line\">{selectedDoctor.qualification || 'N/A'}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Bio</h4>\r\n                {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                  <textarea\r\n                    value={editDoctorForm.bio}\r\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, bio: e.target.value })}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    rows={4}\r\n                  />\r\n                ) : (\r\n                  <p className=\"text-gray-700\">{selectedDoctor.bio || 'N/A'}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Previous Jobs</h4>\r\n                {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                  <div className=\"space-y-3\">\r\n                    {(editDoctorForm.previousJobs || []).map((job: any, index: number) => (\r\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={job.position || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.previousJobs || [])];\r\n                            updated[index] = { ...updated[index], position: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\r\n                          }}\r\n                          placeholder=\"Position\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={job.hospital || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.previousJobs || [])];\r\n                            updated[index] = { ...updated[index], hospital: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\r\n                          }}\r\n                          placeholder=\"Hospital\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={job.years || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.previousJobs || [])];\r\n                            updated[index] = { ...updated[index], years: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\r\n                          }}\r\n                          placeholder=\"Years\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            setEditDoctorForm({\r\n                              ...editDoctorForm,\r\n                              previousJobs: (editDoctorForm.previousJobs || []).filter((_: any, i: number) => i !== index),\r\n                            });\r\n                          }}\r\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\r\n                        >\r\n                          <FiX className=\"inline mr-1\" /> Remove\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setEditDoctorForm({\r\n                          ...editDoctorForm,\r\n                          previousJobs: [...(editDoctorForm.previousJobs || []), { position: '', hospital: '', years: '' }],\r\n                        });\r\n                      }}\r\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\r\n                    >\r\n                      <FiPlus className=\"inline mr-1\" /> Add Job\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {selectedDoctor.previousJobs && Array.isArray(selectedDoctor.previousJobs) && selectedDoctor.previousJobs.length > 0 ? (\r\n                      selectedDoctor.previousJobs.map((job: any, index: number) => (\r\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                          <p className=\"font-semibold text-gray-800\">{job.position}</p>\r\n                          <p className=\"text-sm text-gray-600\">{job.hospital}</p>\r\n                          <p className=\"text-xs text-gray-500 mt-1\">{job.years}</p>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <p className=\"text-gray-500\">No previous jobs listed</p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Education</h4>\r\n                {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                  <div className=\"space-y-3\">\r\n                    {(editDoctorForm.education || []).map((edu: any, index: number) => (\r\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={edu.degree || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.education || [])];\r\n                            updated[index] = { ...updated[index], degree: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\r\n                          }}\r\n                          placeholder=\"Degree\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={edu.institution || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.education || [])];\r\n                            updated[index] = { ...updated[index], institution: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\r\n                          }}\r\n                          placeholder=\"Institution\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={edu.year || ''}\r\n                          onChange={(e) => {\r\n                            const updated = [...(editDoctorForm.education || [])];\r\n                            updated[index] = { ...updated[index], year: e.target.value };\r\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\r\n                          }}\r\n                          placeholder=\"Year\"\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            setEditDoctorForm({\r\n                              ...editDoctorForm,\r\n                              education: (editDoctorForm.education || []).filter((_: any, i: number) => i !== index),\r\n                            });\r\n                          }}\r\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\r\n                        >\r\n                          <FiX className=\"inline mr-1\" /> Remove\r\n                        </button>\r\n                      </div>\r\n                    ))}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setEditDoctorForm({\r\n                          ...editDoctorForm,\r\n                          education: [...(editDoctorForm.education || []), { degree: '', institution: '', year: '' }],\r\n                        });\r\n                      }}\r\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\r\n                    >\r\n                      <FiPlus className=\"inline mr-1\" /> Add Education\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {selectedDoctor.education && Array.isArray(selectedDoctor.education) && selectedDoctor.education.length > 0 ? (\r\n                      selectedDoctor.education.map((edu: any, index: number) => (\r\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                          <p className=\"font-semibold text-gray-800\">{edu.degree}</p>\r\n                          <p className=\"text-sm text-gray-600\">{edu.institution}</p>\r\n                          <p className=\"text-xs text-gray-500 mt-1\">{edu.year}</p>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <p className=\"text-gray-500\">No education listed</p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Availability</h4>\r\n                {isEditingDoctor && selectedDoctor._isApproved ? (\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm text-gray-500 mb-2\">Available Days:</label>\r\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n                        {['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map((day) => (\r\n                          <label key={day} className=\"flex items-center gap-2 cursor-pointer\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={(editDoctorForm.availableDays || []).includes(day)}\r\n                              onChange={(e) => {\r\n                                const currentDays = editDoctorForm.availableDays || [];\r\n                                if (e.target.checked) {\r\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: [...currentDays, day] });\r\n                                } else {\r\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: currentDays.filter((d: string) => d !== day) });\r\n                                }\r\n                              }}\r\n                              className=\"rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\r\n                            />\r\n                            <span className=\"text-sm text-gray-700\">{day}</span>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-gray-500 mb-1\">From</label>\r\n                        <input\r\n                          type=\"time\"\r\n                          value={editDoctorForm.availableFrom || ''}\r\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableFrom: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-gray-500 mb-1\">To</label>\r\n                        <input\r\n                          type=\"time\"\r\n                          value={editDoctorForm.availableTo || ''}\r\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableTo: e.target.value })}\r\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {selectedDoctor.availableDays && Array.isArray(selectedDoctor.availableDays) && selectedDoctor.availableDays.length > 0 && (\r\n                      <div className=\"mb-3\">\r\n                        <p className=\"text-sm text-gray-500 mb-2\">Available Days:</p>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {selectedDoctor.availableDays.map((day: string, index: number) => (\r\n                            <span\r\n                              key={index}\r\n                              className=\"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium\"\r\n                            >\r\n                              {day}\r\n                            </span>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {selectedDoctor.availableFrom && selectedDoctor.availableTo && (\r\n                      <p className=\"font-semibold text-gray-800\">\r\n                        Time: {selectedDoctor.availableFrom} - {selectedDoctor.availableTo}\r\n                      </p>\r\n                    )}\r\n                    {(!selectedDoctor.availableDays || selectedDoctor.availableDays.length === 0) && !selectedDoctor.availableFrom && (\r\n                      <p className=\"text-gray-500\">No availability set</p>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              {(selectedDoctor.hasCV || selectedDoctor.cvResume) && (\r\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\r\n                  <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">CV/Resume</h4>\r\n                  <a\r\n                    href={`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000'}/api/doctors/${selectedDoctor.id}/cv`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\r\n                  >\r\n                    <FiFileTextIcon className=\"text-lg\" />\r\n                    Download CV/Resume {selectedDoctor.cvResumeFileName && `(${selectedDoctor.cvResumeFileName})`}\r\n                  </a>\r\n                </div>\r\n              )}\r\n\r\n              {!selectedDoctor._isApproved && (\r\n                <div className=\"mb-6\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Admin Notes (Optional for approval, Required for rejection)\r\n                  </label>\r\n                  <textarea\r\n                    value={notes}\r\n                    onChange={(e) => setNotes(e.target.value)}\r\n                    rows={4}\r\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    placeholder=\"Add any notes or comments about this doctor application...\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\r\n              {selectedDoctor._isApproved ? (\r\n                isEditingDoctor ? (\r\n                  <>\r\n                    <button\r\n                      onClick={() => {\r\n                        setIsEditingDoctor(false);\r\n                      }}\r\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={handleUpdateDoctor}\r\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n                    >\r\n                      Save Changes\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowModal(false);\r\n                        setSelectedDoctor(null);\r\n                        setNotes('');\r\n                        setIsEditingDoctor(false);\r\n                      }}\r\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\r\n                    >\r\n                      Close\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setIsEditingDoctor(true)}\r\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </>\r\n                )\r\n              ) : (\r\n                <>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowModal(false);\r\n                      setSelectedDoctor(null);\r\n                      setNotes('');\r\n                    }}\r\n                    className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\r\n                  >\r\n                    Close\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleReject(selectedDoctor.id)}\r\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 font-medium transition-colors\"\r\n                  >\r\n                    <FiX className=\"text-lg\" />\r\n                    Reject Application\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleApprove(selectedDoctor.id)}\r\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2 font-medium transition-colors\"\r\n                  >\r\n                    <FiCheck className=\"text-lg\" />\r\n                    Approve Doctor\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AppointmentsManagementView = React.forwardRef((props: any, ref: any) => {\r\n  const { showNotification } = useNotification();\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [filteredAppointments, setFilteredAppointments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<'all' | 'pending' | 'confirmed' | 'completed' | 'cancelled'>('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedAppointment, setSelectedAppointment] = useState<any>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [users, setUsers] = useState<any[]>([]);\r\n  const [doctors, setDoctors] = useState<any[]>([]);\r\n  const [newAppointmentForm, setNewAppointmentForm] = useState({\r\n    patientId: '',\r\n    doctorId: '',\r\n    appointmentDate: '',\r\n    appointmentTime: '',\r\n    reason: '',\r\n    status: 'pending',\r\n  });\r\n\r\n  // Expose methods to parent via ref\r\n  useImperativeHandle(ref, () => ({\r\n    openCreateModal: async () => {\r\n      // Fetch users and doctors for dropdowns\r\n      try {\r\n        const [usersRes, doctorsRes] = await Promise.all([\r\n          api.get('/admin/users?limit=1000'),\r\n          api.get('/doctors?limit=1000'),\r\n        ]);\r\n        setUsers(usersRes.data.users?.filter((u: any) => u.role === 'patient') || []);\r\n        setDoctors(doctorsRes.data.doctors || []);\r\n      } catch (error) {\r\n        console.error('Error fetching users/doctors:', error);\r\n      }\r\n      setNewAppointmentForm({\r\n        patientId: '',\r\n        doctorId: '',\r\n        appointmentDate: '',\r\n        appointmentTime: '',\r\n        reason: '',\r\n        status: 'pending',\r\n      });\r\n      setShowCreateModal(true);\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterAppointments();\r\n  }, [appointments, activeTab, searchQuery]);\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/appointments?limit=1000');\r\n      setAppointments(response.data.appointments || []);\r\n      setFilteredAppointments(response.data.appointments || []);\r\n    } catch (error) {\r\n      console.error('Error fetching appointments:', error);\r\n      showNotification('Failed to fetch appointments', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterAppointments = () => {\r\n    let filtered = [...appointments];\r\n\r\n    if (activeTab !== 'all') {\r\n      filtered = filtered.filter((apt) => apt.status === activeTab);\r\n    }\r\n\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (apt) =>\r\n          apt.patient?.name?.toLowerCase().includes(query) ||\r\n          apt.doctor?.user?.name?.toLowerCase().includes(query) ||\r\n          apt.patient?.email?.toLowerCase().includes(query) ||\r\n          apt.reason?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    setFilteredAppointments(filtered);\r\n  };\r\n\r\n  const handleCreateAppointment = async () => {\r\n    try {\r\n      if (!newAppointmentForm.patientId || !newAppointmentForm.doctorId || !newAppointmentForm.appointmentDate || !newAppointmentForm.appointmentTime) {\r\n        showNotification('Patient, Doctor, Date, and Time are required', 'error');\r\n        return;\r\n      }\r\n\r\n      await api.post('/appointments', {\r\n        patientId: newAppointmentForm.patientId,\r\n        doctorId: newAppointmentForm.doctorId,\r\n        appointmentDate: newAppointmentForm.appointmentDate,\r\n        appointmentTime: newAppointmentForm.appointmentTime,\r\n        reason: newAppointmentForm.reason || '',\r\n        status: newAppointmentForm.status,\r\n        overrideLimit: true, // Admin can override limits\r\n      });\r\n\r\n      showNotification('Appointment created successfully', 'success');\r\n      setShowCreateModal(false);\r\n      setNewAppointmentForm({\r\n        patientId: '',\r\n        doctorId: '',\r\n        appointmentDate: '',\r\n        appointmentTime: '',\r\n        reason: '',\r\n        status: 'pending',\r\n      });\r\n      fetchAppointments();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to create appointment', 'error');\r\n    }\r\n  };\r\n\r\n  const handleStatusUpdate = async (appointmentId: string, newStatus: string) => {\r\n    try {\r\n      await api.put(`/appointments/${appointmentId}/status`, { status: newStatus });\r\n      showNotification('Appointment status updated successfully', 'success');\r\n      fetchAppointments();\r\n      setShowModal(false);\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to update appointment status', 'error');\r\n    }\r\n  };\r\n\r\n  const getStatusBadgeColor = (status: string) => {\r\n    switch (status) {\r\n      case 'confirmed': return 'bg-green-100 text-green-800';\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'completed': return 'bg-blue-100 text-blue-800';\r\n      case 'cancelled': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Search and Filter */}\r\n      <div className=\"mb-6 flex gap-4\">\r\n        <div className=\"flex-1\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by patient name, doctor name, or email...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            onClick={() => setActiveTab('all')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'all'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            All ({appointments.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('pending')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'pending'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Pending ({appointments.filter((a) => a.status === 'pending').length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('confirmed')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'confirmed'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Confirmed ({appointments.filter((a) => a.status === 'confirmed').length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('completed')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'completed'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Completed ({appointments.filter((a) => a.status === 'completed').length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('cancelled')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'cancelled'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Cancelled ({appointments.filter((a) => a.status === 'cancelled').length})\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Appointments Table */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\r\n              <tr>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Patient\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Doctor\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Date & Time\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Reason\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\r\n              {filteredAppointments.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                    No appointments found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredAppointments.map((appointment) => (\r\n                  <tr key={appointment.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-gray-900\">{appointment.patient?.name || 'N/A'}</p>\r\n                        <p className=\"text-xs text-gray-500\">{appointment.patient?.email || 'N/A'}</p>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">Dr. {appointment.doctor?.user?.name || 'N/A'}</p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">\r\n                        {format(parseISO(appointment.appointmentDate), 'MMM dd, yyyy')}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">{appointment.appointmentTime}</p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">{appointment.reason || '-'}</p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(appointment.status)}`}>\r\n                        {appointment.status || 'N/A'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right\">\r\n                      <button\r\n                        onClick={() => {\r\n                          setSelectedAppointment(appointment);\r\n                          setShowModal(true);\r\n                        }}\r\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Appointment Details Modal */}\r\n      {showModal && selectedAppointment && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\r\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Appointment Details</h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setSelectedAppointment(null);\r\n                  }}\r\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                >\r\n                  <FiX className=\"text-xl text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.email || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\r\n                    <p className=\"font-semibold text-gray-800\">Dr. {selectedAppointment.doctor?.user?.name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\r\n                    <p className=\"font-semibold text-gray-800\">\r\n                      {format(parseISO(selectedAppointment.appointmentDate), 'MMMM dd, yyyy')}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Time</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.appointmentTime || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Status</p>\r\n                    <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(selectedAppointment.status)}`}>\r\n                      {selectedAppointment.status || 'N/A'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                {selectedAppointment.reason && (\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Reason</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.reason}</p>\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500 mb-2\">Update Status</p>\r\n                  <div className=\"flex gap-2 flex-wrap\">\r\n                    {['pending', 'confirmed', 'completed', 'cancelled'].map((status) => (\r\n                      <button\r\n                        key={status}\r\n                        onClick={() => handleStatusUpdate(selectedAppointment.id, status)}\r\n                        disabled={selectedAppointment.status === status}\r\n                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\r\n                          selectedAppointment.status === status\r\n                            ? 'bg-gray-300 text-gray-600 cursor-not-allowed'\r\n                            : 'bg-teal-600 text-white hover:bg-teal-700'\r\n                        }`}\r\n                      >\r\n                        {status.charAt(0).toUpperCase() + status.slice(1)}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setSelectedAppointment(null);\r\n                }}\r\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nAppointmentsManagementView.displayName = 'AppointmentsManagementView';\r\n\r\nconst PrescriptionsManagementView = () => {\r\n  const { showNotification } = useNotification();\r\n  const [prescriptions, setPrescriptions] = useState<any[]>([]);\r\n  const [filteredPrescriptions, setFilteredPrescriptions] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedPrescription, setSelectedPrescription] = useState<any>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchPrescriptions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterPrescriptions();\r\n  }, [prescriptions, searchQuery]);\r\n\r\n  const fetchPrescriptions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/prescriptions?limit=1000');\r\n      setPrescriptions(response.data.prescriptions || []);\r\n      setFilteredPrescriptions(response.data.prescriptions || []);\r\n    } catch (error) {\r\n      console.error('Error fetching prescriptions:', error);\r\n      showNotification('Failed to fetch prescriptions', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterPrescriptions = () => {\r\n    let filtered = [...prescriptions];\r\n\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (pres) =>\r\n          pres.patient?.name?.toLowerCase().includes(query) ||\r\n          pres.patient?.email?.toLowerCase().includes(query) ||\r\n          pres.doctor?.user?.name?.toLowerCase().includes(query) ||\r\n          pres.diagnosis?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    setFilteredPrescriptions(filtered);\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Search */}\r\n      <div className=\"mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by patient name, doctor name, email, or diagnosis...\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n        />\r\n      </div>\r\n\r\n      {/* Prescriptions Table */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\r\n              <tr>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Patient\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Doctor\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Diagnosis\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Medicines\r\n                </th>\r\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Date\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\r\n              {filteredPrescriptions.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                    No prescriptions found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredPrescriptions.map((prescription) => (\r\n                  <tr key={prescription.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"px-6 py-4\">\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-gray-900\">{prescription.patient?.name || 'N/A'}</p>\r\n                        <p className=\"text-xs text-gray-500\">{prescription.patient?.email || 'N/A'}</p>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">Dr. {prescription.doctor?.user?.name || 'N/A'}</p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">{prescription.diagnosis || '-'}</p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        {prescription.medicines && Array.isArray(prescription.medicines)\r\n                          ? `${prescription.medicines.length} medicine(s)`\r\n                          : 'N/A'}\r\n                      </p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <p className=\"text-sm text-gray-900\">\r\n                        {prescription.createdAt\r\n                          ? format(parseISO(prescription.createdAt), 'MMM dd, yyyy')\r\n                          : 'N/A'}\r\n                      </p>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right\">\r\n                      <button\r\n                        onClick={() => {\r\n                          setSelectedPrescription(prescription);\r\n                          setShowModal(true);\r\n                        }}\r\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Prescription Details Modal */}\r\n      {showModal && selectedPrescription && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\r\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Prescription Details</h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setSelectedPrescription(null);\r\n                  }}\r\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                >\r\n                  <FiX className=\"text-xl text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              <div className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\r\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.email || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\r\n                    <p className=\"font-semibold text-gray-800\">Dr. {selectedPrescription.doctor?.user?.name || 'N/A'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\r\n                    <p className=\"font-semibold text-gray-800\">\r\n                      {selectedPrescription.createdAt\r\n                        ? format(parseISO(selectedPrescription.createdAt), 'MMMM dd, yyyy')\r\n                        : 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500 mb-1\">Diagnosis</p>\r\n                  <p className=\"font-semibold text-gray-800\">{selectedPrescription.diagnosis || 'N/A'}</p>\r\n                </div>\r\n\r\n                {selectedPrescription.medicines && Array.isArray(selectedPrescription.medicines) && selectedPrescription.medicines.length > 0 && (\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Medicines</p>\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                      {selectedPrescription.medicines.map((medicine: any, index: number) => (\r\n                        <div key={index} className=\"flex items-start gap-2\">\r\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-sm font-medium text-gray-800\">{medicine.name || 'N/A'}</p>\r\n                            {(medicine.dosage || medicine.frequency) && (\r\n                              <p className=\"text-xs text-gray-600\">\r\n                                {medicine.dosage && `Dosage: ${medicine.dosage}`}\r\n                                {medicine.dosage && medicine.frequency && ' â€¢ '}\r\n                                {medicine.frequency && `Frequency: ${medicine.frequency}`}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedPrescription.tests && Array.isArray(selectedPrescription.tests) && selectedPrescription.tests.length > 0 && (\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Tests</p>\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                      {selectedPrescription.tests.map((test: any, index: number) => (\r\n                        <div key={index} className=\"flex items-start gap-2\">\r\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\r\n                          <p className=\"text-sm text-gray-800\">{test.name || 'N/A'}</p>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedPrescription.rules && Array.isArray(selectedPrescription.rules) && selectedPrescription.rules.length > 0 && (\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-2\">Rules</p>\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                      {selectedPrescription.rules.map((rule: any, index: number) => (\r\n                        <div key={index} className=\"flex items-start gap-2\">\r\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\r\n                          <div className=\"flex-1\">\r\n                            <p className=\"text-sm font-medium text-gray-800\">{rule.title || 'N/A'}</p>\r\n                            {rule.description && (\r\n                              <p className=\"text-xs text-gray-600\">{rule.description}</p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedPrescription.instructions && (\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Instructions</p>\r\n                    <p className=\"text-sm text-gray-800 whitespace-pre-line\">{selectedPrescription.instructions}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setSelectedPrescription(null);\r\n                }}\r\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdsManagementView = React.forwardRef((props: any, ref: any) => {\r\n  const { showNotification } = useNotification();\r\n  const [ads, setAds] = useState<any[]>([]);\r\n  const [filteredAds, setFilteredAds] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeTab, setActiveTab] = useState<'all' | 'active' | 'inactive'>('all');\r\n  const [selectedAd, setSelectedAd] = useState<any>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [adForm, setAdForm] = useState({\r\n    title: '',\r\n    description: '',\r\n    imageUrl: '',\r\n    link: '',\r\n    targetAudience: 'all',\r\n    isActive: true,\r\n    startDate: '',\r\n    endDate: '',\r\n  });\r\n\r\n  // Expose methods to parent via ref\r\n  useImperativeHandle(ref, () => ({\r\n    openCreateModal: () => {\r\n      setAdForm({\r\n        title: '',\r\n        description: '',\r\n        imageUrl: '',\r\n        link: '',\r\n        targetAudience: 'all',\r\n        isActive: true,\r\n        startDate: '',\r\n        endDate: '',\r\n      });\r\n      setIsEditing(false);\r\n      setSelectedAd(null);\r\n      setShowCreateModal(true);\r\n    },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    fetchAds();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterAds();\r\n  }, [ads, activeTab, searchQuery]);\r\n\r\n  const fetchAds = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get('/admin/ads?limit=1000');\r\n      setAds(response.data.ads || []);\r\n      setFilteredAds(response.data.ads || []);\r\n    } catch (error) {\r\n      console.error('Error fetching ads:', error);\r\n      showNotification('Failed to fetch advertisements', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterAds = () => {\r\n    let filtered = [...ads];\r\n\r\n    if (activeTab === 'active') {\r\n      filtered = filtered.filter((ad) => ad.isActive === true);\r\n    } else if (activeTab === 'inactive') {\r\n      filtered = filtered.filter((ad) => ad.isActive === false);\r\n    }\r\n\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (ad) =>\r\n          ad.title?.toLowerCase().includes(query) ||\r\n          ad.description?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    setFilteredAds(filtered);\r\n  };\r\n\r\n  const handleCreateAd = async () => {\r\n    try {\r\n      await api.post('/ads', adForm);\r\n      showNotification('Advertisement created successfully', 'success');\r\n      setShowCreateModal(false);\r\n      setAdForm({\r\n        title: '',\r\n        description: '',\r\n        imageUrl: '',\r\n        link: '',\r\n        targetAudience: 'all',\r\n        isActive: true,\r\n        startDate: '',\r\n        endDate: '',\r\n      });\r\n      fetchAds();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to create advertisement', 'error');\r\n    }\r\n  };\r\n\r\n  const handleUpdateAd = async () => {\r\n    try {\r\n      await api.put(`/ads/${selectedAd.id}`, adForm);\r\n      showNotification('Advertisement updated successfully', 'success');\r\n      setShowModal(false);\r\n      setIsEditing(false);\r\n      setSelectedAd(null);\r\n      fetchAds();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to update advertisement', 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteAd = async (adId: string) => {\r\n    if (!confirm('Are you sure you want to delete this advertisement?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.delete(`/ads/${adId}`);\r\n      showNotification('Advertisement deleted successfully', 'success');\r\n      fetchAds();\r\n    } catch (error: any) {\r\n      showNotification(error.response?.data?.message || 'Failed to delete advertisement', 'error');\r\n    }\r\n  };\r\n\r\n  const openEditModal = (ad: any) => {\r\n    setSelectedAd(ad);\r\n    setAdForm({\r\n      title: ad.title || '',\r\n      description: ad.description || '',\r\n      imageUrl: ad.imageUrl || '',\r\n      link: ad.link || '',\r\n      targetAudience: ad.targetAudience || 'all',\r\n      isActive: ad.isActive !== undefined ? ad.isActive : true,\r\n      startDate: ad.startDate ? format(parseISO(ad.startDate), 'yyyy-MM-dd') : '',\r\n      endDate: ad.endDate ? format(parseISO(ad.endDate), 'yyyy-MM-dd') : '',\r\n    });\r\n    setIsEditing(true);\r\n    setShowModal(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Header with Create Button */}\r\n      <div className=\"mb-6 flex items-center justify-between\">\r\n        <div className=\"flex-1\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search advertisements by title or description...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            setAdForm({\r\n              title: '',\r\n              description: '',\r\n              imageUrl: '',\r\n              link: '',\r\n              targetAudience: 'all',\r\n              isActive: true,\r\n              startDate: '',\r\n              endDate: '',\r\n            });\r\n            setShowCreateModal(true);\r\n          }}\r\n          className=\"ml-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center gap-2\"\r\n        >\r\n          <FiPlus className=\"text-lg\" />\r\n          Create Ad\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            onClick={() => setActiveTab('all')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'all'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            All ({ads.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('active')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'active'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Active ({ads.filter((a) => a.isActive).length})\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('inactive')}\r\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n              activeTab === 'inactive'\r\n                ? 'border-blue-600 text-blue-600'\r\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\r\n            }`}\r\n          >\r\n            Inactive ({ads.filter((a) => !a.isActive).length})\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ads Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {filteredAds.length === 0 ? (\r\n          <div className=\"col-span-full bg-white rounded-lg shadow-md p-8 text-center\">\r\n            <p className=\"text-gray-600 text-lg\">No advertisements found</p>\r\n          </div>\r\n        ) : (\r\n          filteredAds.map((ad) => (\r\n            <div\r\n              key={ad.id}\r\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\r\n            >\r\n              {ad.imageUrl && (\r\n                <div className=\"w-full h-48 bg-gray-200 overflow-hidden\">\r\n                  <img\r\n                    src={ad.imageUrl}\r\n                    alt={ad.title}\r\n                    className=\"w-full h-full object-cover\"\r\n                    onError={(e) => {\r\n                      (e.target as HTMLImageElement).style.display = 'none';\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"p-4\">\r\n                <div className=\"flex items-start justify-between mb-2\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-800 flex-1\">{ad.title}</h3>\r\n                  <span\r\n                    className={`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${\r\n                      ad.isActive\r\n                        ? 'bg-green-100 text-green-800'\r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}\r\n                  >\r\n                    {ad.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{ad.description}</p>\r\n                <div className=\"flex items-center justify-between text-xs text-gray-500 mb-3\">\r\n                  <span>Target: {ad.targetAudience || 'all'}</span>\r\n                  <span>Clicks: {ad.clickCount || 0}</span>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => openEditModal(ad)}\r\n                    className=\"flex-1 px-3 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDeleteAd(ad.id)}\r\n                    className=\"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n                  >\r\n                    <FiTrash2 />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Create/Edit Modal */}\r\n      {(showCreateModal || showModal) && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\r\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">\r\n                  {isEditing ? 'Edit Advertisement' : 'Create Advertisement'}\r\n                </h2>\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setShowCreateModal(false);\r\n                    setIsEditing(false);\r\n                    setSelectedAd(null);\r\n                  }}\r\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                >\r\n                  <FiX className=\"text-xl text-gray-600\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto flex-1 p-6\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Title *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={adForm.title}\r\n                    onChange={(e) => setAdForm({ ...adForm, title: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    placeholder=\"Enter advertisement title\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Description</label>\r\n                  <textarea\r\n                    value={adForm.description}\r\n                    onChange={(e) => setAdForm({ ...adForm, description: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    rows={3}\r\n                    placeholder=\"Enter advertisement description\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Image URL</label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={adForm.imageUrl}\r\n                    onChange={(e) => setAdForm({ ...adForm, imageUrl: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    placeholder=\"https://example.com/image.jpg\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Link URL</label>\r\n                  <input\r\n                    type=\"url\"\r\n                    value={adForm.link}\r\n                    onChange={(e) => setAdForm({ ...adForm, link: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    placeholder=\"https://example.com\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Target Audience</label>\r\n                    <select\r\n                      value={adForm.targetAudience}\r\n                      onChange={(e) => setAdForm({ ...adForm, targetAudience: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    >\r\n                      <option value=\"all\">All</option>\r\n                      <option value=\"patient\">Patients</option>\r\n                      <option value=\"doctor\">Doctors</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Status</label>\r\n                    <select\r\n                      value={adForm.isActive ? 'true' : 'false'}\r\n                      onChange={(e) => setAdForm({ ...adForm, isActive: e.target.value === 'true' })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    >\r\n                      <option value=\"true\">Active</option>\r\n                      <option value=\"false\">Inactive</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Start Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={adForm.startDate}\r\n                      onChange={(e) => setAdForm({ ...adForm, startDate: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">End Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={adForm.endDate}\r\n                      onChange={(e) => setAdForm({ ...adForm, endDate: e.target.value })}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setShowCreateModal(false);\r\n                  setIsEditing(false);\r\n                  setSelectedAd(null);\r\n                }}\r\n                className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  if (isEditing) {\r\n                    handleUpdateAd();\r\n                  } else {\r\n                    handleCreateAd();\r\n                  }\r\n                }}\r\n                disabled={!adForm.title.trim()}\r\n                className={`flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors ${\r\n                  !adForm.title.trim() ? 'opacity-50 cursor-not-allowed' : ''\r\n                }`}\r\n              >\r\n                {isEditing ? 'Update' : 'Create'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nAdsManagementView.displayName = 'AdsManagementView';\r\n\r\n// Admin Chats Management View - Full access to chat with all users\r\nconst AdminChatsManagementView = () => {\r\n  const { user } = useAuth();\r\n  const { showNotification } = useNotification();\r\n  const [allUsers, setAllUsers] = useState<any[]>([]);\r\n  const [conversations, setConversations] = useState<any[]>([]);\r\n  const [selectedConversation, setSelectedConversation] = useState<any>(null);\r\n  const [messages, setMessages] = useState<any[]>([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const pollingIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === 'admin') {\r\n      fetchChatUsers();\r\n      fetchConversations();\r\n      fetchUnreadCount();\r\n    }\r\n  }, [user]);\r\n\r\n  // Real-time polling\r\n  useEffect(() => {\r\n    if (user && user.role === 'admin') {\r\n      const globalPollInterval = setInterval(() => {\r\n        fetchChatUsers();\r\n        fetchConversations();\r\n        if (selectedConversation) {\r\n          fetchMessages(selectedConversation.id);\r\n        }\r\n        fetchUnreadCount();\r\n      }, 2000);\r\n\r\n      return () => clearInterval(globalPollInterval);\r\n    }\r\n  }, [user, selectedConversation]);\r\n\r\n  useEffect(() => {\r\n    if (selectedConversation) {\r\n      if (pollingIntervalRef.current) {\r\n        clearInterval(pollingIntervalRef.current);\r\n      }\r\n      pollingIntervalRef.current = setInterval(() => {\r\n        fetchMessages(selectedConversation.id);\r\n        fetchConversations();\r\n        fetchUnreadCount();\r\n      }, 2000);\r\n    }\r\n    return () => {\r\n      if (pollingIntervalRef.current) {\r\n        clearInterval(pollingIntervalRef.current);\r\n      }\r\n    };\r\n  }, [selectedConversation]);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const fetchChatUsers = async () => {\r\n    try {\r\n      const response = await api.get('/chat/users');\r\n      setAllUsers(response.data.users || []);\r\n    } catch (error) {\r\n      console.error('Error fetching chat users:', error);\r\n    }\r\n  };\r\n\r\n  const fetchConversations = async () => {\r\n    try {\r\n      const response = await api.get('/chat/conversations');\r\n      setConversations(response.data.conversations || []);\r\n    } catch (error) {\r\n      console.error('Error fetching conversations:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMessages = async (userId: string) => {\r\n    try {\r\n      const response = await api.get(`/chat/messages/${userId}`);\r\n      setMessages(response.data.messages || []);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n    }\r\n  };\r\n\r\n  const fetchUnreadCount = async () => {\r\n    try {\r\n      const response = await api.get('/chat/unread-count');\r\n      setUnreadCount(response.data.unreadCount || 0);\r\n    } catch (error) {\r\n      console.error('Error fetching unread count:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectConversation = (conversation: any) => {\r\n    setSelectedConversation(conversation);\r\n    fetchMessages(conversation.id);\r\n    setSearchQuery('');\r\n    setShowSuggestions(false);\r\n  };\r\n\r\n  const handleSelectUser = (userItem: any) => {\r\n    const existingConversation = conversations.find(c => c.id === userItem.id);\r\n    if (existingConversation) {\r\n      handleSelectConversation(existingConversation);\r\n    } else {\r\n      const newConversation = {\r\n        id: userItem.id,\r\n        name: userItem.name,\r\n        email: userItem.email,\r\n        role: userItem.role,\r\n        phone: userItem.phone,\r\n        lastMessage: userItem.lastMessage || 'No messages yet',\r\n        lastMessageTime: userItem.lastMessageTime || new Date(),\r\n        unreadCount: userItem.unreadCount || 0,\r\n      };\r\n      setSelectedConversation(newConversation);\r\n      setMessages([]);\r\n    }\r\n    setSearchQuery('');\r\n    setShowSuggestions(false);\r\n  };\r\n\r\n  // Search by ID, name, email, or phone\r\n  const filteredUsers = allUsers.filter((userItem: any) => {\r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      userItem.name.toLowerCase().includes(query) ||\r\n      userItem.email.toLowerCase().includes(query) ||\r\n      userItem.id.toLowerCase().includes(query) ||\r\n      (userItem.phone && userItem.phone.includes(query)) ||\r\n      userItem.role.toLowerCase().includes(query)\r\n    );\r\n  });\r\n\r\n  const handleSendMessage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || !selectedConversation) return;\r\n\r\n    try {\r\n      await api.post('/chat/send', {\r\n        receiverId: selectedConversation.id,\r\n        content: newMessage.trim(),\r\n      });\r\n      setNewMessage('');\r\n      setTimeout(() => {\r\n        fetchMessages(selectedConversation.id);\r\n        fetchConversations();\r\n        fetchChatUsers();\r\n        fetchUnreadCount();\r\n      }, 100);\r\n    } catch (error: any) {\r\n      console.error('Error sending message:', error);\r\n      showNotification(error.response?.data?.message || 'Failed to send message', 'error');\r\n    }\r\n  };\r\n\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      ?.split(' ')\r\n      ?.map((n: string) => n[0])\r\n      ?.join('')\r\n      ?.toUpperCase()\r\n      ?.slice(0, 2) || 'U';\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-[calc(100vh-200px)] bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-colors\">\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Conversations List */}\r\n        <div className=\"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col transition-colors\">\r\n          <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n            <h2 className=\"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3\">\r\n              All Users {unreadCount > 0 && `(${unreadCount})`}\r\n            </h2>\r\n            {/* Search Bar with Auto-suggestions - Search by ID, Name, Email */}\r\n            <div className=\"relative\">\r\n              <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={(e) => {\r\n                  setSearchQuery(e.target.value);\r\n                  setShowSuggestions(e.target.value.length > 0);\r\n                }}\r\n                onFocus={() => {\r\n                  if (searchQuery.length > 0) {\r\n                    setShowSuggestions(true);\r\n                  }\r\n                }}\r\n                onBlur={() => {\r\n                  setTimeout(() => setShowSuggestions(false), 200);\r\n                }}\r\n                placeholder=\"Search by ID, name, email...\"\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n              />\r\n              {showSuggestions && filteredUsers.length > 0 && (\r\n                <div className=\"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto transition-colors\">\r\n                  {filteredUsers.slice(0, 5).map((userItem: any) => (\r\n                    <div\r\n                      key={userItem.id}\r\n                      onMouseDown={(e) => {\r\n                        e.preventDefault();\r\n                        handleSelectUser(userItem);\r\n                      }}\r\n                      className=\"px-4 py-3 hover:bg-teal-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-0 transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-sm\">\r\n                          {getInitials(userItem.name)}\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                          <p className=\"font-semibold text-gray-800 dark:text-gray-100\">{userItem.name}</p>\r\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400 capitalize\">{userItem.role}</p>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">ID: {userItem.id.slice(0, 8)}...</p>\r\n                        </div>\r\n                        {userItem.unreadCount > 0 && (\r\n                          <span className=\"bg-blue-600 text-white text-xs px-2 py-1 rounded-full\">\r\n                            {userItem.unreadCount}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1 overflow-y-auto\">\r\n            {allUsers.length === 0 ? (\r\n              <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\r\n                <p>No users available</p>\r\n              </div>\r\n            ) : (\r\n              filteredUsers.map((userItem: any) => {\r\n                const conversation = conversations.find(c => c.id === userItem.id);\r\n                const isSelected = selectedConversation?.id === userItem.id;\r\n                const displayData = conversation || userItem;\r\n                return (\r\n                  <div\r\n                    key={userItem.id}\r\n                    onClick={() => handleSelectUser(userItem)}\r\n                    className={`p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${\r\n                      isSelected ? 'bg-teal-50 dark:bg-gray-700 border-l-4 border-teal-600' : ''\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\r\n                        {getInitials(userItem.name)}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <h3 className=\"font-semibold text-gray-800 dark:text-gray-100 truncate\">{userItem.name}</h3>\r\n                          {displayData.lastMessageTime && (\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                              {formatDistanceToNow(new Date(displayData.lastMessageTime), { addSuffix: true })}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 truncate mt-1\">{displayData.lastMessage || 'No messages yet'}</p>\r\n                        <div className=\"flex items-center gap-2 mt-1\">\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500\">ID: {userItem.id.slice(0, 8)}...</p>\r\n                          <span className=\"text-xs text-gray-400\">â€¢</span>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{userItem.role}</p>\r\n                        </div>\r\n                      </div>\r\n                      {userItem.unreadCount > 0 && (\r\n                        <span className=\"bg-teal-600 text-white text-xs px-2 py-1 rounded-full\">\r\n                          {userItem.unreadCount}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chat Area */}\r\n        <div className=\"flex-1 flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors\">\r\n          {selectedConversation ? (\r\n            <>\r\n              {/* Chat Header */}\r\n              <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between transition-colors\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\r\n                    {getInitials(selectedConversation.name)}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">{selectedConversation.name}</h3>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{selectedConversation.role}</p>\r\n                    <p className=\"text-xs text-gray-400 dark:text-gray-500\">ID: {selectedConversation.id.slice(0, 8)}...</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Messages */}\r\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                {messages.map((message) => {\r\n                  const isOwn = message.senderId === user?.id;\r\n                  return (\r\n                    <div\r\n                      key={message.id}\r\n                      className={`flex ${isOwn ? 'justify-end' : 'justify-start'}`}\r\n                    >\r\n                      <div\r\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${\r\n                          isOwn\r\n                            ? 'bg-teal-600 text-white'\r\n                            : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600'\r\n                        } transition-colors`}\r\n                      >\r\n                        {!isOwn && (\r\n                          <p className=\"text-xs font-semibold mb-1 opacity-75\">\r\n                            {message.sender.name}\r\n                          </p>\r\n                        )}\r\n                        <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\r\n                        <div className={`flex items-center gap-1 mt-1 ${isOwn ? 'justify-end' : 'justify-start'}`}>\r\n                          <p className={`text-xs ${isOwn ? 'text-blue-100' : 'text-gray-500 dark:text-gray-400'}`}>\r\n                            {format(new Date(message.createdAt), 'h:mm a')}\r\n                          </p>\r\n                          {isOwn && (\r\n                            <div className=\"flex items-center\">\r\n                              {message.isRead ? (\r\n                                <span className=\"text-blue-300 text-xs ml-1 flex items-center gap-0.5\">\r\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                  </svg>\r\n                                  <span className=\"text-[10px]\">Seen</span>\r\n                                </span>\r\n                              ) : (\r\n                                <span className=\"text-gray-300 text-xs ml-1\">\r\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                                  </svg>\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {/* Message Input */}\r\n              <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 transition-colors\">\r\n                <form onSubmit={handleSendMessage} className=\"flex items-center gap-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                  >\r\n                    <FiPaperclip className=\"text-xl text-gray-600 dark:text-gray-300\" />\r\n                  </button>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    placeholder=\"Type a message...\"\r\n                    className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={!newMessage.trim()}\r\n                    className=\"p-2 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <FiSend className=\"text-xl\" />\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex-1 flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                <FiMessageCircle className=\"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4\" />\r\n                <p className=\"text-gray-500 dark:text-gray-400 text-lg\">Select a user to start chatting</p>\r\n                <p className=\"text-gray-400 dark:text-gray-500 text-sm mt-2\">Search by ID, name, email, or phone</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9528, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asif%20Mahamud%20Shaon/OneDrive/Desktop/mediwise/frontend/app/admin/doctors/page.tsx"],"sourcesContent":["'use client';\n\nimport AdminDashboardPage from '../dashboard/page';\n\n// This page just renders the dashboard, which will detect /admin/doctors from the URL\n// and show the doctors section\nexport default AdminDashboardPage;\n\n\n"],"names":[],"mappings":";;;;AAEA;AAFA;;uCAMe,4LAAkB","debugId":null}}]
}