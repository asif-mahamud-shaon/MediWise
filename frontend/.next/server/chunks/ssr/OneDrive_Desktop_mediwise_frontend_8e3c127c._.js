module.exports=[77402,(a,b,c)=>{"use strict";b.exports=a.r(15178).vendored["react-ssr"].ReactServerDOMTurbopackClient},13247,a=>{"use strict";var b=a.i(37037);a.s(["default",0,()=>(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600"})})])},9807,a=>{"use strict";var b=a.i(58101),c=a.i(21580),d=a.i(25778);function e(a,e){let p,q,r=()=>(0,c.constructFrom)(e?.in,NaN),s=e?.additionalDigits??2,t=function(a){let b,c={},d=a.split(f);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],g.test(c.date)&&(c.date=a.split(g)[0],b=a.substr(c.date.length,a.length))),b){let a=h.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(t.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(t.date,s);p=function(a,b){var c,d,e,f,g,h,j,k,m,p;if(null===b)return new Date(NaN);let q=a.match(i);if(!q)return new Date(NaN);let r=!!q[4],s=l(q[1]),t=l(q[2])-1,u=l(q[3]),v=l(q[4]),w=l(q[5])-1;if(r){let a,h;return(c=v,d=w,c>=1&&c<=53&&d>=0&&d<=6)?(e=b,f=v,g=w,(a=new Date(0)).setUTCFullYear(e,0,4),h=a.getUTCDay()||7,a.setUTCDate(a.getUTCDate()+((f-1)*7+g+1-h)),a):new Date(NaN)}{let a=new Date(0);return(h=b,j=t,k=u,j>=0&&j<=11&&k>=1&&k<=(n[j]||(o(h)?29:28))&&(m=b,(p=s)>=1&&p<=(o(m)?366:365)))?(a.setUTCFullYear(b,t,Math.max(s,u)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!p||isNaN(+p))return r();let u=+p,v=0;if(t.time&&isNaN(v=function(a){var c,d,e;let f=a.match(j);if(!f)return NaN;let g=m(f[1]),h=m(f[2]),i=m(f[3]);return(c=g,d=h,e=i,24===c?0===d&&0===e:e>=0&&e<60&&d>=0&&d<60&&c>=0&&c<25)?g*b.millisecondsInHour+h*b.millisecondsInMinute+1e3*i:NaN}(t.time)))return r();if(t.timezone){if(isNaN(q=function(a){var c;if("Z"===a)return 0;let d=a.match(k);if(!d)return 0;let e="+"===d[1]?-1:1,f=parseInt(d[2]),g=d[3]&&parseInt(d[3])||0;return(c=g)>=0&&c<=59?e*(f*b.millisecondsInHour+g*b.millisecondsInMinute):NaN}(t.timezone)))return r()}else{let a=new Date(u+v),b=(0,d.toDate)(0,e?.in);return b.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),b.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),b}return(0,d.toDate)(u+v+q,e?.in)}let f=/[T ]/,g=/[Z ]/i,h=/([Z+-].*)$/,i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(a){return a?parseInt(a):1}function m(a){return a&&parseFloat(a.replace(",","."))||0}let n=[31,null,31,30,31,30,31,31,30,31,30,31];function o(a){return a%400==0||a%4==0&&a%100!=0}a.s(["parseISO",()=>e])},379,a=>{"use strict";var b=a.i(37037),c=a.i(68426),d=a.i(66733),e=a.i(8315),f=a.i(4839);a.s(["default",0,({user:a,logout:g})=>{let h,i=(0,d.usePathname)(),[j,k]=(0,f.useState)(!1),l=[{href:"/doctor/dashboard",label:"Dashboard",icon:e.FiHome},{href:"/doctor/appointments",label:"Appointments",icon:e.FiCalendar},{href:"/doctor/patients",label:"My Patients",icon:e.FiUsers},{href:"/doctor/prescriptions",label:"Prescriptions",icon:e.FiFileText},{href:"/doctor/chat",label:"Chats",icon:e.FiMessageCircle},{href:"/doctor/profile",label:"My Profile",icon:e.FiUser}];return(0,b.jsx)("div",{className:`${j?"w-16":"w-64"} bg-teal-600 text-white transition-all duration-300 fixed left-0 top-0 h-full z-20`,children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("button",{onClick:()=>k(!j),className:"w-full flex items-center justify-center p-2 hover:bg-teal-700 rounded-lg transition-colors mb-4",children:(0,b.jsx)(e.FiChevronRight,{className:`text-xl transform transition-transform ${j?"":"rotate-180"}`})}),!j&&(0,b.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ©º"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:"MediWise"})]})}),!j&&(0,b.jsx)("div",{className:"mb-6 pb-6 border-b border-teal-500",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-sm font-semibold",children:(h=a?.name||"D",h?.split(" ")?.map(a=>a[0])?.join("")?.toUpperCase()?.slice(0,2)||"D")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold truncate",children:["Dr. ",a?.name]}),(0,b.jsx)("p",{className:"text-xs text-teal-200 capitalize",children:"Doctor"})]})]})}),(0,b.jsx)("nav",{className:"space-y-1",children:l.map(a=>{let d=a.icon,e=i===a.href;return(0,b.jsxs)(c.default,{href:a.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${e?"bg-teal-700 text-white font-semibold":"text-teal-100 hover:bg-teal-700 hover:text-white"}`,children:[(0,b.jsx)(d,{className:"text-xl flex-shrink-0"}),!j&&(0,b.jsx)("span",{className:"text-sm",children:a.label})]},a.href)})}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,b.jsxs)("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-teal-100 hover:bg-teal-700 hover:text-white",children:[(0,b.jsx)(e.FiLogOut,{className:"text-xl flex-shrink-0"}),!j&&(0,b.jsx)("span",{className:"text-sm",children:"Logout"})]})})]})})}])},54765,a=>{"use strict";var b=a.i(37037),c=a.i(4839),d=a.i(99752),e=a.i(25941),f=a.i(66733),g=a.i(379),h=a.i(13247),i=a.i(97005),j=a.i(35557),k=a.i(9807),l=a.i(21580),m=a.i(25778);function n(a,b,c){let d=(0,m.toDate)(a,c?.in);return isNaN(b)?(0,l.constructFrom)(c?.in||a,NaN):(b&&d.setDate(d.getDate()+b),d)}var o=a.i(8315);function p(){let{user:a,loading:l,logout:m}=(0,d.useAuth)(),{showNotification:p}=(0,e.useNotification)(),q=(0,f.useRouter)(),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(new Date),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)("all");(0,c.useEffect)(()=>{l||a&&"doctor"===a.role?a&&"doctor"===a.role&&F():q.push("/login")},[a,l,q]),(0,c.useEffect)(()=>{a&&"doctor"===a.role&&t&&G()},[x,t,D,a]);let F=async()=>{try{let a=await i.default.get("/doctors/profile/me");u(a.data.doctor)}catch(a){console.error("Error fetching doctor profile:",a)}},G=async()=>{try{w(!0);let a=(0,j.format)(x,"yyyy-MM-dd"),b=(await i.default.get(`/appointments?doctorId=${t?.id}&limit=1000`)).data.appointments||[];b=b.filter(b=>(0,j.format)((0,k.parseISO)(b.appointmentDate),"yyyy-MM-dd")===a),"all"!==D&&(b=b.filter(a=>a.status===D)),b.sort((a,b)=>{let c=a.appointmentTime||"00:00",d=b.appointmentTime||"00:00";return c.localeCompare(d)}),s(b)}catch(a){console.error("Error fetching appointments:",a),p("Failed to fetch appointments","error")}finally{w(!1)}},H=async(a,b)=>{try{await i.default.put(`/appointments/${a}/status`,{status:b}),p(`Appointment ${b} successfully`,"success"),G(),C(!1)}catch(a){p(a.response?.data?.message||"Failed to update appointment","error")}},I=a=>{switch(a){case"confirmed":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"pending":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";case"completed":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"cancelled":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}},J=a=>{y("next"===a?n(x,1):n(x,-1,void 0))},K=(0,j.format)(x,"yyyy-MM-dd")===(0,j.format)(new Date,"yyyy-MM-dd");return l||v?(0,b.jsx)(h.default,{}):a&&"doctor"===a.role?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[(0,b.jsx)(g.default,{user:a,logout:m}),(0,b.jsx)("main",{className:"ml-64 flex-1 p-8 transition-all duration-300",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"My Appointments"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your daily appointments"})]}),(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6 border border-gray-100 dark:border-gray-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("button",{onClick:()=>J("prev"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(o.FiChevronLeft,{className:"text-xl text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:(0,j.format)(x,"EEEE")}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mt-1",children:(0,j.format)(x,"MMM dd, yyyy")}),K&&(0,b.jsx)("span",{className:"inline-block mt-2 px-3 py-1 bg-teal-100 dark:bg-teal-900 text-teal-800 dark:text-teal-200 text-xs font-semibold rounded-full",children:"Today"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>y(new Date),className:"px-4 py-2 text-sm text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900 rounded-lg transition-colors font-medium",children:"Today"}),(0,b.jsx)("button",{onClick:()=>J("next"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(o.FiChevronRight,{className:"text-xl text-gray-600 dark:text-gray-400"})})]})]})}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("div",{className:"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700",children:[{key:"all",label:"All"},{key:"pending",label:"Pending"},{key:"confirmed",label:"Confirmed"},{key:"completed",label:"Completed"},{key:"cancelled",label:"Cancelled"}].map(a=>(0,b.jsx)("button",{onClick:()=>E(a.key),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${D===a.key?"border-teal-600 dark:border-teal-400 text-teal-600 dark:text-teal-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:a.label},a.key))})}),0===r.length?(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-12 text-center border border-gray-100 dark:border-gray-700",children:[(0,b.jsx)(o.FiCalendar,{className:"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,b.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:["No appointments for ",(0,j.format)(x,"MMM dd, yyyy")]})]}):(0,b.jsx)("div",{className:"space-y-4",children:r.map(a=>{let c;return(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all cursor-pointer",onClick:()=>{A(a),C(!0)},children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-lg",children:(c=a.patient?.name||"Patient",c?.split(" ")?.map(a=>a[0])?.join("")?.toUpperCase()?.slice(0,2)||"P")}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 text-lg mb-1",children:a.patient?.name||"Unknown Patient"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:a.patient?.email}),a.patient?.phone&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:a.patient.phone}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,b.jsx)(o.FiClock,{className:"text-teal-600 dark:text-teal-400"}),(0,b.jsx)("span",{className:"font-medium",children:a.appointmentTime})]}),a.reason&&(0,b.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:[(0,b.jsx)("span",{className:"font-medium",children:"Reason: "}),a.reason]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold ${I(a.status)}`,children:a.status.toUpperCase()})})]})},a.id)})}),B&&z&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:a=>{a.target===a.currentTarget&&C(!1)},children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-teal-900 dark:to-indigo-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Appointment Details"}),(0,b.jsx)("button",{onClick:()=>C(!1),className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(o.FiX,{className:"text-xl text-gray-600 dark:text-gray-400"})})]})}),(0,b.jsx)("div",{className:"overflow-y-auto flex-1 p-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-5",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,b.jsx)(o.FiUser,{className:"text-teal-600 dark:text-teal-400"}),"Patient Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Name"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z.patient?.name||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Email"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z.patient?.email||"N/A"})]}),z.patient?.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Phone"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z.patient.phone})]}),z.patient?.dateOfBirth&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Date of Birth"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:(0,j.format)((0,k.parseISO)(z.patient.dateOfBirth),"MMM dd, yyyy")})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-5",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[(0,b.jsx)(o.FiCalendar,{className:"text-teal-600 dark:text-teal-400"}),"Appointment Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Date"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:(0,j.format)((0,k.parseISO)(z.appointmentDate),"MMM dd, yyyy")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Time"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z.appointmentTime})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Status"}),(0,b.jsx)("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold mt-1 ${I(z.status)}`,children:z.status.toUpperCase()})]}),z.reason&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Reason"}),(0,b.jsx)("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:z.reason})]})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex gap-4 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>C(!1),className:"flex-1 min-w-[100px] px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 font-medium text-gray-700 dark:text-gray-300 transition-colors",children:"Close"}),(0,b.jsxs)("button",{onClick:()=>{let a=z.patient?.email;a?(q.push(`/doctor/prescriptions?patientEmail=${encodeURIComponent(a)}`),C(!1)):p("Patient email not available","error")},className:"flex-1 min-w-[100px] px-4 py-3 bg-indigo-600 dark:bg-indigo-700 text-white rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(o.FiFileText,{className:"text-lg"}),"Create Prescription"]}),"pending"===z.status&&(0,b.jsxs)("button",{onClick:()=>H(z.id,"confirmed"),className:"flex-1 min-w-[100px] px-4 py-3 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(o.FiCheck,{className:"text-lg"}),"Confirm"]}),"confirmed"===z.status&&(0,b.jsxs)("button",{onClick:()=>H(z.id,"completed"),className:"flex-1 min-w-[100px] px-4 py-3 bg-blue-600 dark:bg-blue-700 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(o.FiCheckCircle,{className:"text-lg"}),"Mark Complete"]}),"cancelled"!==z.status&&"completed"!==z.status&&(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to cancel this appointment?")&&H(z.id,"cancelled")},className:"flex-1 min-w-[100px] px-4 py-3 bg-red-600 dark:bg-red-700 text-white rounded-lg hover:bg-red-700 dark:hover:bg-red-600 font-medium transition-colors",children:"Cancel"})]})]})})]})})]}):null}a.s(["default",()=>p],54765)}];

//# sourceMappingURL=OneDrive_Desktop_mediwise_frontend_8e3c127c._.js.map