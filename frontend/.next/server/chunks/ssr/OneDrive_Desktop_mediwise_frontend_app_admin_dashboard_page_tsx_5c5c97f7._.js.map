{"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/app/admin/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useRef, useImperativeHandle } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useNotification } from '@/context/NotificationContext';\nimport { useLanguage } from '@/context/LanguageContext';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Loading from '@/components/Loading';\nimport api from '@/lib/api';\nimport { FiCalendar, FiUser, FiFileText, FiClock, FiMoreVertical, FiEdit, FiTrash2, FiEye, FiX, FiCheck, FiPlus, FiFileText as FiFileTextIcon, FiChevronDown, FiMessageCircle, FiSend, FiSearch, FiPaperclip } from 'react-icons/fi';\nimport { format, parseISO, formatDistanceToNow } from 'date-fns';\nimport AdminSidebar from '@/components/AdminSidebar';\nimport AdminHeader from '@/components/AdminHeader';\n\nexport default function AdminDashboardPage() {\n  const { user, loading: authLoading, logout } = useAuth();\n  const { showNotification } = useNotification();\n  const { t } = useLanguage();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [stats, setStats] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [activeSection, setActiveSection] = useState('/admin/dashboard');\n  const [headerSearchQuery, setHeaderSearchQuery] = useState('');\n  const usersViewRef = useRef<any>(null);\n  const appointmentsViewRef = useRef<any>(null);\n  const adsViewRef = useRef<any>(null);\n\n  // Sync activeSection with URL pathname\n  useEffect(() => {\n    // If we're on admin dashboard or one of the admin routes, sync activeSection with pathname\n    if (pathname && (pathname === '/admin/dashboard' || \n        pathname === '/admin/appointments' || \n        pathname === '/admin/users' || \n        pathname === '/admin/doctors' || \n        pathname === '/admin/prescriptions' || \n        pathname === '/admin/ads' ||\n        pathname === '/admin/chats')) {\n      setActiveSection(pathname);\n    } else if (pathname && pathname.startsWith('/admin/')) {\n      // For other admin routes, set to pathname\n      setActiveSection(pathname);\n    }\n  }, [pathname]);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n      return;\n    }\n    if (user && user.role !== 'admin') {\n      // Redirect to appropriate dashboard\n      if (user.role === 'patient') {\n        router.push('/patient/dashboard');\n      } else if (user.role === 'doctor') {\n        router.push('/doctor/dashboard');\n      } else {\n        router.push('/dashboard');\n      }\n      return;\n    }\n    if (user && user.role === 'admin') {\n      fetchDashboardData();\n    }\n  }, [user, authLoading, router]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      const [dashboardResponse, pendingDoctorsResponse, topDoctorsResponse] = await Promise.all([\n        api.get('/admin/dashboard'),\n        api.get('/doctors/admin/pending'),\n        api.get('/admin/top-doctors?limit=5'),\n      ]);\n      setStats({\n        ...dashboardResponse.data,\n        pendingDoctors: pendingDoctorsResponse.data.doctors || [],\n        topDoctors: topDoctorsResponse.data.topDoctors || [],\n      });\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n      setStats({\n        stats: { totalUsers: 0, totalDoctors: 0, totalAppointments: 0, pendingDoctors: 0 },\n        appointments: [],\n        prescriptions: [],\n        pendingDoctors: [],\n        topDoctors: [],\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getSectionTitle = () => {\n    switch (activeSection) {\n      case '/admin/dashboard': return 'Dashboard';\n      case '/admin/appointments': return 'Appointments';\n      case '/admin/users': return 'Users';\n      case '/admin/doctors': return 'Doctors';\n      case '/admin/prescriptions': return 'Prescriptions';\n      case '/admin/ads': return 'Advertisements';\n      case '/admin/chats': return 'Chats';\n      default: return 'Dashboard';\n    }\n  };\n\n  const handleHeaderSearch = (query: string) => {\n    setHeaderSearchQuery(query);\n  };\n\n  // Handle section change - update both state and URL\n  const handleSectionChange = (section: string) => {\n    setActiveSection(section);\n    // Update URL without full page reload\n    router.push(section);\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'admin') {\n    return null;\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\n      <AdminSidebar activeSection={activeSection} onSectionChange={handleSectionChange} />\n      <main className=\"ml-64 flex-1 bg-gray-50 dark:bg-gray-900 transition-colors\">\n        <AdminHeader \n          title={getSectionTitle()} \n          onSearch={activeSection === '/admin/users' ? handleHeaderSearch : undefined}\n          searchPlaceholder={activeSection === '/admin/users' ? 'Search users by name, email, or phone...' : undefined}\n          onQuickAdd={{\n            onAddUser: () => {\n              handleSectionChange('/admin/users');\n              setTimeout(() => {\n                if (usersViewRef.current?.openCreateModal) {\n                  usersViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n            onAddDoctor: () => {\n              handleSectionChange('/admin/doctors');\n              showNotification('Navigate to Doctors section to review pending doctor applications', 'info');\n            },\n            onAddAppointment: () => {\n              handleSectionChange('/admin/appointments');\n              setTimeout(() => {\n                if (appointmentsViewRef.current?.openCreateModal) {\n                  appointmentsViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n            onAddAdvertisement: () => {\n              handleSectionChange('/admin/ads');\n              setTimeout(() => {\n                if (adsViewRef.current?.openCreateModal) {\n                  adsViewRef.current.openCreateModal();\n                }\n              }, 100);\n            },\n          }}\n        />\n\n        <div className=\"p-8\">\n          {(activeSection === '/admin/dashboard' || activeSection === '/dashboard') && stats && (\n            <>\n              <div className=\"mb-6\">\n                <h2 className=\"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2\">\n                  {t('welcome_back')}, {user.name}!\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-400\">{t('dashboard_overview') || \"Here's an overview of your system\"}</p>\n              </div>\n\n              <div className=\"space-y-8\">\n                {/* Stats Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_users')}</p>\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalUsers || 0}</p>\n                      </div>\n                      <FiUser className=\"text-4xl text-teal-600 dark:text-teal-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_doctors')}</p>\n                        <p className=\"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mt-2\">{stats.stats?.totalDoctors || 0}</p>\n                      </div>\n                      <FiUser className=\"text-4xl text-indigo-600 dark:text-indigo-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('total_appointments')}</p>\n                        <p className=\"text-3xl font-bold text-teal-600 dark:text-teal-400 mt-2\">{stats.stats?.totalAppointments || 0}</p>\n                      </div>\n                      <FiCalendar className=\"text-4xl text-teal-600 dark:text-teal-400\" />\n                    </div>\n                  </div>\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <p className=\"text-gray-600 dark:text-gray-400 text-sm\">{t('pending_doctors')}</p>\n                        <p className=\"text-3xl font-bold text-orange-600 dark:text-orange-400 mt-2\">{stats.stats?.pendingDoctors || 0}</p>\n                      </div>\n                      <FiClock className=\"text-4xl text-orange-600 dark:text-orange-400\" />\n                    </div>\n                  </div>\n                </div>\n\n                {/* Recent Appointments and Top Doctors Section */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {/* Recent Appointments Section */}\n                  {stats.recentAppointments && stats.recentAppointments.length > 0 && (\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('recent_appointments')}</h2>\n                        <button\n                          onClick={() => handleSectionChange('/admin/appointments')}\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\n                        >\n                          {t('view_all')} →\n                        </button>\n                      </div>\n                      <div className=\"space-y-3\">\n                        {stats.recentAppointments.slice(0, 5).map((appt: any) => (\n                        <div\n                          key={appt.id}\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\n                        >\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\n                              {appt.patient?.name || 'Patient'} - Dr. {appt.doctor?.user?.name || 'Doctor'}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                                {format(parseISO(appt.appointmentDate), 'MM/dd/yyyy')} at {appt.appointmentTime}\n                              </p>\n                              {appt.reason && (\n                                <p className=\"text-sm text-gray-700 dark:text-gray-300 mt-1\">{appt.reason}</p>\n                              )}\n                            </div>\n                            <span\n                              className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                                appt.status === 'confirmed'\n                                  ? 'bg-green-100 text-green-800'\n                                  : appt.status === 'pending'\n                                  ? 'bg-yellow-100 text-yellow-800'\n                                  : appt.status === 'completed'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : 'bg-red-100 text-red-800'\n                              }`}\n                            >\n                              {appt.status}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Top Doctors Section */}\n                  {stats.topDoctors && stats.topDoctors.length > 0 && (\n                    <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">{t('top_doctors')}</h2>\n                        <button\n                          onClick={() => handleSectionChange('/admin/doctors')}\n                          className=\"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium\"\n                        >\n                          {t('view_all')} →\n                        </button>\n                      </div>\n                      <div className=\"space-y-3\">\n                        {stats.topDoctors.map((doctor: any, index: number) => (\n                          <div\n                            key={doctor.id}\n                            className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-700\"\n                          >\n                            <div className=\"flex items-center gap-4 flex-1\">\n                              <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-lg\">\n                                {index + 1}\n                              </div>\n                              <div className=\"flex-1\">\n                                <p className=\"font-semibold text-gray-800 dark:text-gray-100\">Dr. {doctor.name}</p>\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization}</p>\n                                <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.email}</p>\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-2xl font-bold text-teal-600 dark:text-teal-400\">{doctor.patientCount}</p>\n                              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Patients</p>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Pending Doctors Section */}\n                {stats.pendingDoctors && stats.pendingDoctors.length > 0 && (\n                  <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8 transition-colors\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h2 className=\"text-xl font-semibold text-gray-800 dark:text-gray-100\">Pending Doctor Approvals</h2>\n                      <button\n                        onClick={() => setActiveSection('/admin/doctors')}\n                        className=\"text-teal-600 hover:text-teal-700 text-sm font-medium\"\n                      >\n                        View All →\n                      </button>\n                    </div>\n                    <div className=\"space-y-3\">\n                      {stats.pendingDoctors.slice(0, 5).map((doctor: any) => (\n                        <div\n                          key={doctor.id}\n                          className=\"flex justify-between items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow bg-white dark:bg-gray-800\"\n                        >\n                          <div className=\"flex-1\">\n                            <p className=\"font-semibold text-gray-800 dark:text-gray-100\">\n                              {doctor.user?.name || 'Doctor'}\n                            </p>\n                            <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">{doctor.specialization || 'N/A'}</p>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">{doctor.department?.name || 'No Department'}</p>\n                          </div>\n                          <button\n                            onClick={() => setActiveSection('/admin/doctors')}\n                            className=\"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium\"\n                          >\n                            Review\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Quick Actions */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n                  <button\n                    onClick={() => setActiveSection('/admin/doctors')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center\">\n                      <FiUser className=\"text-2xl text-indigo-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Doctors</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Approve pending doctors</p>\n                      {stats.stats?.pendingDoctors > 0 && (\n                        <p className=\"text-xs text-orange-600 mt-1 font-medium\">\n                          {stats.stats.pendingDoctors} pending approval\n                        </p>\n                      )}\n                    </div>\n                  </button>\n                  <button\n                    onClick={() => setActiveSection('/admin/appointments')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center\">\n                      <FiCalendar className=\"text-2xl text-teal-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">View Appointments</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">Manage all appointments</p>\n                    </div>\n                  </button>\n                  <button\n                    onClick={() => setActiveSection('/admin/users')}\n                    className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all flex items-center gap-4 text-left\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\n                      <FiUser className=\"text-2xl text-blue-600\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">Manage Users</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">View all users</p>\n                    </div>\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n\n          {/* Render different sections based on activeSection */}\n          {activeSection === '/admin/users' && (\n            <UsersManagementView \n              ref={usersViewRef}\n              onSectionChange={setActiveSection} \n              searchQuery={headerSearchQuery}\n            />\n          )}\n          \n          {activeSection === '/admin/doctors' && (\n            <DoctorsManagementView onSectionChange={setActiveSection} />\n          )}\n\n          {activeSection === '/admin/appointments' && (\n            <AppointmentsManagementView ref={appointmentsViewRef} />\n          )}\n\n          {activeSection === '/admin/chats' && (\n            <AdminChatsManagementView />\n          )}\n\n          {activeSection === '/admin/prescriptions' && (\n            <PrescriptionsManagementView />\n          )}\n\n          {activeSection === '/admin/ads' && (\n            <AdsManagementView ref={adsViewRef} />\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\n// View Components for Admin Dashboard Sections\n// These components are copied from dashboard/page.tsx for use in admin dashboard\n\nconst UsersManagementView = React.forwardRef(({ onSectionChange, searchQuery: externalSearchQuery }: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [users, setUsers] = useState<any[]>([]);\n  const [filteredUsers, setFilteredUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'all' | 'patients' | 'doctors' | 'admins'>('all');\n  const searchQuery = externalSearchQuery || '';\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\n  const [sortColumn, setSortColumn] = useState<string>('name');\n  const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n  const [showUserModal, setShowUserModal] = useState(false);\n  const [isEditingUser, setIsEditingUser] = useState(false);\n  const [isCreatingUser, setIsCreatingUser] = useState(false);\n  const [editUserForm, setEditUserForm] = useState<any>({});\n  const [newUserForm, setNewUserForm] = useState({\n    name: '',\n    email: '',\n    password: '',\n    phone: '',\n    role: 'patient',\n    address: '',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: () => {\n      setNewUserForm({\n        name: '',\n        email: '',\n        password: '',\n        phone: '',\n        role: 'patient',\n        address: '',\n      });\n      setIsCreatingUser(true);\n      setIsEditingUser(false);\n      setSelectedUser(null);\n      setShowUserModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  useEffect(() => {\n    filterUsers();\n  }, [users, activeTab, searchQuery, sortColumn, sortDirection]);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/admin/users?limit=100');\n      setUsers(response.data.users || []);\n      setFilteredUsers(response.data.users || []);\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterUsers = () => {\n    let filtered = [...users];\n    \n    if (activeTab !== 'all') {\n      filtered = filtered.filter((u) => u.role === activeTab.slice(0, -1));\n    }\n    \n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (u) =>\n          u.name?.toLowerCase().includes(query) ||\n          u.email?.toLowerCase().includes(query) ||\n          u.phone?.toLowerCase().includes(query)\n      );\n    }\n    \n    filtered.sort((a, b) => {\n      let aVal = a[sortColumn] || '';\n      let bVal = b[sortColumn] || '';\n      if (typeof aVal === 'string') {\n        aVal = aVal.toLowerCase();\n        bVal = bVal.toLowerCase();\n      }\n      if (sortDirection === 'asc') {\n        return aVal > bVal ? 1 : -1;\n      } else {\n        return aVal < bVal ? 1 : -1;\n      }\n    });\n    \n    setFilteredUsers(filtered);\n  };\n\n  const handleSort = (column: string) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortColumn(column);\n      setSortDirection('asc');\n    }\n  };\n\n  const handleSelectAll = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.checked) {\n      setSelectedUsers(filteredUsers.map((u) => u.id));\n    } else {\n      setSelectedUsers([]);\n    }\n  };\n\n  const handleSelectUser = (userId: string) => {\n    if (selectedUsers.includes(userId)) {\n      setSelectedUsers(selectedUsers.filter((id) => id !== userId));\n    } else {\n      setSelectedUsers([...selectedUsers, userId]);\n    }\n  };\n\n  const getRoleBadgeColor = (role: string) => {\n    switch (role) {\n      case 'admin': return 'bg-purple-100 text-purple-800';\n      case 'doctor': return 'bg-blue-100 text-blue-800';\n      case 'patient': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const handleDeleteUser = async (userId: string, userName: string) => {\n    if (!confirm(`Are you sure you want to delete ${userName}? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await api.delete(`/admin/users/${userId}`);\n      showNotification('User deleted successfully', 'success');\n      setActionMenuOpen(null);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete user', 'error');\n    }\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedUsers.length === 0) {\n      showNotification('Please select users to delete', 'warning');\n      return;\n    }\n\n    if (!confirm(`Are you sure you want to delete ${selectedUsers.length} user(s)? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await api.delete('/admin/users', {\n        data: { userIds: selectedUsers },\n      });\n      showNotification(`${selectedUsers.length} user(s) deleted successfully`, 'success');\n      setSelectedUsers([]);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete users', 'error');\n    }\n  };\n\n  const openUserModal = async (user: any, editMode: boolean = false) => {\n    try {\n      // Fetch full user details\n      const response = await api.get(`/users/${user.id}`);\n      const fullUser = response.data.user;\n      setSelectedUser(fullUser);\n      setEditUserForm({\n        name: fullUser.name || '',\n        email: fullUser.email || '',\n        phone: fullUser.phone || '',\n        address: fullUser.address || '',\n        role: fullUser.role || '',\n        dateOfBirth: fullUser.dateOfBirth ? new Date(fullUser.dateOfBirth).toISOString().split('T')[0] : '',\n        weight: fullUser.weight || '',\n        height: fullUser.height || '',\n        homePhone: fullUser.homePhone || '',\n        workPhone: fullUser.workPhone || '',\n        allergies: Array.isArray(fullUser.allergies) ? fullUser.allergies : [],\n        bloodPressure: fullUser.bloodPressure || '',\n        pulse: fullUser.pulse || '',\n      });\n      setIsEditingUser(editMode);\n      setShowUserModal(true);\n      setActionMenuOpen(null);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to fetch user details', 'error');\n    }\n  };\n\n  const handleCreateUser = async () => {\n    try {\n      if (!newUserForm.name || !newUserForm.email || !newUserForm.password) {\n        showNotification('Name, email, and password are required', 'error');\n        return;\n      }\n\n      await api.post('/auth/register', {\n        name: newUserForm.name,\n        email: newUserForm.email,\n        password: newUserForm.password,\n        phone: newUserForm.phone || null,\n        role: newUserForm.role,\n        address: newUserForm.address || null,\n      });\n      \n      showNotification('User created successfully', 'success');\n      setIsCreatingUser(false);\n      setShowUserModal(false);\n      setNewUserForm({\n        name: '',\n        email: '',\n        password: '',\n        phone: '',\n        role: 'patient',\n        address: '',\n      });\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create user', 'error');\n    }\n  };\n\n  const handleUpdateUser = async () => {\n    try {\n      const updateData = {\n        ...editUserForm,\n        allergies: Array.isArray(editUserForm.allergies) ? editUserForm.allergies : [],\n      };\n\n      await api.put(`/admin/users/${selectedUser.id}`, updateData);\n      showNotification('User updated successfully', 'success');\n      setIsEditingUser(false);\n      setShowUserModal(false);\n      setSelectedUser(null);\n      fetchUsers();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update user', 'error');\n    }\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  const activeCount = filteredUsers.length;\n  const totalCount = users.length;\n\n  return (\n    <div>\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All Users ({totalCount})\n          </button>\n          <button\n            onClick={() => setActiveTab('patients')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'patients'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Patients ({users.filter((u) => u.role === 'patient').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('doctors')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'doctors'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Doctors ({users.filter((u) => u.role === 'doctor').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('admins')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'admins'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Admins ({users.filter((u) => u.role === 'admin').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Count and Actions */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{activeCount} users</p>\n        {selectedUsers.length > 0 && (\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">{selectedUsers.length} selected</span>\n            <button\n              onClick={handleDeleteSelected}\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm\"\n            >\n              Delete Selected\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}\n                    onChange={handleSelectAll}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('name')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Name\n                    {sortColumn === 'name' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('email')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Email\n                    {sortColumn === 'email' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Phone\n                </th>\n                <th\n                  className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600\"\n                  onClick={() => handleSort('role')}\n                >\n                  <div className=\"flex items-center gap-2\">\n                    Role\n                    {sortColumn === 'role' && (\n                      <FiChevronDown className={`text-xs transform ${sortDirection === 'desc' ? 'rotate-180' : ''}`} />\n                    )}\n                  </div>\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredUsers.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No users found\n                  </td>\n                </tr>\n              ) : (\n                filteredUsers.map((userItem) => (\n                  <tr key={userItem.id} className=\"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedUsers.includes(userItem.id)}\n                        onChange={() => handleSelectUser(userItem.id)}\n                        className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                          {userItem.name?.charAt(0)?.toUpperCase() || 'U'}\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">{userItem.name || 'N/A'}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.email || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">{userItem.phone || '-'}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getRoleBadgeColor(userItem.role)}`}>\n                        {userItem.role || 'N/A'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right relative\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActionMenuOpen(actionMenuOpen === userItem.id ? null : userItem.id);\n                        }}\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                      >\n                        <FiMoreVertical className=\"text-gray-600\" />\n                      </button>\n                      {actionMenuOpen === userItem.id && (\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openUserModal(userItem, false);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEye className=\"text-base\" />\n                            View Details\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openUserModal(userItem, true);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEdit className=\"text-base\" />\n                            Edit\n                          </button>\n                          <div className=\"border-t border-gray-200 my-2\"></div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteUser(userItem.id, userItem.name);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                          >\n                            <FiTrash2 className=\"text-base\" />\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {actionMenuOpen && (\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\n      )}\n\n      {/* User View/Edit/Create Modal */}\n      {showUserModal && (selectedUser || isCreatingUser) && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            {/* Modal Header */}\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">\n                  {isCreatingUser ? 'Create New User' : isEditingUser ? 'Edit User' : 'User Details'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowUserModal(false);\n                    setSelectedUser(null);\n                    setIsEditingUser(false);\n                    setIsCreatingUser(false);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Modal Body - Scrollable */}\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              {isCreatingUser ? (\n                // Create User Form\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name *</label>\n                    <input\n                      type=\"text\"\n                      value={newUserForm.name}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, name: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email *</label>\n                    <input\n                      type=\"email\"\n                      value={newUserForm.email}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, email: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Password *</label>\n                    <input\n                      type=\"password\"\n                      value={newUserForm.password}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, password: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\n                    <input\n                      type=\"tel\"\n                      value={newUserForm.phone}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, phone: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role *</label>\n                    <select\n                      value={newUserForm.role}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, role: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                    >\n                      <option value=\"patient\">Patient</option>\n                      <option value=\"doctor\">Doctor</option>\n                      <option value=\"admin\">Admin</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\n                    <textarea\n                      value={newUserForm.address}\n                      onChange={(e) => setNewUserForm({ ...newUserForm, address: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      rows={2}\n                    />\n                  </div>\n                </div>\n              ) : (\n                // View/Edit User Form\n                <div className=\"grid grid-cols-2 gap-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"text\"\n                        value={editUserForm.name}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, name: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.name || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Email</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"email\"\n                        value={editUserForm.email}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, email: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.email || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Phone</label>\n                    {isEditingUser ? (\n                      <input\n                        type=\"tel\"\n                        value={editUserForm.phone}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, phone: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.phone || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Role</label>\n                    {isEditingUser ? (\n                      <select\n                        value={editUserForm.role}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, role: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                      >\n                        <option value=\"patient\">Patient</option>\n                        <option value=\"doctor\">Doctor</option>\n                        <option value=\"admin\">Admin</option>\n                      </select>\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.role || 'N/A'}</p>\n                    )}\n                  </div>\n\n                  <div className=\"col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Address</label>\n                    {isEditingUser ? (\n                      <textarea\n                        value={editUserForm.address}\n                        onChange={(e) => setEditUserForm({ ...editUserForm, address: e.target.value })}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                        rows={2}\n                      />\n                    ) : (\n                      <p className=\"text-gray-800 dark:text-gray-200\">{selectedUser?.address || 'N/A'}</p>\n                    )}\n                  </div>\n\n                {selectedUser && selectedUser.role === 'patient' && (\n                  <>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Date of Birth</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"date\"\n                          value={editUserForm.dateOfBirth}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, dateOfBirth: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">\n                          {selectedUser.dateOfBirth ? new Date(selectedUser.dateOfBirth).toLocaleDateString() : 'N/A'}\n                        </p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Weight</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.weight}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, weight: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.weight || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Height</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.height}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, height: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.height || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Blood Pressure</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.bloodPressure}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, bloodPressure: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.bloodPressure || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Pulse</label>\n                      {isEditingUser ? (\n                        <input\n                          type=\"text\"\n                          value={editUserForm.pulse}\n                          onChange={(e) => setEditUserForm({ ...editUserForm, pulse: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      ) : (\n                        <p className=\"text-gray-800\">{selectedUser.pulse || 'N/A'}</p>\n                      )}\n                    </div>\n\n                    <div className=\"col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Allergies</label>\n                      {isEditingUser ? (\n                        <div className=\"space-y-2\">\n                          {editUserForm.allergies.map((allergy: string, idx: number) => (\n                            <div key={idx} className=\"flex gap-2\">\n                              <input\n                                type=\"text\"\n                                value={allergy}\n                                onChange={(e) => {\n                                  const updated = [...editUserForm.allergies];\n                                  updated[idx] = e.target.value;\n                                  setEditUserForm({ ...editUserForm, allergies: updated });\n                                }}\n                                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                              />\n                              <button\n                                onClick={() => {\n                                  setEditUserForm({\n                                    ...editUserForm,\n                                    allergies: editUserForm.allergies.filter((_: any, i: number) => i !== idx),\n                                  });\n                                }}\n                                className=\"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n                              >\n                                <FiX />\n                              </button>\n                            </div>\n                          ))}\n                          <button\n                            onClick={() => {\n                              setEditUserForm({\n                                ...editUserForm,\n                                allergies: [...editUserForm.allergies, ''],\n                              });\n                            }}\n                            className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                          >\n                            <FiPlus className=\"inline mr-1\" /> Add Allergy\n                          </button>\n                        </div>\n                      ) : (\n                        <div className=\"flex flex-wrap gap-2\">\n                          {Array.isArray(selectedUser.allergies) && selectedUser.allergies.length > 0 ? (\n                            selectedUser.allergies.map((allergy: string, idx: number) => (\n                              <span key={idx} className=\"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm\">\n                                {allergy}\n                              </span>\n                            ))\n                          ) : (\n                            <p className=\"text-gray-800\">None</p>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                )}\n                </div>\n              )}\n            </div>\n\n            {/* Modal Footer */}\n            <div className=\"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-4 transition-colors\">\n              {isCreatingUser ? (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowUserModal(false);\n                      setIsCreatingUser(false);\n                      setNewUserForm({\n                        name: '',\n                        email: '',\n                        password: '',\n                        phone: '',\n                        role: 'patient',\n                        address: '',\n                      });\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleCreateUser}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Create User\n                  </button>\n                </>\n              ) : isEditingUser ? (\n                <>\n                  <button\n                    onClick={() => setIsEditingUser(false)}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleUpdateUser}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Save Changes\n                  </button>\n                </>\n              ) : (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowUserModal(false);\n                      setSelectedUser(null);\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => setIsEditingUser(true)}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                  >\n                    Edit\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nUsersManagementView.displayName = 'UsersManagementView';\n\nconst DoctorsManagementView = ({ onSectionChange }: any) => {\n  const { showNotification } = useNotification();\n  const [pendingDoctors, setPendingDoctors] = useState<any[]>([]);\n  const [approvedDoctors, setApprovedDoctors] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'pending' | 'approved'>('approved');\n  const [selectedDoctor, setSelectedDoctor] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [notes, setNotes] = useState('');\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [actionMenuOpen, setActionMenuOpen] = useState<string | null>(null);\n  const [isEditingDoctor, setIsEditingDoctor] = useState(false);\n  const [editDoctorForm, setEditDoctorForm] = useState<any>({});\n  const [departments, setDepartments] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetchPendingDoctors();\n    fetchApprovedDoctors();\n    fetchDepartments();\n  }, []);\n\n  useEffect(() => {\n    if (activeTab === 'approved') {\n      fetchApprovedDoctors();\n    }\n  }, [activeTab]);\n\n  const fetchDepartments = async () => {\n    try {\n      const response = await api.get('/departments');\n      setDepartments(response.data.departments || []);\n    } catch (error) {\n      console.error('Error fetching departments:', error);\n    }\n  };\n\n  const fetchPendingDoctors = async () => {\n    try {\n      const response = await api.get('/doctors/admin/pending');\n      setPendingDoctors(response.data.doctors || []);\n    } catch (error) {\n      console.error('Error fetching pending doctors:', error);\n    }\n  };\n\n  const fetchApprovedDoctors = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/doctors/admin/approved?limit=100');\n      setApprovedDoctors(response.data.doctors || []);\n    } catch (error) {\n      console.error('Error fetching approved doctors:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async (doctorId: string) => {\n    try {\n      await api.put(`/doctors/admin/${doctorId}/approve`, { notes });\n      setShowModal(false);\n      setSelectedDoctor(null);\n      setNotes('');\n      setSuccessMessage('Doctor approved successfully!');\n      setShowSuccessMessage(true);\n      fetchPendingDoctors();\n      fetchApprovedDoctors();\n      showNotification('Doctor approved successfully!', 'success');\n      \n      setTimeout(() => {\n        setShowSuccessMessage(false);\n      }, 3000);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to approve doctor', 'error');\n    }\n  };\n\n  const handleReject = async (doctorId: string) => {\n    if (!notes.trim()) {\n      showNotification('Please provide a reason for rejection', 'warning');\n      return;\n    }\n\n    if (!confirm('Are you sure you want to reject this doctor application?')) {\n      return;\n    }\n\n    try {\n      await api.put(`/doctors/admin/${doctorId}/reject`, { notes });\n      showNotification('Doctor application rejected', 'info');\n      setShowModal(false);\n      setSelectedDoctor(null);\n      setNotes('');\n      fetchPendingDoctors();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to reject doctor', 'error');\n    }\n  };\n\n  const openModal = (doctor: any, isApproved: boolean = false) => {\n    const parsedDoctor = { ...doctor };\n    \n    if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\n      try {\n        parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\n      } catch (e) {\n        parsedDoctor.availableDays = [];\n      }\n    }\n    \n    if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\n      try {\n        parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\n      } catch (e) {\n        parsedDoctor.previousJobs = [];\n      }\n    }\n    \n    if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\n      try {\n        parsedDoctor.education = JSON.parse(parsedDoctor.education);\n      } catch (e) {\n        parsedDoctor.education = [];\n      }\n    }\n    \n    setSelectedDoctor({ ...parsedDoctor, _isApproved: isApproved });\n    \n    if (isApproved) {\n      setEditDoctorForm({\n        departmentId: parsedDoctor.departmentId || '',\n        specialization: parsedDoctor.specialization || '',\n        experience: parsedDoctor.experience?.toString() || '',\n        qualification: parsedDoctor.qualification || '',\n        bio: parsedDoctor.bio || '',\n        consultationFee: parsedDoctor.consultationFee?.toString() || '',\n        availableFrom: parsedDoctor.availableFrom || '',\n        availableTo: parsedDoctor.availableTo || '',\n        availableDays: Array.isArray(parsedDoctor.availableDays) ? parsedDoctor.availableDays : [],\n        previousJobs: Array.isArray(parsedDoctor.previousJobs) ? parsedDoctor.previousJobs : [],\n        education: Array.isArray(parsedDoctor.education) ? parsedDoctor.education : [],\n      });\n    }\n    \n    setIsEditingDoctor(false);\n    setShowModal(true);\n  };\n\n  const handleUpdateDoctor = async () => {\n    try {\n      const updateData = {\n        ...editDoctorForm,\n        availableDays: JSON.stringify(editDoctorForm.availableDays),\n        previousJobs: JSON.stringify(editDoctorForm.previousJobs),\n        education: JSON.stringify(editDoctorForm.education),\n      };\n\n      await api.put(`/doctors/${selectedDoctor.id}`, updateData);\n      showNotification('Doctor updated successfully', 'success');\n      setIsEditingDoctor(false);\n      setShowModal(false);\n      setSelectedDoctor(null);\n      fetchApprovedDoctors();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update doctor', 'error');\n    }\n  };\n\n  if (loading && approvedDoctors.length === 0) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"relative\">\n      {showSuccessMessage && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]\">\n          <div className=\"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all\">\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <FiCheck className=\"text-3xl text-green-600\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">Success!</h3>\n              <p className=\"text-lg text-gray-600 mb-6\">{successMessage}</p>\n              <button\n                onClick={() => setShowSuccessMessage(false)}\n                className=\"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\n              >\n                OK\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('approved')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'approved'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Approved Doctors ({approvedDoctors.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('pending')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'pending'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Pending Doctors ({pendingDoctors.length})\n          </button>\n        </div>\n      </div>\n\n      {activeTab === 'pending' && pendingDoctors.length === 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\n          <p className=\"text-gray-600 text-lg\">No pending doctor applications</p>\n        </div>\n      )}\n\n      {activeTab === 'pending' && pendingDoctors.length > 0 && (\n        <div className=\"space-y-4\">\n          {pendingDoctors.map((doctor) => (\n            <div \n              key={doctor.id} \n              onClick={() => openModal(doctor)}\n              className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all cursor-pointer text-gray-900 dark:text-gray-100\"\n            >\n              <div className=\"flex justify-between items-start\">\n                <div className=\"flex items-start gap-4 flex-1\">\n                  <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xl font-bold overflow-hidden\">\n                    {doctor.profileImage ? (\n                      <img \n                        src={`data:${doctor.profileImageMimeType || 'image/jpeg'};base64,${doctor.profileImage}`} \n                        alt={doctor.user?.name}\n                        className=\"w-full h-full rounded-full object-cover\"\n                      />\n                    ) : (\n                      doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h3 className=\"text-xl font-semibold text-gray-800\">{doctor.user?.name}</h3>\n                      <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold\">\n                        Pending\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-600 mb-1\">{doctor.specialization}</p>\n                    <p className=\"text-xs text-gray-500\">{doctor.department?.name}</p>\n                    <div className=\"flex gap-4 mt-3 text-xs text-gray-500\">\n                      <span>{doctor.experience || 0} years exp</span>\n                      <span>•</span>\n                      <span>BDT {doctor.consultationFee || 0} fee</span>\n                      <span>•</span>\n                      <span>{doctor.user?.email}</span>\n                    </div>\n                  </div>\n                </div>\n                <button \n                  onClick={(e) => {\n                    e.stopPropagation();\n                    openModal(doctor);\n                  }}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ml-4\"\n                >\n                  View Details\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {activeTab === 'approved' && approvedDoctors.length === 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center transition-colors\">\n          <p className=\"text-gray-600 text-lg\">No approved doctors yet</p>\n        </div>\n      )}\n\n      {activeTab === 'approved' && approvedDoctors.length > 0 && (\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n                <tr>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Doctor Name\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Specialization\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Department\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Email\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Phone\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Experience\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Consultation Fee\n                  </th>\n                  <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n                {approvedDoctors.map((doctor) => (\n                  <tr key={doctor.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold\">\n                          {doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-900\">{doctor.user?.name || 'N/A'}</span>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.specialization || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.department?.name || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.email || 'N/A'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.user?.phone || '-'}</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">{doctor.experience || 0} years</td>\n                    <td className=\"px-6 py-4 text-sm text-gray-600\">BDT {doctor.consultationFee || 0}</td>\n                    <td className=\"px-6 py-4\">\n                      <span className=\"inline-flex px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800\">\n                        Approved\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right relative\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setActionMenuOpen(actionMenuOpen === doctor.id ? null : doctor.id);\n                        }}\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                      >\n                        <FiMoreVertical className=\"text-gray-600\" />\n                      </button>\n                      {actionMenuOpen === doctor.id && (\n                        <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 transition-colors\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              openModal(doctor, true);\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEye className=\"text-base\" />\n                            View Details\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              const parsedDoctor = { ...doctor };\n                              if (parsedDoctor.availableDays && typeof parsedDoctor.availableDays === 'string') {\n                                try {\n                                  parsedDoctor.availableDays = JSON.parse(parsedDoctor.availableDays);\n                                } catch (e) {\n                                  parsedDoctor.availableDays = [];\n                                }\n                              }\n                              if (parsedDoctor.previousJobs && typeof parsedDoctor.previousJobs === 'string') {\n                                try {\n                                  parsedDoctor.previousJobs = JSON.parse(parsedDoctor.previousJobs);\n                                } catch (e) {\n                                  parsedDoctor.previousJobs = [];\n                                }\n                              }\n                              if (parsedDoctor.education && typeof parsedDoctor.education === 'string') {\n                                try {\n                                  parsedDoctor.education = JSON.parse(parsedDoctor.education);\n                                } catch (e) {\n                                  parsedDoctor.education = [];\n                                }\n                              }\n                              openModal(parsedDoctor, true);\n                              setIsEditingDoctor(true);\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 transition-colors\"\n                          >\n                            <FiEdit className=\"text-base\" />\n                            Edit\n                          </button>\n                          <div className=\"border-t border-gray-200 my-2\"></div>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              if (confirm(`Are you sure you want to delete ${doctor.user?.name}?`)) {\n                                showNotification('Delete functionality coming soon', 'info');\n                              }\n                              setActionMenuOpen(null);\n                            }}\n                            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                          >\n                            <FiTrash2 className=\"text-base\" />\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {actionMenuOpen && (\n        <div className=\"fixed inset-0 z-40\" onClick={() => setActionMenuOpen(null)}></div>\n      )}\n\n      {showModal && selectedDoctor && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">\n                  {isEditingDoctor ? 'Edit Doctor Profile' : selectedDoctor._isApproved ? 'Doctor Details' : 'Review Doctor Application'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedDoctor(null);\n                    setNotes('');\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"flex items-start gap-6 mb-6 pb-6 border-b border-gray-200\">\n                <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-3xl font-bold overflow-hidden\">\n                  {selectedDoctor.profileImage ? (\n                    <img \n                      src={`data:${selectedDoctor.profileImageMimeType || 'image/jpeg'};base64,${selectedDoctor.profileImage}`} \n                      alt={selectedDoctor.user?.name}\n                      className=\"w-full h-full rounded-full object-cover\"\n                    />\n                  ) : (\n                    selectedDoctor.user?.name?.charAt(0)?.toUpperCase() || 'D'\n                  )}\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <h3 className=\"text-3xl font-bold text-gray-800\">\n                      {selectedDoctor.user?.name}\n                    </h3>\n                    {selectedDoctor._isApproved ? (\n                      <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold\">\n                        Approved\n                      </span>\n                    ) : (\n                      <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold\">\n                        Pending Approval\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-lg text-gray-600 mb-1\">{selectedDoctor.specialization}</p>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedDoctor.department?.icon} {selectedDoctor.department?.name}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-6 mb-6 pb-6 border-b border-gray-200\">\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Email</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.email}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Phone</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedDoctor.user?.phone || 'N/A'}</p>\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Department</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <select\n                      value={editDoctorForm.departmentId}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, departmentId: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"\">Select Department</option>\n                      {departments.map((dept) => (\n                        <option key={dept.id} value={dept.id}>\n                          {dept.icon} {dept.name}\n                        </option>\n                      ))}\n                    </select>\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">\n                      {selectedDoctor.department?.icon} {selectedDoctor.department?.name || 'N/A'}\n                    </p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Specialization</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"text\"\n                      value={editDoctorForm.specialization}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, specialization: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.specialization || 'N/A'}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Experience</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"number\"\n                      value={editDoctorForm.experience}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, experience: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">{selectedDoctor.experience || 0} years</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"text-sm text-gray-500 mb-1\">Consultation Fee</label>\n                  {isEditingDoctor && selectedDoctor._isApproved ? (\n                    <input\n                      type=\"number\"\n                      value={editDoctorForm.consultationFee}\n                      onChange={(e) => setEditDoctorForm({ ...editDoctorForm, consultationFee: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  ) : (\n                    <p className=\"font-semibold text-gray-800\">BDT {selectedDoctor.consultationFee || 0}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Qualifications</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <textarea\n                    value={editDoctorForm.qualification}\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, qualification: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={4}\n                  />\n                ) : (\n                  <p className=\"text-gray-700 whitespace-pre-line\">{selectedDoctor.qualification || 'N/A'}</p>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Bio</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <textarea\n                    value={editDoctorForm.bio}\n                    onChange={(e) => setEditDoctorForm({ ...editDoctorForm, bio: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={4}\n                  />\n                ) : (\n                  <p className=\"text-gray-700\">{selectedDoctor.bio || 'N/A'}</p>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Previous Jobs</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-3\">\n                    {(editDoctorForm.previousJobs || []).map((job: any, index: number) => (\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                        <input\n                          type=\"text\"\n                          value={job.position || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], position: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Position\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={job.hospital || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], hospital: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Hospital\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={job.years || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.previousJobs || [])];\n                            updated[index] = { ...updated[index], years: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, previousJobs: updated });\n                          }}\n                          placeholder=\"Years\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditDoctorForm({\n                              ...editDoctorForm,\n                              previousJobs: (editDoctorForm.previousJobs || []).filter((_: any, i: number) => i !== index),\n                            });\n                          }}\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\n                        >\n                          <FiX className=\"inline mr-1\" /> Remove\n                        </button>\n                      </div>\n                    ))}\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setEditDoctorForm({\n                          ...editDoctorForm,\n                          previousJobs: [...(editDoctorForm.previousJobs || []), { position: '', hospital: '', years: '' }],\n                        });\n                      }}\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                    >\n                      <FiPlus className=\"inline mr-1\" /> Add Job\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {selectedDoctor.previousJobs && Array.isArray(selectedDoctor.previousJobs) && selectedDoctor.previousJobs.length > 0 ? (\n                      selectedDoctor.previousJobs.map((job: any, index: number) => (\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\n                          <p className=\"font-semibold text-gray-800\">{job.position}</p>\n                          <p className=\"text-sm text-gray-600\">{job.hospital}</p>\n                          <p className=\"text-xs text-gray-500 mt-1\">{job.years}</p>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-gray-500\">No previous jobs listed</p>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Education</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-3\">\n                    {(editDoctorForm.education || []).map((edu: any, index: number) => (\n                      <div key={index} className=\"bg-gray-50 p-4 rounded-lg space-y-2\">\n                        <input\n                          type=\"text\"\n                          value={edu.degree || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], degree: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Degree\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={edu.institution || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], institution: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Institution\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <input\n                          type=\"text\"\n                          value={edu.year || ''}\n                          onChange={(e) => {\n                            const updated = [...(editDoctorForm.education || [])];\n                            updated[index] = { ...updated[index], year: e.target.value };\n                            setEditDoctorForm({ ...editDoctorForm, education: updated });\n                          }}\n                          placeholder=\"Year\"\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setEditDoctorForm({\n                              ...editDoctorForm,\n                              education: (editDoctorForm.education || []).filter((_: any, i: number) => i !== index),\n                            });\n                          }}\n                          className=\"text-red-600 hover:text-red-700 text-sm\"\n                        >\n                          <FiX className=\"inline mr-1\" /> Remove\n                        </button>\n                      </div>\n                    ))}\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setEditDoctorForm({\n                          ...editDoctorForm,\n                          education: [...(editDoctorForm.education || []), { degree: '', institution: '', year: '' }],\n                        });\n                      }}\n                      className=\"px-3 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\"\n                    >\n                      <FiPlus className=\"inline mr-1\" /> Add Education\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-3\">\n                    {selectedDoctor.education && Array.isArray(selectedDoctor.education) && selectedDoctor.education.length > 0 ? (\n                      selectedDoctor.education.map((edu: any, index: number) => (\n                        <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\n                          <p className=\"font-semibold text-gray-800\">{edu.degree}</p>\n                          <p className=\"text-sm text-gray-600\">{edu.institution}</p>\n                          <p className=\"text-xs text-gray-500 mt-1\">{edu.year}</p>\n                        </div>\n                      ))\n                    ) : (\n                      <p className=\"text-gray-500\">No education listed</p>\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">Availability</h4>\n                {isEditingDoctor && selectedDoctor._isApproved ? (\n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm text-gray-500 mb-2\">Available Days:</label>\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n                        {['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'].map((day) => (\n                          <label key={day} className=\"flex items-center gap-2 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={(editDoctorForm.availableDays || []).includes(day)}\n                              onChange={(e) => {\n                                const currentDays = editDoctorForm.availableDays || [];\n                                if (e.target.checked) {\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: [...currentDays, day] });\n                                } else {\n                                  setEditDoctorForm({ ...editDoctorForm, availableDays: currentDays.filter((d: string) => d !== day) });\n                                }\n                              }}\n                              className=\"rounded border-gray-300 text-teal-600 focus:ring-teal-500\"\n                            />\n                            <span className=\"text-sm text-gray-700\">{day}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm text-gray-500 mb-1\">From</label>\n                        <input\n                          type=\"time\"\n                          value={editDoctorForm.availableFrom || ''}\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableFrom: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm text-gray-500 mb-1\">To</label>\n                        <input\n                          type=\"time\"\n                          value={editDoctorForm.availableTo || ''}\n                          onChange={(e) => setEditDoctorForm({ ...editDoctorForm, availableTo: e.target.value })}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    {selectedDoctor.availableDays && Array.isArray(selectedDoctor.availableDays) && selectedDoctor.availableDays.length > 0 && (\n                      <div className=\"mb-3\">\n                        <p className=\"text-sm text-gray-500 mb-2\">Available Days:</p>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {selectedDoctor.availableDays.map((day: string, index: number) => (\n                            <span\n                              key={index}\n                              className=\"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium\"\n                            >\n                              {day}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    {selectedDoctor.availableFrom && selectedDoctor.availableTo && (\n                      <p className=\"font-semibold text-gray-800\">\n                        Time: {selectedDoctor.availableFrom} - {selectedDoctor.availableTo}\n                      </p>\n                    )}\n                    {(!selectedDoctor.availableDays || selectedDoctor.availableDays.length === 0) && !selectedDoctor.availableFrom && (\n                      <p className=\"text-gray-500\">No availability set</p>\n                    )}\n                  </>\n                )}\n              </div>\n\n              {(selectedDoctor.hasCV || selectedDoctor.cvResume) && (\n                <div className=\"mb-6 pb-6 border-b border-gray-200\">\n                  <h4 className=\"text-lg font-semibold text-gray-800 mb-3\">CV/Resume</h4>\n                  <a\n                    href={`${process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000'}/api/doctors/${selectedDoctor.id}/cv`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium\"\n                  >\n                    <FiFileTextIcon className=\"text-lg\" />\n                    Download CV/Resume {selectedDoctor.cvResumeFileName && `(${selectedDoctor.cvResumeFileName})`}\n                  </a>\n                </div>\n              )}\n\n              {!selectedDoctor._isApproved && (\n                <div className=\"mb-6\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Admin Notes (Optional for approval, Required for rejection)\n                  </label>\n                  <textarea\n                    value={notes}\n                    onChange={(e) => setNotes(e.target.value)}\n                    rows={4}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\n                    placeholder=\"Add any notes or comments about this doctor application...\"\n                  />\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\n              {selectedDoctor._isApproved ? (\n                isEditingDoctor ? (\n                  <>\n                    <button\n                      onClick={() => {\n                        setIsEditingDoctor(false);\n                      }}\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                    <button\n                      onClick={handleUpdateDoctor}\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                    >\n                      Save Changes\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <button\n                      onClick={() => {\n                        setShowModal(false);\n                        setSelectedDoctor(null);\n                        setNotes('');\n                        setIsEditingDoctor(false);\n                      }}\n                      className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                    >\n                      Close\n                    </button>\n                    <button\n                      onClick={() => setIsEditingDoctor(true)}\n                      className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n                    >\n                      Edit\n                    </button>\n                  </>\n                )\n              ) : (\n                <>\n                  <button\n                    onClick={() => {\n                      setShowModal(false);\n                      setSelectedDoctor(null);\n                      setNotes('');\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n                  >\n                    Close\n                  </button>\n                  <button\n                    onClick={() => handleReject(selectedDoctor.id)}\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 font-medium transition-colors\"\n                  >\n                    <FiX className=\"text-lg\" />\n                    Reject Application\n                  </button>\n                  <button\n                    onClick={() => handleApprove(selectedDoctor.id)}\n                    className=\"flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2 font-medium transition-colors\"\n                  >\n                    <FiCheck className=\"text-lg\" />\n                    Approve Doctor\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AppointmentsManagementView = React.forwardRef((props: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [appointments, setAppointments] = useState<any[]>([]);\n  const [filteredAppointments, setFilteredAppointments] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<'all' | 'pending' | 'confirmed' | 'completed' | 'cancelled'>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedAppointment, setSelectedAppointment] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [users, setUsers] = useState<any[]>([]);\n  const [doctors, setDoctors] = useState<any[]>([]);\n  const [newAppointmentForm, setNewAppointmentForm] = useState({\n    patientId: '',\n    doctorId: '',\n    appointmentDate: '',\n    appointmentTime: '',\n    reason: '',\n    status: 'pending',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: async () => {\n      // Fetch users and doctors for dropdowns\n      try {\n        const [usersRes, doctorsRes] = await Promise.all([\n          api.get('/admin/users?limit=1000'),\n          api.get('/doctors?limit=1000'),\n        ]);\n        setUsers(usersRes.data.users?.filter((u: any) => u.role === 'patient') || []);\n        setDoctors(doctorsRes.data.doctors || []);\n      } catch (error) {\n        console.error('Error fetching users/doctors:', error);\n      }\n      setNewAppointmentForm({\n        patientId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        reason: '',\n        status: 'pending',\n      });\n      setShowCreateModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n\n  useEffect(() => {\n    filterAppointments();\n  }, [appointments, activeTab, searchQuery]);\n\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/appointments?limit=1000');\n      setAppointments(response.data.appointments || []);\n      setFilteredAppointments(response.data.appointments || []);\n    } catch (error) {\n      console.error('Error fetching appointments:', error);\n      showNotification('Failed to fetch appointments', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAppointments = () => {\n    let filtered = [...appointments];\n\n    if (activeTab !== 'all') {\n      filtered = filtered.filter((apt) => apt.status === activeTab);\n    }\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (apt) =>\n          apt.patient?.name?.toLowerCase().includes(query) ||\n          apt.doctor?.user?.name?.toLowerCase().includes(query) ||\n          apt.patient?.email?.toLowerCase().includes(query) ||\n          apt.reason?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredAppointments(filtered);\n  };\n\n  const handleCreateAppointment = async () => {\n    try {\n      if (!newAppointmentForm.patientId || !newAppointmentForm.doctorId || !newAppointmentForm.appointmentDate || !newAppointmentForm.appointmentTime) {\n        showNotification('Patient, Doctor, Date, and Time are required', 'error');\n        return;\n      }\n\n      await api.post('/appointments', {\n        patientId: newAppointmentForm.patientId,\n        doctorId: newAppointmentForm.doctorId,\n        appointmentDate: newAppointmentForm.appointmentDate,\n        appointmentTime: newAppointmentForm.appointmentTime,\n        reason: newAppointmentForm.reason || '',\n        status: newAppointmentForm.status,\n        overrideLimit: true, // Admin can override limits\n      });\n\n      showNotification('Appointment created successfully', 'success');\n      setShowCreateModal(false);\n      setNewAppointmentForm({\n        patientId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        reason: '',\n        status: 'pending',\n      });\n      fetchAppointments();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create appointment', 'error');\n    }\n  };\n\n  const handleStatusUpdate = async (appointmentId: string, newStatus: string) => {\n    try {\n      await api.put(`/appointments/${appointmentId}/status`, { status: newStatus });\n      showNotification('Appointment status updated successfully', 'success');\n      fetchAppointments();\n      setShowModal(false);\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update appointment status', 'error');\n    }\n  };\n\n  const getStatusBadgeColor = (status: string) => {\n    switch (status) {\n      case 'confirmed': return 'bg-green-100 text-green-800';\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\n      case 'completed': return 'bg-blue-100 text-blue-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Search and Filter */}\n      <div className=\"mb-6 flex gap-4\">\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by patient name, doctor name, or email...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n          />\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All ({appointments.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('pending')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'pending'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Pending ({appointments.filter((a) => a.status === 'pending').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('confirmed')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'confirmed'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Confirmed ({appointments.filter((a) => a.status === 'confirmed').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('completed')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'completed'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Completed ({appointments.filter((a) => a.status === 'completed').length})\n          </button>\n          <button\n            onClick={() => setActiveTab('cancelled')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'cancelled'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Cancelled ({appointments.filter((a) => a.status === 'cancelled').length})\n          </button>\n        </div>\n      </div>\n\n      {/* Appointments Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Patient\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Doctor\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Date & Time\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Reason\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredAppointments.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No appointments found\n                  </td>\n                </tr>\n              ) : (\n                filteredAppointments.map((appointment) => (\n                  <tr key={appointment.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{appointment.patient?.name || 'N/A'}</p>\n                        <p className=\"text-xs text-gray-500\">{appointment.patient?.email || 'N/A'}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">Dr. {appointment.doctor?.user?.name || 'N/A'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">\n                        {format(parseISO(appointment.appointmentDate), 'MMM dd, yyyy')}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">{appointment.appointmentTime}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{appointment.reason || '-'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(appointment.status)}`}>\n                        {appointment.status || 'N/A'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button\n                        onClick={() => {\n                          setSelectedAppointment(appointment);\n                          setShowModal(true);\n                        }}\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\n                      >\n                        View Details\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Appointment Details Modal */}\n      {showModal && selectedAppointment && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">Appointment Details</h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedAppointment(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.patient?.email || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\n                    <p className=\"font-semibold text-gray-800\">Dr. {selectedAppointment.doctor?.user?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\n                    <p className=\"font-semibold text-gray-800\">\n                      {format(parseISO(selectedAppointment.appointmentDate), 'MMMM dd, yyyy')}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Time</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.appointmentTime || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Status</p>\n                    <span className={`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${getStatusBadgeColor(selectedAppointment.status)}`}>\n                      {selectedAppointment.status || 'N/A'}\n                    </span>\n                  </div>\n                </div>\n                {selectedAppointment.reason && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Reason</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedAppointment.reason}</p>\n                  </div>\n                )}\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-2\">Update Status</p>\n                  <div className=\"flex gap-2 flex-wrap\">\n                    {['pending', 'confirmed', 'completed', 'cancelled'].map((status) => (\n                      <button\n                        key={status}\n                        onClick={() => handleStatusUpdate(selectedAppointment.id, status)}\n                        disabled={selectedAppointment.status === status}\n                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                          selectedAppointment.status === status\n                            ? 'bg-gray-300 text-gray-600 cursor-not-allowed'\n                            : 'bg-teal-600 text-white hover:bg-teal-700'\n                        }`}\n                      >\n                        {status.charAt(0).toUpperCase() + status.slice(1)}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedAppointment(null);\n                }}\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nAppointmentsManagementView.displayName = 'AppointmentsManagementView';\n\nconst PrescriptionsManagementView = () => {\n  const { showNotification } = useNotification();\n  const [prescriptions, setPrescriptions] = useState<any[]>([]);\n  const [filteredPrescriptions, setFilteredPrescriptions] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedPrescription, setSelectedPrescription] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    fetchPrescriptions();\n  }, []);\n\n  useEffect(() => {\n    filterPrescriptions();\n  }, [prescriptions, searchQuery]);\n\n  const fetchPrescriptions = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/prescriptions?limit=1000');\n      setPrescriptions(response.data.prescriptions || []);\n      setFilteredPrescriptions(response.data.prescriptions || []);\n    } catch (error) {\n      console.error('Error fetching prescriptions:', error);\n      showNotification('Failed to fetch prescriptions', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterPrescriptions = () => {\n    let filtered = [...prescriptions];\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (pres) =>\n          pres.patient?.name?.toLowerCase().includes(query) ||\n          pres.patient?.email?.toLowerCase().includes(query) ||\n          pres.doctor?.user?.name?.toLowerCase().includes(query) ||\n          pres.diagnosis?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredPrescriptions(filtered);\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Search */}\n      <div className=\"mb-6\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by patient name, doctor name, email, or diagnosis...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n        />\n      </div>\n\n      {/* Prescriptions Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600\">\n              <tr>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Patient\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Doctor\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Diagnosis\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Medicines\n                </th>\n                <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Date\n                </th>\n                <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800\">\n              {filteredPrescriptions.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\n                    No prescriptions found\n                  </td>\n                </tr>\n              ) : (\n                filteredPrescriptions.map((prescription) => (\n                  <tr key={prescription.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">{prescription.patient?.name || 'N/A'}</p>\n                        <p className=\"text-xs text-gray-500\">{prescription.patient?.email || 'N/A'}</p>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">Dr. {prescription.doctor?.user?.name || 'N/A'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">{prescription.diagnosis || '-'}</p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-600\">\n                        {prescription.medicines && Array.isArray(prescription.medicines)\n                          ? `${prescription.medicines.length} medicine(s)`\n                          : 'N/A'}\n                      </p>\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <p className=\"text-sm text-gray-900\">\n                        {prescription.createdAt\n                          ? format(parseISO(prescription.createdAt), 'MMM dd, yyyy')\n                          : 'N/A'}\n                      </p>\n                    </td>\n                    <td className=\"px-6 py-4 text-right\">\n                      <button\n                        onClick={() => {\n                          setSelectedPrescription(prescription);\n                          setShowModal(true);\n                        }}\n                        className=\"px-3 py-1 text-sm text-teal-600 hover:text-teal-700 font-medium\"\n                      >\n                        View Details\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Prescription Details Modal */}\n      {showModal && selectedPrescription && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">Prescription Details</h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setSelectedPrescription(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Name</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Patient Email</p>\n                    <p className=\"font-semibold text-gray-800\">{selectedPrescription.patient?.email || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Doctor Name</p>\n                    <p className=\"font-semibold text-gray-800\">Dr. {selectedPrescription.doctor?.user?.name || 'N/A'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Date</p>\n                    <p className=\"font-semibold text-gray-800\">\n                      {selectedPrescription.createdAt\n                        ? format(parseISO(selectedPrescription.createdAt), 'MMMM dd, yyyy')\n                        : 'N/A'}\n                    </p>\n                  </div>\n                </div>\n\n                <div>\n                  <p className=\"text-sm text-gray-500 mb-1\">Diagnosis</p>\n                  <p className=\"font-semibold text-gray-800\">{selectedPrescription.diagnosis || 'N/A'}</p>\n                </div>\n\n                {selectedPrescription.medicines && Array.isArray(selectedPrescription.medicines) && selectedPrescription.medicines.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Medicines</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.medicines.map((medicine: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-gray-800\">{medicine.name || 'N/A'}</p>\n                            {(medicine.dosage || medicine.frequency) && (\n                              <p className=\"text-xs text-gray-600\">\n                                {medicine.dosage && `Dosage: ${medicine.dosage}`}\n                                {medicine.dosage && medicine.frequency && ' • '}\n                                {medicine.frequency && `Frequency: ${medicine.frequency}`}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.tests && Array.isArray(selectedPrescription.tests) && selectedPrescription.tests.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Tests</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.tests.map((test: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <p className=\"text-sm text-gray-800\">{test.name || 'N/A'}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.rules && Array.isArray(selectedPrescription.rules) && selectedPrescription.rules.length > 0 && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-2\">Rules</p>\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\n                      {selectedPrescription.rules.map((rule: any, index: number) => (\n                        <div key={index} className=\"flex items-start gap-2\">\n                          <span className=\"text-teal-600 font-semibold\">{index + 1}.</span>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm font-medium text-gray-800\">{rule.title || 'N/A'}</p>\n                            {rule.description && (\n                              <p className=\"text-xs text-gray-600\">{rule.description}</p>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {selectedPrescription.instructions && (\n                  <div>\n                    <p className=\"text-sm text-gray-500 mb-1\">Instructions</p>\n                    <p className=\"text-sm text-gray-800 whitespace-pre-line\">{selectedPrescription.instructions}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setSelectedPrescription(null);\n                }}\n                className=\"w-full px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst AdsManagementView = React.forwardRef((props: any, ref: any) => {\n  const { showNotification } = useNotification();\n  const [ads, setAds] = useState<any[]>([]);\n  const [filteredAds, setFilteredAds] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeTab, setActiveTab] = useState<'all' | 'active' | 'inactive'>('all');\n  const [selectedAd, setSelectedAd] = useState<any>(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [adForm, setAdForm] = useState({\n    title: '',\n    description: '',\n    imageUrl: '',\n    link: '',\n    targetAudience: 'all',\n    isActive: true,\n    startDate: '',\n    endDate: '',\n  });\n\n  // Expose methods to parent via ref\n  useImperativeHandle(ref, () => ({\n    openCreateModal: () => {\n      setAdForm({\n        title: '',\n        description: '',\n        imageUrl: '',\n        link: '',\n        targetAudience: 'all',\n        isActive: true,\n        startDate: '',\n        endDate: '',\n      });\n      setIsEditing(false);\n      setSelectedAd(null);\n      setShowCreateModal(true);\n    },\n  }));\n\n  useEffect(() => {\n    fetchAds();\n  }, []);\n\n  useEffect(() => {\n    filterAds();\n  }, [ads, activeTab, searchQuery]);\n\n  const fetchAds = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/admin/ads?limit=1000');\n      setAds(response.data.ads || []);\n      setFilteredAds(response.data.ads || []);\n    } catch (error) {\n      console.error('Error fetching ads:', error);\n      showNotification('Failed to fetch advertisements', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAds = () => {\n    let filtered = [...ads];\n\n    if (activeTab === 'active') {\n      filtered = filtered.filter((ad) => ad.isActive === true);\n    } else if (activeTab === 'inactive') {\n      filtered = filtered.filter((ad) => ad.isActive === false);\n    }\n\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(\n        (ad) =>\n          ad.title?.toLowerCase().includes(query) ||\n          ad.description?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredAds(filtered);\n  };\n\n  const handleCreateAd = async () => {\n    try {\n      await api.post('/ads', adForm);\n      showNotification('Advertisement created successfully', 'success');\n      setShowCreateModal(false);\n      setAdForm({\n        title: '',\n        description: '',\n        imageUrl: '',\n        link: '',\n        targetAudience: 'all',\n        isActive: true,\n        startDate: '',\n        endDate: '',\n      });\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to create advertisement', 'error');\n    }\n  };\n\n  const handleUpdateAd = async () => {\n    try {\n      await api.put(`/ads/${selectedAd.id}`, adForm);\n      showNotification('Advertisement updated successfully', 'success');\n      setShowModal(false);\n      setIsEditing(false);\n      setSelectedAd(null);\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to update advertisement', 'error');\n    }\n  };\n\n  const handleDeleteAd = async (adId: string) => {\n    if (!confirm('Are you sure you want to delete this advertisement?')) {\n      return;\n    }\n\n    try {\n      await api.delete(`/ads/${adId}`);\n      showNotification('Advertisement deleted successfully', 'success');\n      fetchAds();\n    } catch (error: any) {\n      showNotification(error.response?.data?.message || 'Failed to delete advertisement', 'error');\n    }\n  };\n\n  const openEditModal = (ad: any) => {\n    setSelectedAd(ad);\n    setAdForm({\n      title: ad.title || '',\n      description: ad.description || '',\n      imageUrl: ad.imageUrl || '',\n      link: ad.link || '',\n      targetAudience: ad.targetAudience || 'all',\n      isActive: ad.isActive !== undefined ? ad.isActive : true,\n      startDate: ad.startDate ? format(parseISO(ad.startDate), 'yyyy-MM-dd') : '',\n      endDate: ad.endDate ? format(parseISO(ad.endDate), 'yyyy-MM-dd') : '',\n    });\n    setIsEditing(true);\n    setShowModal(true);\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div>\n      {/* Header with Create Button */}\n      <div className=\"mb-6 flex items-center justify-between\">\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Search advertisements by title or description...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n          />\n        </div>\n        <button\n          onClick={() => {\n            setAdForm({\n              title: '',\n              description: '',\n              imageUrl: '',\n              link: '',\n              targetAudience: 'all',\n              isActive: true,\n              startDate: '',\n              endDate: '',\n            });\n            setShowCreateModal(true);\n          }}\n          className=\"ml-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center gap-2\"\n        >\n          <FiPlus className=\"text-lg\" />\n          Create Ad\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"mb-6\">\n        <div className=\"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700\">\n          <button\n            onClick={() => setActiveTab('all')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'all'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            All ({ads.length})\n          </button>\n          <button\n            onClick={() => setActiveTab('active')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'active'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Active ({ads.filter((a) => a.isActive).length})\n          </button>\n          <button\n            onClick={() => setActiveTab('inactive')}\n            className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\n              activeTab === 'inactive'\n                ? 'border-blue-600 text-blue-600'\n                : 'border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n            }`}\n          >\n            Inactive ({ads.filter((a) => !a.isActive).length})\n          </button>\n        </div>\n      </div>\n\n      {/* Ads Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredAds.length === 0 ? (\n          <div className=\"col-span-full bg-white rounded-lg shadow-md p-8 text-center\">\n            <p className=\"text-gray-600 text-lg\">No advertisements found</p>\n          </div>\n        ) : (\n          filteredAds.map((ad) => (\n            <div\n              key={ad.id}\n              className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\n            >\n              {ad.imageUrl && (\n                <div className=\"w-full h-48 bg-gray-200 overflow-hidden\">\n                  <img\n                    src={ad.imageUrl}\n                    alt={ad.title}\n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      (e.target as HTMLImageElement).style.display = 'none';\n                    }}\n                  />\n                </div>\n              )}\n              <div className=\"p-4\">\n                <div className=\"flex items-start justify-between mb-2\">\n                  <h3 className=\"text-lg font-semibold text-gray-800 flex-1\">{ad.title}</h3>\n                  <span\n                    className={`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${\n                      ad.isActive\n                        ? 'bg-green-100 text-green-800'\n                        : 'bg-gray-100 text-gray-800'\n                    }`}\n                  >\n                    {ad.isActive ? 'Active' : 'Inactive'}\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{ad.description}</p>\n                <div className=\"flex items-center justify-between text-xs text-gray-500 mb-3\">\n                  <span>Target: {ad.targetAudience || 'all'}</span>\n                  <span>Clicks: {ad.clickCount || 0}</span>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => openEditModal(ad)}\n                    className=\"flex-1 px-3 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleDeleteAd(ad.id)}\n                    className=\"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                  >\n                    <FiTrash2 />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Create/Edit Modal */}\n      {(showCreateModal || showModal) && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors\">\n            <div className=\"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800\">\n              <div className=\"flex items-center justify-between\">\n                <h2 className=\"text-2xl font-bold text-gray-800\">\n                  {isEditing ? 'Edit Advertisement' : 'Create Advertisement'}\n                </h2>\n                <button\n                  onClick={() => {\n                    setShowModal(false);\n                    setShowCreateModal(false);\n                    setIsEditing(false);\n                    setSelectedAd(null);\n                  }}\n                  className=\"p-2 hover:bg-gray-200 rounded-lg transition-colors\"\n                >\n                  <FiX className=\"text-xl text-gray-600\" />\n                </button>\n              </div>\n            </div>\n\n            <div className=\"overflow-y-auto flex-1 p-6\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Title *</label>\n                  <input\n                    type=\"text\"\n                    value={adForm.title}\n                    onChange={(e) => setAdForm({ ...adForm, title: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"Enter advertisement title\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Description</label>\n                  <textarea\n                    value={adForm.description}\n                    onChange={(e) => setAdForm({ ...adForm, description: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    rows={3}\n                    placeholder=\"Enter advertisement description\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Image URL</label>\n                  <input\n                    type=\"url\"\n                    value={adForm.imageUrl}\n                    onChange={(e) => setAdForm({ ...adForm, imageUrl: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"https://example.com/image.jpg\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Link URL</label>\n                  <input\n                    type=\"url\"\n                    value={adForm.link}\n                    onChange={(e) => setAdForm({ ...adForm, link: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    placeholder=\"https://example.com\"\n                  />\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Target Audience</label>\n                    <select\n                      value={adForm.targetAudience}\n                      onChange={(e) => setAdForm({ ...adForm, targetAudience: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"all\">All</option>\n                      <option value=\"patient\">Patients</option>\n                      <option value=\"doctor\">Doctors</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Status</label>\n                    <select\n                      value={adForm.isActive ? 'true' : 'false'}\n                      onChange={(e) => setAdForm({ ...adForm, isActive: e.target.value === 'true' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    >\n                      <option value=\"true\">Active</option>\n                      <option value=\"false\">Inactive</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Start Date</label>\n                    <input\n                      type=\"date\"\n                      value={adForm.startDate}\n                      onChange={(e) => setAdForm({ ...adForm, startDate: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">End Date</label>\n                    <input\n                      type=\"date\"\n                      value={adForm.endDate}\n                      onChange={(e) => setAdForm({ ...adForm, endDate: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"p-6 border-t border-gray-200 bg-gray-50 flex gap-4\">\n              <button\n                onClick={() => {\n                  setShowModal(false);\n                  setShowCreateModal(false);\n                  setIsEditing(false);\n                  setSelectedAd(null);\n                }}\n                className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 font-medium text-gray-700 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => {\n                  if (isEditing) {\n                    handleUpdateAd();\n                  } else {\n                    handleCreateAd();\n                  }\n                }}\n                disabled={!adForm.title.trim()}\n                className={`flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors ${\n                  !adForm.title.trim() ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                {isEditing ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nAdsManagementView.displayName = 'AdsManagementView';\n\n// Admin Chats Management View - Full access to chat with all users\nconst AdminChatsManagementView = () => {\n  const { user } = useAuth();\n  const { showNotification } = useNotification();\n  const [allUsers, setAllUsers] = useState<any[]>([]);\n  const [conversations, setConversations] = useState<any[]>([]);\n  const [selectedConversation, setSelectedConversation] = useState<any>(null);\n  const [messages, setMessages] = useState<any[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const pollingIntervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      fetchChatUsers();\n      fetchConversations();\n      fetchUnreadCount();\n    }\n  }, [user]);\n\n  // Real-time polling\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      const globalPollInterval = setInterval(() => {\n        fetchChatUsers();\n        fetchConversations();\n        if (selectedConversation) {\n          fetchMessages(selectedConversation.id);\n        }\n        fetchUnreadCount();\n      }, 2000);\n\n      return () => clearInterval(globalPollInterval);\n    }\n  }, [user, selectedConversation]);\n\n  useEffect(() => {\n    if (selectedConversation) {\n      if (pollingIntervalRef.current) {\n        clearInterval(pollingIntervalRef.current);\n      }\n      pollingIntervalRef.current = setInterval(() => {\n        fetchMessages(selectedConversation.id);\n        fetchConversations();\n        fetchUnreadCount();\n      }, 2000);\n    }\n    return () => {\n      if (pollingIntervalRef.current) {\n        clearInterval(pollingIntervalRef.current);\n      }\n    };\n  }, [selectedConversation]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const fetchChatUsers = async () => {\n    try {\n      const response = await api.get('/chat/users');\n      setAllUsers(response.data.users || []);\n    } catch (error) {\n      console.error('Error fetching chat users:', error);\n    }\n  };\n\n  const fetchConversations = async () => {\n    try {\n      const response = await api.get('/chat/conversations');\n      setConversations(response.data.conversations || []);\n    } catch (error) {\n      console.error('Error fetching conversations:', error);\n    }\n  };\n\n  const fetchMessages = async (userId: string) => {\n    try {\n      const response = await api.get(`/chat/messages/${userId}`);\n      setMessages(response.data.messages || []);\n    } catch (error) {\n      console.error('Error fetching messages:', error);\n    }\n  };\n\n  const fetchUnreadCount = async () => {\n    try {\n      const response = await api.get('/chat/unread-count');\n      setUnreadCount(response.data.unreadCount || 0);\n    } catch (error) {\n      console.error('Error fetching unread count:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSelectConversation = (conversation: any) => {\n    setSelectedConversation(conversation);\n    fetchMessages(conversation.id);\n    setSearchQuery('');\n    setShowSuggestions(false);\n  };\n\n  const handleSelectUser = (userItem: any) => {\n    const existingConversation = conversations.find(c => c.id === userItem.id);\n    if (existingConversation) {\n      handleSelectConversation(existingConversation);\n    } else {\n      const newConversation = {\n        id: userItem.id,\n        name: userItem.name,\n        email: userItem.email,\n        role: userItem.role,\n        phone: userItem.phone,\n        lastMessage: userItem.lastMessage || 'No messages yet',\n        lastMessageTime: userItem.lastMessageTime || new Date(),\n        unreadCount: userItem.unreadCount || 0,\n      };\n      setSelectedConversation(newConversation);\n      setMessages([]);\n    }\n    setSearchQuery('');\n    setShowSuggestions(false);\n  };\n\n  // Search by ID, name, email, or phone\n  const filteredUsers = allUsers.filter((userItem: any) => {\n    const query = searchQuery.toLowerCase();\n    return (\n      userItem.name.toLowerCase().includes(query) ||\n      userItem.email.toLowerCase().includes(query) ||\n      userItem.id.toLowerCase().includes(query) ||\n      (userItem.phone && userItem.phone.includes(query)) ||\n      userItem.role.toLowerCase().includes(query)\n    );\n  });\n\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newMessage.trim() || !selectedConversation) return;\n\n    try {\n      await api.post('/chat/send', {\n        receiverId: selectedConversation.id,\n        content: newMessage.trim(),\n      });\n      setNewMessage('');\n      setTimeout(() => {\n        fetchMessages(selectedConversation.id);\n        fetchConversations();\n        fetchChatUsers();\n        fetchUnreadCount();\n      }, 100);\n    } catch (error: any) {\n      console.error('Error sending message:', error);\n      showNotification(error.response?.data?.message || 'Failed to send message', 'error');\n    }\n  };\n\n  const getInitials = (name: string) => {\n    return name\n      ?.split(' ')\n      ?.map((n: string) => n[0])\n      ?.join('')\n      ?.toUpperCase()\n      ?.slice(0, 2) || 'U';\n  };\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"flex flex-col h-[calc(100vh-200px)] bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-colors\">\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Conversations List */}\n        <div className=\"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col transition-colors\">\n          <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n            <h2 className=\"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-3\">\n              All Users {unreadCount > 0 && `(${unreadCount})`}\n            </h2>\n            {/* Search Bar with Auto-suggestions - Search by ID, Name, Email */}\n            <div className=\"relative\">\n              <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => {\n                  setSearchQuery(e.target.value);\n                  setShowSuggestions(e.target.value.length > 0);\n                }}\n                onFocus={() => {\n                  if (searchQuery.length > 0) {\n                    setShowSuggestions(true);\n                  }\n                }}\n                onBlur={() => {\n                  setTimeout(() => setShowSuggestions(false), 200);\n                }}\n                placeholder=\"Search by ID, name, email...\"\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n              />\n              {showSuggestions && filteredUsers.length > 0 && (\n                <div className=\"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-y-auto transition-colors\">\n                  {filteredUsers.slice(0, 5).map((userItem: any) => (\n                    <div\n                      key={userItem.id}\n                      onMouseDown={(e) => {\n                        e.preventDefault();\n                        handleSelectUser(userItem);\n                      }}\n                      className=\"px-4 py-3 hover:bg-teal-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-0 transition-colors\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold text-sm\">\n                          {getInitials(userItem.name)}\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-semibold text-gray-800 dark:text-gray-100\">{userItem.name}</p>\n                          <p className=\"text-xs text-gray-600 dark:text-gray-400 capitalize\">{userItem.role}</p>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500 mt-1\">ID: {userItem.id.slice(0, 8)}...</p>\n                        </div>\n                        {userItem.unreadCount > 0 && (\n                          <span className=\"bg-blue-600 text-white text-xs px-2 py-1 rounded-full\">\n                            {userItem.unreadCount}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto\">\n            {allUsers.length === 0 ? (\n              <div className=\"p-8 text-center text-gray-500 dark:text-gray-400\">\n                <p>No users available</p>\n              </div>\n            ) : (\n              filteredUsers.map((userItem: any) => {\n                const conversation = conversations.find(c => c.id === userItem.id);\n                const isSelected = selectedConversation?.id === userItem.id;\n                const displayData = conversation || userItem;\n                return (\n                  <div\n                    key={userItem.id}\n                    onClick={() => handleSelectUser(userItem)}\n                    className={`p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${\n                      isSelected ? 'bg-teal-50 dark:bg-gray-700 border-l-4 border-teal-600' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\n                        {getInitials(userItem.name)}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center justify-between\">\n                          <h3 className=\"font-semibold text-gray-800 dark:text-gray-100 truncate\">{userItem.name}</h3>\n                          {displayData.lastMessageTime && (\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {formatDistanceToNow(new Date(displayData.lastMessageTime), { addSuffix: true })}\n                            </span>\n                          )}\n                        </div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 truncate mt-1\">{displayData.lastMessage || 'No messages yet'}</p>\n                        <div className=\"flex items-center gap-2 mt-1\">\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500\">ID: {userItem.id.slice(0, 8)}...</p>\n                          <span className=\"text-xs text-gray-400\">•</span>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{userItem.role}</p>\n                        </div>\n                      </div>\n                      {userItem.unreadCount > 0 && (\n                        <span className=\"bg-teal-600 text-white text-xs px-2 py-1 rounded-full\">\n                          {userItem.unreadCount}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n\n        {/* Chat Area */}\n        <div className=\"flex-1 flex flex-col bg-gray-50 dark:bg-gray-900 transition-colors\">\n          {selectedConversation ? (\n            <>\n              {/* Chat Header */}\n              <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between transition-colors\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\n                    {getInitials(selectedConversation.name)}\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100\">{selectedConversation.name}</h3>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 capitalize\">{selectedConversation.role}</p>\n                    <p className=\"text-xs text-gray-400 dark:text-gray-500\">ID: {selectedConversation.id.slice(0, 8)}...</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                {messages.map((message) => {\n                  const isOwn = message.senderId === user?.id;\n                  return (\n                    <div\n                      key={message.id}\n                      className={`flex ${isOwn ? 'justify-end' : 'justify-start'}`}\n                    >\n                      <div\n                        className={`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${\n                          isOwn\n                            ? 'bg-teal-600 text-white'\n                            : 'bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 border border-gray-200 dark:border-gray-600'\n                        } transition-colors`}\n                      >\n                        {!isOwn && (\n                          <p className=\"text-xs font-semibold mb-1 opacity-75\">\n                            {message.sender.name}\n                          </p>\n                        )}\n                        <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                        <div className={`flex items-center gap-1 mt-1 ${isOwn ? 'justify-end' : 'justify-start'}`}>\n                          <p className={`text-xs ${isOwn ? 'text-blue-100' : 'text-gray-500 dark:text-gray-400'}`}>\n                            {format(new Date(message.createdAt), 'h:mm a')}\n                          </p>\n                          {isOwn && (\n                            <div className=\"flex items-center\">\n                              {message.isRead ? (\n                                <span className=\"text-blue-300 text-xs ml-1 flex items-center gap-0.5\">\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                  <span className=\"text-[10px]\">Seen</span>\n                                </span>\n                              ) : (\n                                <span className=\"text-gray-300 text-xs ml-1\">\n                                  <svg className=\"w-3.5 h-3.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                                  </svg>\n                                </span>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Message Input */}\n              <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 transition-colors\">\n                <form onSubmit={handleSendMessage} className=\"flex items-center gap-2\">\n                  <button\n                    type=\"button\"\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n                  >\n                    <FiPaperclip className=\"text-xl text-gray-600 dark:text-gray-300\" />\n                  </button>\n                  <input\n                    type=\"text\"\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    placeholder=\"Type a message...\"\n                    className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors\"\n                  />\n                  <button\n                    type=\"submit\"\n                    disabled={!newMessage.trim()}\n                    className=\"p-2 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <FiSend className=\"text-xl\" />\n                  </button>\n                </form>\n              </div>\n            </>\n          ) : (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"text-center\">\n                <FiMessageCircle className=\"text-6xl text-gray-300 dark:text-gray-600 mx-auto mb-4\" />\n                <p className=\"text-gray-500 dark:text-gray-400 text-lg\">Select a user to start chatting</p>\n                <p className=\"text-gray-400 dark:text-gray-500 text-sm mt-2\">Search by ID, name, email, or phone</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n"],"names":[],"mappings":"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"}