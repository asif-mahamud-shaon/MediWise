{"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/components/Loading.tsx","turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/app/admin/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","const Loading = () => {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n\r\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport AdminSidebar from '@/components/AdminSidebar';\nimport AdminHeader from '@/components/AdminHeader';\nimport Loading from '@/components/Loading';\nimport api from '@/lib/api';\nimport { FiUser, FiCalendar, FiFileText, FiDollarSign } from 'react-icons/fi';\n\nexport default function AdminPage() {\n  const { user, loading: authLoading } = useAuth();\n  const router = useRouter();\n  const [stats, setStats] = useState<any>(null);\n  const [users, setUsers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n    } else if (user && user.role !== 'admin') {\n      router.push('/dashboard');\n    }\n  }, [user, authLoading, router]);\n\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      fetchAdminData();\n    }\n  }, [user]);\n\n  const fetchAdminData = async () => {\n    try {\n      setLoading(true);\n      const [dashboardResponse, usersResponse] = await Promise.all([\n        api.get('/admin/dashboard'),\n        api.get('/admin/users?limit=20'),\n      ]);\n      setStats(dashboardResponse.data);\n      setUsers(usersResponse.data.users);\n    } catch (error) {\n      console.error('Error fetching admin data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (authLoading || loading) {\n    return <Loading />;\n  }\n\n  if (!user || user.role !== 'admin') {\n    return null;\n  }\n\n  return (\n    <div className=\"flex min-h-screen bg-gray-50\">\n      <AdminSidebar />\n      <main className=\"ml-64 flex-1\">\n        <AdminHeader title=\"Users\" />\n        <div className=\"p-8\">\n\n          {stats && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">Total Users</p>\n                    <p className=\"text-3xl font-bold text-teal-600 mt-2\">\n                      {stats.stats?.totalUsers || 0}\n                    </p>\n                  </div>\n                  <FiUser className=\"text-4xl text-teal-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">Total Doctors</p>\n                    <p className=\"text-3xl font-bold text-indigo-600 mt-2\">\n                      {stats.stats?.totalDoctors || 0}\n                    </p>\n                  </div>\n                  <FiUser className=\"text-4xl text-indigo-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">Appointments</p>\n                    <p className=\"text-3xl font-bold text-teal-600 mt-2\">\n                      {stats.stats?.totalAppointments || 0}\n                    </p>\n                  </div>\n                  <FiCalendar className=\"text-4xl text-teal-600\" />\n                </div>\n              </div>\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-gray-600 text-sm\">Prescriptions</p>\n                    <p className=\"text-3xl font-bold text-indigo-600 mt-2\">\n                      {stats.stats?.totalPrescriptions || 0}\n                    </p>\n                  </div>\n                  <FiFileText className=\"text-4xl text-indigo-600\" />\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n            <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Recent Users</h2>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"border-b border-gray-200\">\n                    <th className=\"text-left py-3 px-4 text-gray-700 font-semibold\">Name</th>\n                    <th className=\"text-left py-3 px-4 text-gray-700 font-semibold\">Email</th>\n                    <th className=\"text-left py-3 px-4 text-gray-700 font-semibold\">Role</th>\n                    <th className=\"text-left py-3 px-4 text-gray-700 font-semibold\">Phone</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {users.map((u) => (\n                    <tr key={u.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                      <td className=\"py-3 px-4 text-gray-800\">{u.name}</td>\n                      <td className=\"py-3 px-4 text-gray-600\">{u.email}</td>\n                      <td className=\"py-3 px-4\">\n                        <span\n                          className={`px-2 py-1 rounded-full text-xs font-semibold ${\n                            u.role === 'admin'\n                              ? 'bg-purple-100 text-purple-800'\n                              : u.role === 'doctor'\n                              ? 'bg-blue-100 text-blue-800'\n                              : 'bg-green-100 text-green-800'\n                          }`}\n                        >\n                          {u.role}\n                        </span>\n                      </td>\n                      <td className=\"py-3 px-4 text-gray-600\">{u.phone || '-'}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {stats?.recentAppointments && stats.recentAppointments.length > 0 && (\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Recent Appointments</h2>\n              <div className=\"space-y-3\">\n                {stats.recentAppointments.slice(0, 5).map((appt: any) => (\n                  <div\n                    key={appt.id}\n                    className=\"flex justify-between items-center p-3 border border-gray-200 rounded-lg\"\n                  >\n                    <div>\n                      <p className=\"font-semibold text-gray-800\">\n                        {appt.patient?.name} - {appt.doctor?.user?.name}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {new Date(appt.appointmentDate).toLocaleDateString()} at {appt.appointmentTime}\n                      </p>\n                    </div>\n                    <span\n                      className={`px-3 py-1 rounded-full text-xs font-semibold ${\n                        appt.status === 'confirmed'\n                          ? 'bg-green-100 text-green-800'\n                          : appt.status === 'pending'\n                          ? 'bg-yellow-100 text-yellow-800'\n                          : appt.status === 'completed'\n                          ? 'bg-blue-100 text-blue-800'\n                          : 'bg-red-100 text-red-800'\n                      }`}\n                    >\n                      {appt.status}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}\n\n\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}