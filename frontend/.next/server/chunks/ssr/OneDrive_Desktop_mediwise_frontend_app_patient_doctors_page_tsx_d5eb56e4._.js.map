{"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/app/patient/doctors/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useCallback } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport PatientSidebar from '@/components/PatientSidebar';\r\nimport Loading from '@/components/Loading';\r\nimport api from '@/lib/api';\r\nimport Link from 'next/link';\r\nimport { FiStar, FiMapPin, FiClock, FiDollarSign, FiSearch, FiCalendar, FiX } from 'react-icons/fi';\r\nimport { useNotification } from '@/context/NotificationContext';\r\n\r\nexport default function PatientDoctorsPage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const { showNotification } = useNotification();\r\n  const router = useRouter();\r\n  const [doctors, setDoctors] = useState<any[]>([]);\r\n  const [departments, setDepartments] = useState<any[]>([]);\r\n  const [selectedDept, setSelectedDept] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n  const [suggestions, setSuggestions] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [nextCursor, setNextCursor] = useState<string | null>(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  \r\n  // Booking modal states\r\n  const [showBookingModal, setShowBookingModal] = useState(false);\r\n  const [selectedDoctor, setSelectedDoctor] = useState<any>(null);\r\n  const [availableSlots, setAvailableSlots] = useState<string[]>([]);\r\n  const [loadingSlots, setLoadingSlots] = useState(false);\r\n  const [appointmentForm, setAppointmentForm] = useState({\r\n    appointmentDate: '',\r\n    appointmentTime: '',\r\n    reason: '',\r\n  });\r\n  const [bookingError, setBookingError] = useState('');\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [bookedAppointment, setBookedAppointment] = useState<any>(null);\r\n\r\n  const fetchDepartments = async () => {\r\n    try {\r\n      const response = await api.get('/departments');\r\n      setDepartments(response.data.departments || []);\r\n    } catch (error) {\r\n      console.error('Error fetching departments:', error);\r\n    }\r\n  };\r\n\r\n  const fetchDoctors = useCallback(async (cursor?: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const params: any = { limit: 12, status: 'approved' };\r\n      if (cursor) params.cursor = cursor;\r\n      if (selectedDept) params.departmentId = selectedDept;\r\n      if (searchQuery && searchQuery.trim().length >= 2) {\r\n        params.search = searchQuery.trim();\r\n      }\r\n\r\n      const response = await api.get('/doctors', { params });\r\n      const doctorsData = response.data.doctors || [];\r\n      \r\n      if (cursor) {\r\n        // Filter out duplicates by doctor.id\r\n        setDoctors((prev) => {\r\n          const existingIds = new Set(prev.map(d => d.id));\r\n          const newDoctors = doctorsData.filter((d: any) => !existingIds.has(d.id));\r\n          return [...prev, ...newDoctors];\r\n        });\r\n      } else {\r\n        // Remove duplicates from initial load as well\r\n        const uniqueDoctors = doctorsData.filter((doctor: any, index: number, self: any[]) => \r\n          index === self.findIndex((d: any) => d.id === doctor.id)\r\n        );\r\n        setDoctors(uniqueDoctors);\r\n      }\r\n      setNextCursor(response.data.pagination?.nextCursor || null);\r\n      setHasMore(response.data.pagination?.hasMore || false);\r\n    } catch (error) {\r\n      console.error('Error fetching doctors:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedDept, searchQuery]);\r\n\r\n  const searchDoctors = async () => {\r\n    try {\r\n      const response = await api.get('/doctors/search', {\r\n        params: { q: searchQuery, limit: 5 },\r\n      });\r\n      setSuggestions(response.data.doctors || []);\r\n      setShowSuggestions(true);\r\n    } catch (error) {\r\n      console.error('Error searching doctors:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && (!user || user.role !== 'patient')) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    if (user && user.role === 'patient') {\r\n      fetchDepartments();\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  useEffect(() => {\r\n    if (user && user.role === 'patient') {\r\n      fetchDoctors();\r\n    }\r\n  }, [user, selectedDept]);\r\n\r\n  // Show auto-suggestions as user types (no list update, only suggestions)\r\n  useEffect(() => {\r\n    if (searchQuery.length >= 2) {\r\n      // Show suggestions as user types with debounce\r\n      const timeoutId = setTimeout(() => {\r\n        searchDoctors();\r\n        setShowSuggestions(true);\r\n      }, 300);\r\n      return () => clearTimeout(timeoutId);\r\n    } else {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n    }\r\n  }, [searchQuery]);\r\n\r\n\r\n  const handleSearchKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      setShowSuggestions(false);\r\n      // Search when Enter is pressed\r\n      if (user && user.role === 'patient') {\r\n        fetchDoctors();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const loadMore = () => {\r\n    if (nextCursor && !loading) {\r\n      fetchDoctors(nextCursor);\r\n    }\r\n  };\r\n\r\n  const openBookingModal = (doctor: any) => {\r\n    setSelectedDoctor(doctor);\r\n    setShowBookingModal(true);\r\n    setAppointmentForm({ appointmentDate: '', appointmentTime: '', reason: '' });\r\n    setAvailableSlots([]);\r\n    setBookingError('');\r\n  };\r\n\r\n  const fetchAvailableSlots = async () => {\r\n    if (!appointmentForm.appointmentDate || !selectedDoctor) return;\r\n    \r\n    try {\r\n      setLoadingSlots(true);\r\n      setBookingError('');\r\n      const response = await api.get('/appointments/available-slots', {\r\n        params: {\r\n          doctorId: selectedDoctor.id,\r\n          date: appointmentForm.appointmentDate,\r\n        },\r\n      });\r\n      setAvailableSlots(response.data.availableSlots || []);\r\n      if (response.data.isLimitReached) {\r\n        setBookingError('This doctor has reached the daily appointment limit for this date.');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error fetching available slots:', error);\r\n      setAvailableSlots([]);\r\n      setBookingError(error.response?.data?.message || 'Failed to fetch available slots');\r\n    } finally {\r\n      setLoadingSlots(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (appointmentForm.appointmentDate && showBookingModal && selectedDoctor) {\r\n      fetchAvailableSlots();\r\n    }\r\n  }, [appointmentForm.appointmentDate, showBookingModal]);\r\n\r\n  const handleBookAppointment = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setBookingError('');\r\n\r\n    if (!appointmentForm.appointmentDate || !appointmentForm.appointmentTime) {\r\n      setBookingError('Please select both date and time');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoadingSlots(true);\r\n      const response = await api.post('/appointments', {\r\n        doctorId: selectedDoctor.id,\r\n        ...appointmentForm,\r\n      });\r\n      \r\n      // Store appointment details for success modal\r\n      const appointmentDetails = {\r\n        doctor: selectedDoctor,\r\n        date: appointmentForm.appointmentDate,\r\n        time: appointmentForm.appointmentTime,\r\n        reason: appointmentForm.reason,\r\n      };\r\n      setBookedAppointment(appointmentDetails);\r\n      \r\n      // Close booking modal\r\n      setShowBookingModal(false);\r\n      setAppointmentForm({ appointmentDate: '', appointmentTime: '', reason: '' });\r\n      setAvailableSlots([]);\r\n      \r\n      // Show success confirmation modal\r\n      setShowSuccessModal(true);\r\n      \r\n    } catch (err: any) {\r\n      const errorMessage = err.response?.data?.message || 'Failed to book appointment';\r\n      setBookingError(errorMessage);\r\n    } finally {\r\n      setLoadingSlots(false);\r\n    }\r\n  };\r\n\r\n  const getAvailableDates = () => {\r\n    if (!selectedDoctor?.availableDays) {\r\n      console.log('No availableDays found for doctor:', selectedDoctor?.id);\r\n      return [];\r\n    }\r\n    \r\n    // Parse available days\r\n    let days: string[] = [];\r\n    try {\r\n      if (Array.isArray(selectedDoctor.availableDays)) {\r\n        days = selectedDoctor.availableDays;\r\n      } else if (typeof selectedDoctor.availableDays === 'string') {\r\n        // Try to parse as JSON first\r\n        try {\r\n          days = JSON.parse(selectedDoctor.availableDays);\r\n        } catch {\r\n          // If not JSON, try splitting by comma\r\n          days = selectedDoctor.availableDays.split(',').map(d => d.trim()).filter(d => d);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Error parsing availableDays:', e, selectedDoctor.availableDays);\r\n      return [];\r\n    }\r\n    \r\n    console.log('Parsed available days:', days);\r\n    \r\n    if (days.length === 0) {\r\n      console.warn('No available days parsed');\r\n      return [];\r\n    }\r\n    \r\n    // Normalize day names and map to day numbers\r\n    const dayMap: { [key: string]: number } = {\r\n      'sunday': 0, 'monday': 1, 'tuesday': 2, 'wednesday': 3,\r\n      'thursday': 4, 'friday': 5, 'saturday': 6\r\n    };\r\n    \r\n    // Convert available day names to numbers (case-insensitive)\r\n    const availableDayNumbers = days\r\n      .map((day: string) => {\r\n        const normalizedDay = day.trim().toLowerCase();\r\n        const dayNumber = dayMap[normalizedDay];\r\n        if (dayNumber === undefined) {\r\n          console.warn('Unknown day name:', day, 'normalized:', normalizedDay);\r\n        }\r\n        return dayNumber;\r\n      })\r\n      .filter((d: number | undefined) => d !== undefined && d >= 0 && d <= 6) as number[];\r\n    \r\n    console.log('Available day numbers:', availableDayNumbers);\r\n    \r\n    if (availableDayNumbers.length === 0) {\r\n      console.warn('No valid available days found:', days);\r\n      return [];\r\n    }\r\n    \r\n    // Create a Set for faster lookup\r\n    const availableDaysSet = new Set(availableDayNumbers);\r\n    console.log('Available days set:', Array.from(availableDaysSet));\r\n    \r\n    const dates: string[] = [];\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    // Get next 90 days and filter ONLY dates that fall on available days\r\n    // CRITICAL: Only include dates where dayOfWeek is EXACTLY in availableDaysSet\r\n    for (let i = 1; i <= 90; i++) {\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() + i);\r\n      date.setHours(12, 0, 0, 0); // Set to noon to avoid timezone issues\r\n      const dayOfWeek = date.getDay(); // 0 = Sunday, 1 = Monday, 2 = Tuesday, etc.\r\n      \r\n      // ABSOLUTE STRICT FILTERING: Double-check before adding\r\n      if (!availableDaysSet.has(dayOfWeek)) {\r\n        // Skip this date - it's not in available days\r\n        continue;\r\n      }\r\n      \r\n      // Format date as YYYY-MM-DD (local date, not UTC)\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      const dateString = `${year}-${month}-${day}`;\r\n      \r\n      // Verify once more before adding\r\n      const verifyDate = new Date(year, date.getMonth(), date.getDate());\r\n      const verifyDayOfWeek = verifyDate.getDay();\r\n      \r\n      if (availableDaysSet.has(verifyDayOfWeek)) {\r\n        dates.push(dateString);\r\n      }\r\n    }\r\n    \r\n    // Final verification: remove any invalid dates due to timezone issues\r\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n    const validDates = dates.filter(d => {\r\n      // Parse date string (YYYY-MM-DD) as local date\r\n      const [year, month, day] = d.split('-').map(Number);\r\n      const dateObj = new Date(year, month - 1, day); // month is 0-indexed\r\n      const dayOfWeek = dateObj.getDay();\r\n      return availableDaysSet.has(dayOfWeek);\r\n    });\r\n    \r\n    if (validDates.length !== dates.length) {\r\n      const removed = dates.length - validDates.length;\r\n      console.warn(`Removed ${removed} invalid date(s) due to timezone mismatch`);\r\n    }\r\n    \r\n    console.log('Available dates filter:', {\r\n      availableDays: days,\r\n      availableDayNumbers: Array.from(availableDaysSet),\r\n      totalDatesGenerated: 90,\r\n      validDatesCount: validDates.length,\r\n      sampleDates: validDates.slice(0, 3).map(d => {\r\n        const [year, month, day] = d.split('-').map(Number);\r\n        const dateObj = new Date(year, month - 1, day);\r\n        return dayNames[dateObj.getDay()] + ', ' + dateObj.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });\r\n      })\r\n    });\r\n    \r\n    return validDates;\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (!user || user.role !== 'patient') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <PatientSidebar user={user} logout={logout} />\r\n      <main className=\"ml-64 flex-1 p-8\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Find Doctors</h1>\r\n\r\n          {/* Search and Filter */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex flex-col md:flex-row gap-4\">\r\n              <div className=\"flex-1 relative\">\r\n                <FiSearch className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search doctors by name, specialization...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  onKeyPress={handleSearchKeyPress}\r\n                  onFocus={() => {\r\n                    if (searchQuery.length >= 2 && suggestions.length > 0) {\r\n                      setShowSuggestions(true);\r\n                    }\r\n                  }}\r\n                  onBlur={() => setTimeout(() => setShowSuggestions(false), 300)}\r\n                  className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                />\r\n                {showSuggestions && suggestions.length > 0 && (\r\n                  <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto\">\r\n                    {suggestions.map((doctor, index) => (\r\n                      <div\r\n                        key={doctor.id || `suggestion-${index}`}\r\n                        onClick={async () => {\r\n                          const doctorName = doctor.user?.name || '';\r\n                          setSearchQuery(doctorName);\r\n                          setShowSuggestions(false);\r\n                          // Trigger search immediately with the selected doctor's name\r\n                          try {\r\n                            setLoading(true);\r\n                            const params: any = { \r\n                              limit: 12, \r\n                              status: 'approved',\r\n                              search: doctorName.trim()\r\n                            };\r\n                            if (selectedDept) params.departmentId = selectedDept;\r\n\r\n                            const response = await api.get('/doctors', { params });\r\n                            const doctorsData = response.data.doctors || [];\r\n                            \r\n                            const uniqueDoctors = doctorsData.filter((d: any, idx: number, self: any[]) => \r\n                              idx === self.findIndex((doc: any) => doc.id === d.id)\r\n                            );\r\n                            \r\n                            setDoctors(uniqueDoctors);\r\n                            setNextCursor(response.data.pagination?.nextCursor || null);\r\n                            setHasMore(response.data.pagination?.hasMore || false);\r\n                          } catch (error) {\r\n                            console.error('Error searching doctors:', error);\r\n                          } finally {\r\n                            setLoading(false);\r\n                          }\r\n                        }}\r\n                        className=\"block px-4 py-3 hover:bg-teal-50 border-b border-gray-100 last:border-0 cursor-pointer transition-colors\"\r\n                      >\r\n                        <p className=\"font-semibold text-gray-800\">Dr. {doctor.user?.name}</p>\r\n                        <p className=\"text-sm text-gray-600\">{doctor.specialization}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Department Filter Dropdown */}\r\n              <select\r\n                value={selectedDept || ''}\r\n                onChange={(e) => setSelectedDept(e.target.value || null)}\r\n                className=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white min-w-[200px] md:min-w-[250px]\"\r\n              >\r\n                <option value=\"\">All Departments</option>\r\n                {departments.map((dept) => (\r\n                  <option key={dept.id || dept.name} value={dept.id || ''}>\r\n                    {typeof dept.icon === 'string' ? dept.icon : ''} {typeof dept.name === 'string' ? dept.name : 'Unknown'}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Doctors Grid */}\r\n          {doctors.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-gray-500 text-lg\">No doctors found</p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n                {doctors.map((doctor, index) => (\r\n                  <div\r\n                    key={doctor.id || `doctor-${index}`}\r\n                    className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow\"\r\n                  >\r\n                    <div className=\"flex items-start gap-4 mb-4\">\r\n                      <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xl font-bold\">\r\n                        {doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-semibold text-gray-800 text-lg\">\r\n                          {(() => {\r\n                            const name = doctor.user?.name || '';\r\n                            const cleanName = name.replace(/^dr\\.?\\s*/i, '');\r\n                            return `Dr. ${cleanName}`;\r\n                          })()}\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600\">{doctor.specialization}</p>\r\n                        <div className=\"flex items-center gap-1 mt-1\">\r\n                          <FiStar className=\"text-yellow-400 fill-yellow-400\" />\r\n                          <span className=\"text-sm text-gray-600\">4.8</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"space-y-2 text-sm text-gray-600\">\r\n                      {doctor.department && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <FiMapPin className=\"text-gray-400\" />\r\n                          <span>{typeof doctor.department === 'string' ? doctor.department : doctor.department?.name || 'N/A'}</span>\r\n                        </div>\r\n                      )}\r\n                      {doctor.experience && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <FiClock className=\"text-gray-400\" />\r\n                          <span>{doctor.experience} years experience</span>\r\n                        </div>\r\n                      )}\r\n                      {doctor.consultationFee && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <FiDollarSign className=\"text-gray-400\" />\r\n                          <span>${doctor.consultationFee}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <button \r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        openBookingModal(doctor);\r\n                      }}\r\n                      className=\"mt-4 w-full px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center justify-center gap-2\"\r\n                    >\r\n                      <FiCalendar className=\"text-lg\" />\r\n                      Book Appointment\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              {hasMore && (\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    onClick={loadMore}\r\n                    disabled={loading}\r\n                    className=\"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium disabled:opacity-50\"\r\n                  >\r\n                    Load More\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Modern Professional Booking Modal */}\r\n          {showBookingModal && selectedDoctor && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4\" onClick={(e) => {\r\n              if (e.target === e.currentTarget) {\r\n                setShowBookingModal(false);\r\n                setSelectedDoctor(null);\r\n                setAppointmentForm({ appointmentDate: '', appointmentTime: '', reason: '' });\r\n                setAvailableSlots([]);\r\n                setBookingError('');\r\n              }\r\n            }}>\r\n              <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n                {/* Modal Header */}\r\n                <div className=\"px-6 py-5 border-b border-gray-200\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-teal-600 flex items-center justify-center flex-shrink-0\">\r\n                        <FiCalendar className=\"text-xl text-white\" />\r\n                      </div>\r\n                      <div>\r\n                        <h2 className=\"text-xl font-bold text-gray-900\">Book Appointment</h2>\r\n                        <p className=\"text-sm text-gray-500\">Schedule your visit with Dr. {selectedDoctor.user?.name}</p>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowBookingModal(false);\r\n                        setSelectedDoctor(null);\r\n                        setAppointmentForm({ appointmentDate: '', appointmentTime: '', reason: '' });\r\n                        setAvailableSlots([]);\r\n                        setBookingError('');\r\n                      }}\r\n                      className=\"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-1.5 transition-all\"\r\n                    >\r\n                      <FiX className=\"text-lg\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Doctor Info Card */}\r\n                <div className=\"px-6 py-4 bg-gray-50 border-b border-gray-200\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"w-14 h-14 rounded-full bg-teal-600 flex items-center justify-center text-white text-lg font-bold flex-shrink-0\">\r\n                      {selectedDoctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"font-bold text-gray-900 text-base\">Dr. {selectedDoctor.user?.name}</h3>\r\n                      <p className=\"text-sm text-gray-600\">{selectedDoctor.specialization}</p>\r\n                      <div className=\"flex items-center gap-3 mt-2 flex-wrap\">\r\n                        {selectedDoctor.consultationFee && (\r\n                          <span className=\"text-sm font-semibold text-white bg-teal-600 px-3 py-1 rounded-full inline-flex items-center\">\r\n                            ${parseFloat(selectedDoctor.consultationFee).toFixed(2)}\r\n                          </span>\r\n                        )}\r\n                        {selectedDoctor.experience && (\r\n                          <span className=\"text-xs text-gray-600 flex items-center gap-1\">\r\n                            <FiClock className=\"text-xs\" />\r\n                            {selectedDoctor.experience} years experience\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Booking Form */}\r\n                <form onSubmit={handleBookAppointment} className=\"flex-1 overflow-y-auto px-6 py-5 space-y-5\">\r\n                  {/* Date Selection */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\r\n                      <FiCalendar className=\"text-teal-600 text-base\" />\r\n                      <span>Select Date <span className=\"text-red-500\">*</span></span>\r\n                    </label>\r\n                    <select\r\n                      value={appointmentForm.appointmentDate}\r\n                      onChange={(e) => setAppointmentForm({ ...appointmentForm, appointmentDate: e.target.value, appointmentTime: '' })}\r\n                      required\r\n                      className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-white text-gray-900 text-sm\"\r\n                    >\r\n                      <option value=\"\">Choose a date</option>\r\n                      {getAvailableDates().map((date) => {\r\n                        const dateObj = new Date(date);\r\n                        return (\r\n                          <option key={date} value={date}>\r\n                            {dateObj.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                    {selectedDoctor.availableDays && (\r\n                      <p className=\"text-xs text-gray-500 mt-2\">\r\n                        Available days: <span className=\"font-medium\">{Array.isArray(selectedDoctor.availableDays) ? selectedDoctor.availableDays.join(', ') : JSON.parse(selectedDoctor.availableDays || '[]').join(', ')}</span>\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Time Slots - Show after date is selected */}\r\n                  {appointmentForm.appointmentDate && (\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\r\n                        <FiClock className=\"text-teal-600 text-base\" />\r\n                        <span>Select Time <span className=\"text-red-500\">*</span></span>\r\n                      </label>\r\n                      {loadingSlots ? (\r\n                        <div className=\"text-center py-6 bg-gray-50 rounded-lg border border-gray-200\">\r\n                          <div className=\"inline-block animate-spin rounded-full h-7 w-7 border-2 border-teal-600 border-t-transparent\"></div>\r\n                          <p className=\"text-gray-600 text-sm mt-2\">Loading available time slots...</p>\r\n                        </div>\r\n                      ) : availableSlots.length > 0 ? (\r\n                        <div className=\"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto p-2 bg-gray-50 rounded-lg border border-gray-200\">\r\n                          {availableSlots.map((slot) => (\r\n                            <button\r\n                              key={slot}\r\n                              type=\"button\"\r\n                              onClick={() => setAppointmentForm({ ...appointmentForm, appointmentTime: slot })}\r\n                              className={`px-3 py-2 text-sm font-medium rounded-lg transition-all ${\r\n                                appointmentForm.appointmentTime === slot\r\n                                  ? 'bg-teal-600 text-white shadow-md'\r\n                                  : 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300'\r\n                              }`}\r\n                            >\r\n                              {slot}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"text-center py-6 bg-red-50 border border-red-200 rounded-lg\">\r\n                          <p className=\"text-red-700 font-medium text-sm\">No available slots for this date</p>\r\n                          <p className=\"text-xs text-red-600 mt-1\">Please select another date</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Reason */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-semibold text-gray-800 mb-2\">\r\n                      Reason for Visit <span className=\"text-gray-400 font-normal\">(Optional)</span>\r\n                    </label>\r\n                    <textarea\r\n                      value={appointmentForm.reason}\r\n                      onChange={(e) => setAppointmentForm({ ...appointmentForm, reason: e.target.value })}\r\n                      placeholder=\"Briefly describe your reason for the appointment...\"\r\n                      rows={3}\r\n                      className=\"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all resize-none text-gray-900 placeholder-gray-400 text-sm\"\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Error Message */}\r\n                  {bookingError && (\r\n                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2\">\r\n                      <div className=\"w-4 h-4 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n                        <FiX className=\"text-red-600 text-xs\" />\r\n                      </div>\r\n                      <p className=\"text-sm text-red-700 font-medium flex-1\">{bookingError}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Action Buttons */}\r\n                  <div className=\"flex gap-3 pt-4 border-t border-gray-200\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setShowBookingModal(false);\r\n                        setSelectedDoctor(null);\r\n                        setAppointmentForm({ appointmentDate: '', appointmentTime: '', reason: '' });\r\n                        setAvailableSlots([]);\r\n                        setBookingError('');\r\n                      }}\r\n                      className=\"flex-1 px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-all text-sm\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={!appointmentForm.appointmentDate || !appointmentForm.appointmentTime || loadingSlots}\r\n                      className=\"flex-1 px-5 py-2.5 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm\"\r\n                    >\r\n                      <FiCalendar className=\"text-base\" />\r\n                      Confirm Booking\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Success Confirmation Modal */}\r\n          {showSuccessModal && bookedAppointment && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4\" onClick={(e) => {\r\n              if (e.target === e.currentTarget) {\r\n                setShowSuccessModal(false);\r\n                setBookedAppointment(null);\r\n                router.push('/patient/appointments');\r\n              }\r\n            }}>\r\n              <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden\">\r\n                {/* Success Header */}\r\n                <div className=\"px-8 py-6 border-b border-gray-100\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <div className=\"w-12 h-12 rounded-2xl bg-green-100 flex items-center justify-center\">\r\n                        <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div>\r\n                        <h2 className=\"text-2xl font-bold text-gray-900\">Appointment Confirmed!</h2>\r\n                        <p className=\"text-sm text-gray-500 mt-0.5\">Your appointment has been successfully booked</p>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowSuccessModal(false);\r\n                        setBookedAppointment(null);\r\n                        router.push('/patient/appointments');\r\n                      }}\r\n                      className=\"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl p-2 transition-all\"\r\n                    >\r\n                      <FiX className=\"text-xl\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Appointment Details */}\r\n                <div className=\"px-8 py-6 space-y-4\">\r\n                  <div className=\"bg-gradient-to-r from-teal-50 to-indigo-50 rounded-xl p-4 border-2 border-teal-100\">\r\n                    <div className=\"flex items-center gap-3 mb-3\">\r\n                      <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-indigo-500 flex items-center justify-center text-white font-bold\">\r\n                        {bookedAppointment.doctor.user?.name?.charAt(0)?.toUpperCase() || 'D'}\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-bold text-gray-900\">Dr. {bookedAppointment.doctor.user?.name}</h3>\r\n                        <p className=\"text-sm text-gray-600\">{bookedAppointment.doctor.specialization}</p>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <div className=\"flex items-center gap-2 text-gray-700\">\r\n                        <FiCalendar className=\"text-teal-600\" />\r\n                        <span className=\"font-medium\">\r\n                          {new Date(bookedAppointment.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 text-gray-700\">\r\n                        <FiClock className=\"text-teal-600\" />\r\n                        <span className=\"font-medium\">{bookedAppointment.time}</span>\r\n                      </div>\r\n                      {bookedAppointment.doctor.consultationFee && (\r\n                        <div className=\"flex items-center gap-2 text-gray-700\">\r\n                          <FiDollarSign className=\"text-teal-600\" />\r\n                          <span className=\"font-medium\">Fee: ${bookedAppointment.doctor.consultationFee}</span>\r\n                        </div>\r\n                      )}\r\n                      {bookedAppointment.reason && (\r\n                        <div className=\"pt-2 border-t border-teal-200\">\r\n                          <p className=\"text-xs text-gray-500 uppercase mb-1\">Reason</p>\r\n                          <p className=\"text-gray-700\">{bookedAppointment.reason}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Notification Message */}\r\n                  <div className=\"bg-blue-50 border-2 border-blue-200 rounded-xl p-4\">\r\n                    <p className=\"text-sm text-blue-800 font-medium\">\r\n                      âœ“ You'll receive a confirmation email shortly\r\n                    </p>\r\n                    <p className=\"text-xs text-blue-600 mt-1\">\r\n                      Check your appointments page to view all your scheduled visits\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Action Button */}\r\n                <div className=\"px-8 py-6 border-t border-gray-100 bg-gray-50\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowSuccessModal(false);\r\n                      setBookedAppointment(null);\r\n                      router.push('/patient/appointments');\r\n                    }}\r\n                    className=\"w-full px-6 py-3.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-semibold transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2\"\r\n                  >\r\n                    <FiCalendar className=\"text-lg\" />\r\n                    View My Appointments\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}