{"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/mediwise/frontend/app/patient/profile/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useNotification } from '@/context/NotificationContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport PatientSidebar from '@/components/PatientSidebar';\r\nimport Loading from '@/components/Loading';\r\nimport api from '@/lib/api';\r\nimport { format } from 'date-fns';\r\nimport { \r\n  FiEdit3,\r\n  FiSave,\r\n  FiX,\r\n  FiHeart,\r\n  FiActivity,\r\n  FiFileText,\r\n  FiPackage,\r\n  FiSearch,\r\n  FiMessageCircle,\r\n  FiBell\r\n} from 'react-icons/fi';\r\n\r\nexport default function PatientProfilePage() {\r\n  const { user, loading: authLoading, logout } = useAuth();\r\n  const { showNotification } = useNotification();\r\n  const router = useRouter();\r\n  const [patientData, setPatientData] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState<any>({});\r\n  const [saving, setSaving] = useState(false);\r\n  const [profileImageFile, setProfileImageFile] = useState<File | null>(null);\r\n  const [profileImagePreview, setProfileImagePreview] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && (!user || user.role !== 'patient')) {\r\n      router.push('/login');\r\n      return;\r\n    }\r\n    if (user && user.role === 'patient') {\r\n      fetchPatientData();\r\n    }\r\n  }, [user, authLoading, router]);\r\n\r\n  const fetchPatientData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Use logged-in user's ID (patient viewing their own profile)\r\n      const patientId = user?.id;\r\n\r\n      if (!patientId) {\r\n        console.error('User not logged in');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Fetch patient user data using the me/profile endpoint\r\n      const userResponse = await api.get('/users/me/profile');\r\n      const patientUser = userResponse.data.user;\r\n      \r\n      if (!patientUser) {\r\n        console.error('User profile not found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Calculate age\r\n      let age = { years: 0, months: 0 };\r\n      if (patientUser.dateOfBirth) {\r\n        const birthDate = new Date(patientUser.dateOfBirth);\r\n        const today = new Date();\r\n        let years = today.getFullYear() - birthDate.getFullYear();\r\n        let months = today.getMonth() - birthDate.getMonth();\r\n\r\n        if (months < 0) {\r\n          years--;\r\n          months += 12;\r\n        }\r\n        if (today.getDate() < birthDate.getDate()) {\r\n          months--;\r\n          if (months < 0) {\r\n            years--;\r\n            months += 11;\r\n          }\r\n        }\r\n        age = { years, months };\r\n      }\r\n\r\n      // Fetch prescriptions for medications (filter by patient email)\r\n      const prescriptionsResponse = await api.get(`/prescriptions?limit=100`);\r\n      let allPrescriptions = prescriptionsResponse.data.prescriptions || [];\r\n      // Filter prescriptions for current patient\r\n      allPrescriptions = allPrescriptions.filter((prescription: any) => \r\n        prescription.patient?.email === patientUser.email || prescription.patientId === patientId\r\n      );\r\n      const prescriptions = allPrescriptions;\r\n\r\n      // Extract medications from prescriptions\r\n      const medications = prescriptions\r\n        .flatMap((prescription: any) => prescription.medicines || [])\r\n        .filter((med: any, index: number, self: any[]) => {\r\n          const name = typeof med === 'string' ? med : med.name || '';\r\n          return self.findIndex((m: any) => (typeof m === 'string' ? m : m.name || '') === name) === index;\r\n        })\r\n        .map((med: any) => {\r\n          if (typeof med === 'string') {\r\n            return { name: med, brand: '' };\r\n          }\r\n          return {\r\n            name: med.name || med,\r\n            brand: med.dosage || med.frequency || '',\r\n          };\r\n        });\r\n\r\n      // Fetch appointments for notes and history\r\n      const appointmentsResponse = await api.get(`/appointments?patientId=${patientId}&limit=100`);\r\n      const appointments = appointmentsResponse.data.appointments || [];\r\n\r\n      // Create notes from prescriptions\r\n      const notes = prescriptions\r\n        .filter((prescription: any) => prescription.instructions || prescription.diagnosis)\r\n        .map((prescription: any) => ({\r\n          date: prescription.prescriptionDate || prescription.createdAt,\r\n          content: prescription.instructions || prescription.diagnosis || '',\r\n        }))\r\n        .sort((a: any, b: any) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n      // Format patient data\r\n      const profileImageUrl = patientUser?.profileImage \r\n        ? `data:${patientUser.profileImageMimeType || 'image/jpeg'};base64,${patientUser.profileImage}`\r\n        : null;\r\n\r\n      setPatientData({\r\n        id: patientUser.id?.slice(0, 7) || '',\r\n        name: patientUser.name || '',\r\n        profileImage: profileImageUrl,\r\n        dateOfBirth: patientUser.dateOfBirth || null,\r\n        weight: patientUser.weight || '',\r\n        height: patientUser.height || '',\r\n        age,\r\n        address: patientUser.address || '',\r\n        mobilePhone: patientUser.phone || '',\r\n        homePhone: patientUser.homePhone || '',\r\n        workPhone: patientUser.workPhone || '',\r\n        email: patientUser.email || '',\r\n        allergies: Array.isArray(patientUser.allergies) ? patientUser.allergies : [],\r\n        medications,\r\n        vitals: {\r\n          bloodPressure: patientUser.bloodPressure || '',\r\n          pulse: patientUser.pulse || '',\r\n        },\r\n        notes,\r\n        labResults: prescriptions\r\n          .filter((prescription: any) => prescription.tests && prescription.tests.length > 0)\r\n          .flatMap((prescription: any) =>\r\n            (prescription.tests || []).map((test: any) => ({\r\n              name: typeof test === 'string' ? test : test.name || test,\r\n              date: prescription.prescriptionDate || prescription.createdAt,\r\n            }))\r\n          )\r\n          .sort((a: any, b: any) => new Date(b.date).getTime() - new Date(a.date).getTime()),\r\n      });\r\n      setEditForm({\r\n        name: patientUser.name || '',\r\n        phone: patientUser.phone || '',\r\n        address: patientUser.address || '',\r\n        dateOfBirth: patientUser.dateOfBirth ? new Date(patientUser.dateOfBirth).toISOString().split('T')[0] : '',\r\n        weight: patientUser.weight || '',\r\n        height: patientUser.height || '',\r\n        homePhone: patientUser.homePhone || '',\r\n        workPhone: patientUser.workPhone || '',\r\n        allergies: Array.isArray(patientUser.allergies) ? patientUser.allergies : [],\r\n        bloodPressure: patientUser.bloodPressure || '',\r\n        pulse: patientUser.pulse || '',\r\n      });\r\n      setProfileImagePreview(profileImageUrl);\r\n    } catch (error: any) {\r\n      console.error('Error fetching patient data:', error);\r\n      if (error.response?.status === 401 || error.response?.status === 403) {\r\n        router.push('/login');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      if (file.size > 2 * 1024 * 1024) {\r\n        showNotification('Image size must be less than 2MB', 'error');\r\n        return;\r\n      }\r\n      setProfileImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setProfileImagePreview(reader.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = () => {\r\n    setProfileImageFile(null);\r\n    setProfileImagePreview(null);\r\n  };\r\n\r\n  const getInitials = (name: string) => {\r\n    return name\r\n      ?.split(' ')\r\n      ?.map((n: string) => n[0])\r\n      ?.join('')\r\n      ?.toUpperCase()\r\n      ?.slice(0, 2) || 'U';\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    try {\r\n      if (!dateString) return 'N/A';\r\n      const date = new Date(dateString);\r\n      return format(date, 'MM/dd/yyyy');\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  const formatDateForInput = (dateString: string) => {\r\n    try {\r\n      if (!dateString) return '';\r\n      const date = new Date(dateString);\r\n      return format(date, 'yyyy-MM-dd');\r\n    } catch {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setEditForm({\r\n      name: patientData?.name || '',\r\n      phone: patientData?.mobilePhone || '',\r\n      address: patientData?.address || '',\r\n      dateOfBirth: patientData?.dateOfBirth ? formatDateForInput(patientData.dateOfBirth) : '',\r\n      weight: patientData?.weight || '',\r\n      height: patientData?.height || '',\r\n      homePhone: patientData?.homePhone || '',\r\n      workPhone: patientData?.workPhone || '',\r\n      allergies: patientData?.allergies || [],\r\n      bloodPressure: patientData?.vitals?.bloodPressure || '',\r\n      pulse: patientData?.vitals?.pulse || '',\r\n    });\r\n    setProfileImageFile(null);\r\n    setProfileImagePreview(patientData?.profileImage || null);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      setSaving(true);\r\n      \r\n      // Prepare update data\r\n      const formDataToSend = new FormData();\r\n      formDataToSend.append('name', editForm.name || '');\r\n      formDataToSend.append('phone', editForm.phone || '');\r\n      formDataToSend.append('address', editForm.address || '');\r\n      if (editForm.dateOfBirth) {\r\n        formDataToSend.append('dateOfBirth', new Date(editForm.dateOfBirth).toISOString());\r\n      }\r\n      formDataToSend.append('weight', editForm.weight || '');\r\n      formDataToSend.append('height', editForm.height || '');\r\n      formDataToSend.append('homePhone', editForm.homePhone || '');\r\n      formDataToSend.append('workPhone', editForm.workPhone || '');\r\n      formDataToSend.append('allergies', JSON.stringify(Array.isArray(editForm.allergies) ? editForm.allergies : (editForm.allergies ? [editForm.allergies] : [])));\r\n      formDataToSend.append('bloodPressure', editForm.bloodPressure || '');\r\n      formDataToSend.append('pulse', editForm.pulse || '');\r\n\r\n      // Handle profile image\r\n      if (profileImageFile) {\r\n        formDataToSend.append('profileImage', profileImageFile);\r\n      }\r\n\r\n      const response = await api.put('/users/me/profile', formDataToSend, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        // Refresh patient data\r\n        await fetchPatientData();\r\n        setIsEditing(false);\r\n        setProfileImageFile(null);\r\n        showNotification('Profile updated successfully!', 'success');\r\n      }\r\n    } catch (error: any) {\r\n      console.error('Error updating profile:', error);\r\n      showNotification(error.response?.data?.message || 'Failed to update profile', 'error');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (authLoading || loading) {\r\n    return (\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        <PatientSidebar user={user} logout={logout} />\r\n        <main className=\"ml-64 flex-1\">\r\n          <Loading />\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user || user.role !== 'patient') {\r\n    return null;\r\n  }\r\n\r\n  if (!patientData) {\r\n    return (\r\n      <div className=\"flex min-h-screen bg-gray-50\">\r\n        <PatientSidebar user={user} logout={logout} />\r\n        <main className=\"ml-64 flex-1 p-8\">\r\n          <div className=\"bg-white rounded-lg shadow-md p-12 text-center\">\r\n            <p className=\"text-gray-500 text-lg\">No profile data available. Please refresh the page.</p>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <PatientSidebar user={user} logout={logout} />\r\n      {/* Main Content */}\r\n      <main className=\"ml-64 flex-1 transition-all duration-300\">\r\n        {/* Header */}\r\n        <header className=\"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800 uppercase tracking-wide\">My Profile</h1>\r\n            {!isEditing && (\r\n              <button\r\n                onClick={handleEdit}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium\"\r\n              >\r\n                <FiEdit3 className=\"text-sm\" />\r\n                Edit Profile\r\n              </button>\r\n            )}\r\n            {isEditing && (\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={saving}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50\"\r\n                >\r\n                  <FiSave className=\"text-sm\" />\r\n                  {saving ? 'Saving...' : 'Save Changes'}\r\n                </button>\r\n                <button\r\n                  onClick={handleCancel}\r\n                  disabled={saving}\r\n                  className=\"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium disabled:opacity-50\"\r\n                >\r\n                  <FiX className=\"text-sm\" />\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <button className=\"relative p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n              <FiSearch className=\"text-xl text-gray-600\" />\r\n            </button>\r\n            <button className=\"relative p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n              <FiMessageCircle className=\"text-xl text-gray-600\" />\r\n            </button>\r\n            <button className=\"relative p-2 hover:bg-gray-100 rounded-lg transition-colors\">\r\n              <FiBell className=\"text-xl text-gray-600\" />\r\n            </button>\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold\">\r\n              {getInitials(user?.name || 'P')}\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Content Grid */}\r\n        <div className=\"p-8\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Patient Information Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex flex-col items-center text-center mb-6\">\r\n                <div className=\"relative mb-4\">\r\n                  <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-3xl font-bold overflow-hidden\">\r\n                    {profileImagePreview ? (\r\n                      <img \r\n                        src={profileImagePreview} \r\n                        alt={patientData?.name}\r\n                        className=\"w-full h-full rounded-full object-cover\"\r\n                      />\r\n                    ) : patientData?.profileImage ? (\r\n                      <img \r\n                        src={patientData.profileImage} \r\n                        alt={patientData.name}\r\n                        className=\"w-full h-full rounded-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      getInitials(patientData?.name || 'P')\r\n                    )}\r\n                  </div>\r\n                  {isEditing && (\r\n                    <div className=\"absolute -bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2\">\r\n                      <label className=\"cursor-pointer bg-teal-600 text-white p-2 rounded-full hover:bg-teal-700 transition-colors shadow-lg\">\r\n                        <FiEdit3 className=\"text-sm\" />\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/jpeg,image/jpg,image/png,image/gif\"\r\n                          onChange={handleImageChange}\r\n                          className=\"hidden\"\r\n                        />\r\n                      </label>\r\n                      {(profileImagePreview || patientData?.profileImage) && (\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleRemoveImage}\r\n                          className=\"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors shadow-lg\"\r\n                        >\r\n                          <FiX className=\"text-sm\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                {isEditing ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.name || ''}\r\n                    onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}\r\n                    className=\"text-2xl font-bold text-gray-800 mb-2 text-center border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent w-full\"\r\n                  />\r\n                ) : (\r\n                  <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">{patientData?.name}</h2>\r\n                )}\r\n                {!isEditing && patientData?.allergies && patientData.allergies.length > 0 && (\r\n                  <div className=\"flex flex-wrap gap-2 justify-center mb-4\">\r\n                    {patientData.allergies.map((allergy: string, idx: number) => (\r\n                      <span key={idx} className=\"inline-block px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium\">\r\n                        {allergy}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                <div className=\"grid grid-cols-2 gap-4 w-full text-left\">\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">DOB</p>\r\n                    {isEditing ? (\r\n                      <input\r\n                        type=\"date\"\r\n                        value={editForm.dateOfBirth || ''}\r\n                        onChange={(e) => setEditForm({ ...editForm, dateOfBirth: e.target.value })}\r\n                        className=\"w-full text-sm font-semibold text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-sm font-semibold text-gray-800\">\r\n                        {patientData?.dateOfBirth ? formatDate(patientData.dateOfBirth) : 'N/A'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">Weight</p>\r\n                    {isEditing ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editForm.weight || ''}\r\n                        onChange={(e) => setEditForm({ ...editForm, weight: e.target.value })}\r\n                        placeholder=\"e.g., 150 lb\"\r\n                        className=\"w-full text-sm font-semibold text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-sm font-semibold text-gray-800\">\r\n                        {patientData?.weight || 'N/A'} {patientData?.weight ? 'lb' : ''}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">Age</p>\r\n                    <p className=\"text-sm font-semibold text-gray-800\">\r\n                      {patientData?.age?.years || 0}y {patientData?.age?.months || 0}m\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">Height</p>\r\n                    {isEditing ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editForm.height || ''}\r\n                        onChange={(e) => setEditForm({ ...editForm, height: e.target.value })}\r\n                        placeholder=\"e.g., 5'8&quot;\"\r\n                        className=\"w-full text-sm font-semibold text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-sm font-semibold text-gray-800\">{patientData?.height || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Current Medications Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800\">Current medications</h3>\r\n              </div>\r\n              <div className=\"space-y-3\">\r\n                {patientData.medications && patientData.medications.length > 0 ? (\r\n                  patientData.medications.map((med: any, idx: number) => (\r\n                    <div key={idx} className=\"flex items-start gap-3 p-3 bg-gray-50 rounded-lg\">\r\n                      <div className=\"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n                        <FiPackage className=\"text-teal-600\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"text-sm font-semibold text-gray-800\">{med.name}</p>\r\n                        {med.brand && <p className=\"text-xs text-gray-600\">{med.brand}</p>}\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-sm text-gray-500 text-center py-4\">No medications found</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contact Information Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Contact Information</h3>\r\n              <div className=\"space-y-3 text-sm\">\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase mb-1\">Home Address</p>\r\n                  {isEditing ? (\r\n                    <textarea\r\n                      value={editForm.address || ''}\r\n                      onChange={(e) => setEditForm({ ...editForm, address: e.target.value })}\r\n                      placeholder=\"Enter your address\"\r\n                      className=\"w-full text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      rows={2}\r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-gray-800\">{patientData.address || 'Not provided'}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase mb-1\">Mobile Phone #</p>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={editForm.phone || ''}\r\n                      onChange={(e) => setEditForm({ ...editForm, phone: e.target.value })}\r\n                      placeholder=\"Enter mobile phone\"\r\n                      className=\"w-full text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-gray-800\">{patientData.mobilePhone || 'Not provided'}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase mb-1\">Home Phone #</p>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={editForm.homePhone || ''}\r\n                      onChange={(e) => setEditForm({ ...editForm, homePhone: e.target.value })}\r\n                      placeholder=\"Enter home phone\"\r\n                      className=\"w-full text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-gray-800\">{patientData.homePhone || 'Not provided'}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase mb-1\">Work Phone #</p>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={editForm.workPhone || ''}\r\n                      onChange={(e) => setEditForm({ ...editForm, workPhone: e.target.value })}\r\n                      placeholder=\"Enter work phone\"\r\n                      className=\"w-full text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-gray-800\">{patientData.workPhone || 'Not provided'}</p>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-gray-500 uppercase mb-1\">Email</p>\r\n                  <p className=\"text-gray-800\">{patientData.email}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Vitals Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800\">Vitals</h3>\r\n              </div>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center\">\r\n                    <FiHeart className=\"text-red-600 text-xl\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">Blood Pressure</p>\r\n                    {isEditing ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editForm.bloodPressure || ''}\r\n                        onChange={(e) => setEditForm({ ...editForm, bloodPressure: e.target.value })}\r\n                        placeholder=\"e.g., 120/80\"\r\n                        className=\"w-full text-lg font-bold text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-lg font-bold text-gray-800\">{patientData.vitals?.bloodPressure || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center\">\r\n                    <FiActivity className=\"text-blue-600 text-xl\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"text-xs text-gray-500 uppercase mb-1\">Pulse</p>\r\n                    {isEditing ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        value={editForm.pulse || ''}\r\n                        onChange={(e) => setEditForm({ ...editForm, pulse: e.target.value })}\r\n                        placeholder=\"e.g., 72 bpm\"\r\n                        className=\"w-full text-lg font-bold text-gray-800 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent\"\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-lg font-bold text-gray-800\">{patientData.vitals?.pulse || 'N/A'}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Notes Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800\">Notes</h3>\r\n              </div>\r\n              <div className=\"space-y-3\">\r\n                {patientData.notes && patientData.notes.length > 0 ? (\r\n                  patientData.notes.map((note: any, idx: number) => (\r\n                    <div key={idx} className=\"p-4 bg-gray-50 rounded-lg\">\r\n                      <p className=\"text-xs text-gray-500 mb-2\">{formatDate(note.date)}</p>\r\n                      <p className=\"text-sm text-gray-800 leading-relaxed\">{note.content}</p>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-sm text-gray-500 text-center py-4\">No notes found</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Lab Results Card */}\r\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-semibold text-gray-800\">Lab results</h3>\r\n              </div>\r\n              <div className=\"space-y-3\">\r\n                {patientData.labResults && patientData.labResults.length > 0 ? (\r\n                  patientData.labResults.map((result: any, idx: number) => (\r\n                    <div key={idx} className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg\">\r\n                      <div className=\"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0\">\r\n                        <FiFileText className=\"text-teal-600\" />\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"text-sm font-semibold text-gray-800 truncate\">{result.name}</p>\r\n                        <p className=\"text-xs text-gray-600\">{formatDate(result.date)}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"text-sm text-gray-500 text-center py-4\">No lab results found</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}