module.exports=[77402,(a,b,c)=>{"use strict";b.exports=a.r(15178).vendored["react-ssr"].ReactServerDOMTurbopackClient},13247,a=>{"use strict";var b=a.i(37037);a.s(["default",0,()=>(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teal-600"})})])},9807,a=>{"use strict";var b=a.i(58101),c=a.i(21580),d=a.i(25778);function e(a,e){let p,q,r=()=>(0,c.constructFrom)(e?.in,NaN),s=e?.additionalDigits??2,t=function(a){let b,c={},d=a.split(f);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],g.test(c.date)&&(c.date=a.split(g)[0],b=a.substr(c.date.length,a.length))),b){let a=h.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(t.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(t.date,s);p=function(a,b){var c,d,e,f,g,h,j,k,m,p;if(null===b)return new Date(NaN);let q=a.match(i);if(!q)return new Date(NaN);let r=!!q[4],s=l(q[1]),t=l(q[2])-1,u=l(q[3]),v=l(q[4]),w=l(q[5])-1;if(r){let a,h;return(c=v,d=w,c>=1&&c<=53&&d>=0&&d<=6)?(e=b,f=v,g=w,(a=new Date(0)).setUTCFullYear(e,0,4),h=a.getUTCDay()||7,a.setUTCDate(a.getUTCDate()+((f-1)*7+g+1-h)),a):new Date(NaN)}{let a=new Date(0);return(h=b,j=t,k=u,j>=0&&j<=11&&k>=1&&k<=(n[j]||(o(h)?29:28))&&(m=b,(p=s)>=1&&p<=(o(m)?366:365)))?(a.setUTCFullYear(b,t,Math.max(s,u)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!p||isNaN(+p))return r();let u=+p,v=0;if(t.time&&isNaN(v=function(a){var c,d,e;let f=a.match(j);if(!f)return NaN;let g=m(f[1]),h=m(f[2]),i=m(f[3]);return(c=g,d=h,e=i,24===c?0===d&&0===e:e>=0&&e<60&&d>=0&&d<60&&c>=0&&c<25)?g*b.millisecondsInHour+h*b.millisecondsInMinute+1e3*i:NaN}(t.time)))return r();if(t.timezone){if(isNaN(q=function(a){var c;if("Z"===a)return 0;let d=a.match(k);if(!d)return 0;let e="+"===d[1]?-1:1,f=parseInt(d[2]),g=d[3]&&parseInt(d[3])||0;return(c=g)>=0&&c<=59?e*(f*b.millisecondsInHour+g*b.millisecondsInMinute):NaN}(t.timezone)))return r()}else{let a=new Date(u+v),b=(0,d.toDate)(0,e?.in);return b.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),b.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),b}return(0,d.toDate)(u+v+q,e?.in)}let f=/[T ]/,g=/[Z ]/i,h=/([Z+-].*)$/,i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(a){return a?parseInt(a):1}function m(a){return a&&parseFloat(a.replace(",","."))||0}let n=[31,null,31,30,31,30,31,31,30,31,30,31];function o(a){return a%400==0||a%4==0&&a%100!=0}a.s(["parseISO",()=>e])},91159,a=>{"use strict";var b=a.i(37037),c=a.i(4839),d=a.i(99752),e=a.i(25941),f=a.i(66733),g=a.i(5711),h=a.i(42006),i=a.i(13247),j=a.i(97005),k=a.i(35557),l=a.i(9807),m=a.i(8315);function n(){let{user:a,loading:n,logout:o}=(0,d.useAuth)(),{showNotification:p}=(0,e.useNotification)(),q=(0,f.useRouter)(),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("all"),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""});(0,c.useEffect)(()=>{n||a?a&&"admin"!==a.role?"patient"===a.role?q.push("/patient/dashboard"):"doctor"===a.role?q.push("/doctor/dashboard"):q.push("/dashboard"):a&&"admin"===a.role&&L():q.push("/login")},[a,n,q]),(0,c.useEffect)(()=>{M()},[r,z,x]);let L=async()=>{try{w(!0);let a=await j.default.get("/admin/ads?limit=1000");s(a.data.ads||[]),u(a.data.ads||[])}catch(a){console.error("Error fetching ads:",a),p("Failed to fetch advertisements","error")}finally{w(!1)}},M=()=>{let a=[...r];if("active"===z?a=a.filter(a=>!0===a.isActive):"inactive"===z&&(a=a.filter(a=>!1===a.isActive)),x.trim()){let b=x.toLowerCase();a=a.filter(a=>a.title?.toLowerCase().includes(b)||a.description?.toLowerCase().includes(b))}u(a)},N=async()=>{try{await j.default.post("/ads",J),p("Advertisement created successfully","success"),G(!1),K({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""}),L()}catch(a){p(a.response?.data?.message||"Failed to create advertisement","error")}},O=async()=>{try{await j.default.put(`/ads/${B.id}`,J),p("Advertisement updated successfully","success"),E(!1),I(!1),C(null),L()}catch(a){p(a.response?.data?.message||"Failed to update advertisement","error")}},P=async a=>{if(confirm("Are you sure you want to delete this advertisement?"))try{await j.default.delete(`/ads/${a}`),p("Advertisement deleted successfully","success"),L()}catch(a){p(a.response?.data?.message||"Failed to delete advertisement","error")}};return n||v?(0,b.jsx)(i.default,{}):a&&"admin"===a.role?(0,b.jsxs)("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("main",{className:"ml-64 flex-1 transition-all duration-300",children:[(0,b.jsx)(h.default,{title:"Advertisements Management",searchPlaceholder:"Search advertisements by title or description...",onSearch:a=>y(a),actionButton:{label:"Create Ad",onClick:()=>{K({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""}),I(!1),C(null),G(!0)},icon:(0,b.jsx)(m.FiPlus,{className:"text-lg"})}}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("button",{onClick:()=>A("all"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"all"===z?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["All (",r.length,")"]}),(0,b.jsxs)("button",{onClick:()=>A("active"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"active"===z?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["Active (",r.filter(a=>a.isActive).length,")"]}),(0,b.jsxs)("button",{onClick:()=>A("inactive"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"inactive"===z?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["Inactive (",r.filter(a=>!a.isActive).length,")"]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===t.length?(0,b.jsx)("div",{className:"col-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center border border-gray-200 dark:border-gray-700 transition-colors",children:(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No advertisements found"})}):t.map(a=>(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all",children:[a.imageUrl&&(0,b.jsx)("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 overflow-hidden",children:(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover",onError:a=>{a.target.style.display="none"}})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex-1",children:a.title}),(0,b.jsx)("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${a.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:a.isActive?"Active":"Inactive"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:[(0,b.jsxs)("span",{children:["Target: ",a.targetAudience||"all"]}),(0,b.jsxs)("span",{children:["Clicks: ",a.clickCount||0]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{C(a),K({title:a.title||"",description:a.description||"",imageUrl:a.imageUrl||"",link:a.link||"",targetAudience:a.targetAudience||"all",isActive:void 0===a.isActive||a.isActive,startDate:a.startDate?(0,k.format)((0,l.parseISO)(a.startDate),"yyyy-MM-dd"):"",endDate:a.endDate?(0,k.format)((0,l.parseISO)(a.endDate),"yyyy-MM-dd"):""}),I(!0),E(!0)},className:"flex-1 px-3 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>P(a.id),className:"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:(0,b.jsx)(m.FiTrash2,{})})]})]})]},a.id))}),(F||D)&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:a=>{a.target===a.currentTarget&&(E(!1),G(!1),I(!1),C(null))},children:(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:H?"Edit Advertisement":"Create Advertisement"}),(0,b.jsx)("button",{onClick:()=>{E(!1),G(!1),I(!1),C(null)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(m.FiX,{className:"text-xl text-gray-600 dark:text-gray-300"})})]})}),(0,b.jsx)("div",{className:"overflow-y-auto flex-1 p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:J.title,onChange:a=>K({...J,title:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"Enter advertisement title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,b.jsx)("textarea",{value:J.description,onChange:a=>K({...J,description:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",rows:3,placeholder:"Enter advertisement description"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),(0,b.jsx)("input",{type:"url",value:J.imageUrl,onChange:a=>K({...J,imageUrl:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"https://example.com/image.jpg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Link URL"}),(0,b.jsx)("input",{type:"url",value:J.link,onChange:a=>K({...J,link:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"https://example.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Audience"}),(0,b.jsxs)("select",{value:J.targetAudience,onChange:a=>K({...J,targetAudience:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All"}),(0,b.jsx)("option",{value:"patient",children:"Patients"}),(0,b.jsx)("option",{value:"doctor",children:"Doctors"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,b.jsxs)("select",{value:J.isActive?"true":"false",onChange:a=>K({...J,isActive:"true"===a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",children:[(0,b.jsx)("option",{value:"true",children:"Active"}),(0,b.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:J.startDate,onChange:a=>K({...J,startDate:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:J.endDate,onChange:a=>K({...J,endDate:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors"})]})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-4 transition-colors",children:[(0,b.jsx)("button",{onClick:()=>{E(!1),G(!1),I(!1),C(null)},className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{H?O():N()},disabled:!J.title.trim(),className:`flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors ${!J.title.trim()?"opacity-50 cursor-not-allowed":""}`,children:H?"Update":"Create"})]})]})})]})]})]}):null}a.s(["default",()=>n])}];

//# sourceMappingURL=OneDrive_Desktop_mediwise_frontend_1f80f683._.js.map