(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17336,e=>{"use strict";var t=e.i(82746),s=e.i(21055),a=e.i(1822);function l(e,l){let u,f,g=()=>(0,s.constructFrom)(l?.in,NaN),b=l?.additionalDigits??2,N=function(e){let t,s={},a=e.split(r);if(a.length>2)return s;if(/:/.test(a[0])?t=a[0]:(s.date=a[0],t=a[1],i.test(s.date)&&(s.date=e.split(i)[0],t=e.substr(s.date.length,e.length))),t){let e=n.exec(t);e?(s.time=t.replace(e[1],""),s.timezone=e[1]):s.time=t}return s}(e);if(N.date){let e=function(e,t){let s=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(s);if(!a)return{year:NaN,restDateString:""};let l=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:null===r?l:100*r,restDateString:e.slice((a[1]||a[2]).length)}}(N.date,b);u=function(e,t){var s,a,l,r,i,n,o,c,m,u;if(null===t)return new Date(NaN);let f=e.match(d);if(!f)return new Date(NaN);let g=!!f[4],b=x(f[1]),N=x(f[2])-1,j=x(f[3]),y=x(f[4]),v=x(f[5])-1;if(g){let e,n;return(s=y,a=v,s>=1&&s<=53&&a>=0&&a<=6)?(l=t,r=y,i=v,(e=new Date(0)).setUTCFullYear(l,0,4),n=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((r-1)*7+i+1-n)),e):new Date(NaN)}{let e=new Date(0);return(n=t,o=N,c=j,o>=0&&o<=11&&c>=1&&c<=(h[o]||(p(n)?29:28))&&(m=t,(u=b)>=1&&u<=(p(m)?366:365)))?(e.setUTCFullYear(t,N,Math.max(b,j)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!u||isNaN(+u))return g();let j=+u,y=0;if(N.time&&isNaN(y=function(e){var s,a,l;let r=e.match(o);if(!r)return NaN;let i=m(r[1]),n=m(r[2]),d=m(r[3]);return(s=i,a=n,l=d,24===s?0===a&&0===l:l>=0&&l<60&&a>=0&&a<60&&s>=0&&s<25)?i*t.millisecondsInHour+n*t.millisecondsInMinute+1e3*d:NaN}(N.time)))return g();if(N.timezone){if(isNaN(f=function(e){var s;if("Z"===e)return 0;let a=e.match(c);if(!a)return 0;let l="+"===a[1]?-1:1,r=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return(s=i)>=0&&s<=59?l*(r*t.millisecondsInHour+i*t.millisecondsInMinute):NaN}(N.timezone)))return g()}else{let e=new Date(j+y),t=(0,a.toDate)(0,l?.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,a.toDate)(j+y+f,l?.in)}let r=/[T ]/,i=/[Z ]/i,n=/([Z+-].*)$/,d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}let h=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}e.s(["parseISO",()=>l])},6027,e=>{"use strict";var t=e.i(52972),s=e.i(93661),a=e.i(42388),l=e.i(90503),r=e.i(66315);e.s(["default",0,({user:e,logout:i})=>{let n,d=(0,a.usePathname)(),[o,c]=(0,r.useState)(!1),x=[{href:"/patient/dashboard",label:"Dashboard",icon:l.FiHome},{href:"/patient/doctors",label:"Doctors",icon:l.FiUsers},{href:"/patient/appointments",label:"Appointments",icon:l.FiCalendar},{href:"/patient/chat",label:"Chats",icon:l.FiMessageCircle},{href:"/patient/prescriptions",label:"Prescriptions",icon:l.FiFileText},{href:"/patient/profile",label:"My Profile",icon:l.FiUser}];return(0,t.jsx)("div",{className:`${o?"w-16":"w-64"} bg-teal-600 text-white transition-all duration-300 fixed left-0 top-0 h-full z-20`,children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("button",{onClick:()=>c(!o),className:"w-full flex items-center justify-center p-2 hover:bg-teal-700 rounded-lg transition-colors mb-4",children:(0,t.jsx)(l.FiChevronRight,{className:`text-xl transform transition-transform ${o?"":"rotate-180"}`})}),!o&&(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"ðŸ©º"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:"MediWise"})]})}),!o&&(0,t.jsx)("div",{className:"mb-6 pb-6 border-b border-teal-500",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-sm font-semibold",children:(n=e?.name||"P",n?.split(" ")?.map(e=>e[0])?.join("")?.toUpperCase()?.slice(0,2)||"U")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-semibold truncate",children:e?.name}),(0,t.jsx)("p",{className:"text-xs text-teal-200 capitalize",children:"Patient"})]})]})}),(0,t.jsx)("nav",{className:"space-y-1",children:x.map(e=>{let a=e.icon,l=d===e.href;return(0,t.jsxs)(s.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l?"bg-teal-700 text-white font-semibold":"text-teal-100 hover:bg-teal-700 hover:text-white"}`,children:[(0,t.jsx)(a,{className:"text-xl flex-shrink-0"}),!o&&(0,t.jsx)("span",{className:"text-sm",children:e.label})]},e.href)})}),!o&&(0,t.jsx)("div",{className:"absolute bottom-4 left-4 right-4",children:(0,t.jsxs)("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-teal-100 hover:bg-teal-700 transition-colors",children:[(0,t.jsx)(l.FiLogOut,{className:"text-xl"}),(0,t.jsx)("span",{className:"text-sm",children:"LOGOUT"})]})})]})})}])},28030,e=>{"use strict";var t=e.i(52972),s=e.i(66315),a=e.i(55236),l=e.i(42388),r=e.i(93661),i=e.i(51744),n=e.i(6027),d=e.i(81273),o=e.i(90503),c=e.i(16639),x=e.i(17336);function m(){let e,{user:m,loading:h,logout:p}=(0,a.useAuth)(),u=(0,l.useRouter)(),[f,g]=(0,s.useState)(null),[b,N]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h||m?m&&"patient"!==m.role?"admin"===m.role?u.push("/admin/dashboard"):"doctor"===m.role?u.push("/doctor/dashboard"):u.push("/dashboard"):m&&"patient"===m.role&&j():u.push("/login")},[m,h,u]);let j=async()=>{try{N(!0);let[e,t]=await Promise.all([d.default.get("/appointments"),d.default.get("/prescriptions")]);g({appointments:e.data.appointments||[],prescriptions:t.data.prescriptions||[]})}catch(e){console.error("Error fetching dashboard data:",e)}finally{N(!1)}};return h||b?(0,t.jsx)(i.default,{}):m?(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsx)(n.default,{user:m,logout:p}),(0,t.jsxs)("main",{className:"ml-64 flex-1 transition-all duration-300",children:[(0,t.jsxs)("header",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 uppercase tracking-wide",children:"Dashboard"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(o.FiSearch,{className:"text-xl text-gray-600"})}),(0,t.jsx)(r.default,{href:"/patient/chat",className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(o.FiMessageCircle,{className:"text-xl text-gray-600"})}),(0,t.jsx)("button",{className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(o.FiBell,{className:"text-xl text-gray-600"})}),(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white font-bold",children:(e=m?.name||"P",e?.split(" ")?.map(e=>e[0])?.join("")?.toUpperCase()?.slice(0,2)||"U")})]})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Welcome back, ",m.name,"!"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Here's a summary of your recent activities"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Total Appointments"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-teal-600",children:f?.appointments?.length||0})]}),(0,t.jsx)(o.FiCalendar,{className:"text-4xl text-teal-600 opacity-20"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Prescriptions"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-indigo-600",children:f?.prescriptions?.length||0})]}),(0,t.jsx)(o.FiFileText,{className:"text-4xl text-indigo-600 opacity-20"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:f?.appointments?.filter(e=>"completed"===e.status).length||0})]}),(0,t.jsx)(o.FiClock,{className:"text-4xl text-green-600 opacity-20"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Recent Appointments"}),(0,t.jsx)(r.default,{href:"/patient/appointments",className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"View All â†’"})]}),f?.appointments&&f.appointments.length>0?(0,t.jsx)("div",{className:"space-y-4",children:f.appointments.slice(0,5).map(e=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-semibold text-gray-800 text-lg",children:["Dr. ",e.doctor?.user?.name||"Doctor"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,c.format)((0,x.parseISO)(e.appointmentDate),"MM/dd/yyyy")," at ",e.appointmentTime]}),e.reason&&(0,t.jsx)("p",{className:"text-sm text-gray-700 mt-2 font-medium",children:e.reason})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"confirmed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})]})},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.FiCalendar,{className:"text-5xl text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 text-lg mb-4",children:"No appointments yet"}),(0,t.jsx)(r.default,{href:"/patient/doctors",className:"inline-block px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Book an Appointment"})]})]}),(0,t.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(r.default,{href:"/patient/doctors",className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-teal-100 flex items-center justify-center",children:(0,t.jsx)(o.FiUsers,{className:"text-2xl text-teal-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:"Find Doctors"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Browse available doctors"})]})]}),(0,t.jsxs)(r.default,{href:"/patient/appointments",className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,t.jsx)(o.FiCalendar,{className:"text-2xl text-indigo-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:"My Appointments"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"View all appointments"})]})]}),(0,t.jsxs)(r.default,{href:"/patient/prescriptions",className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:(0,t.jsx)(o.FiFileText,{className:"text-2xl text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:"Prescriptions"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"View your prescriptions"})]})]})]})]})]})]}):null}e.s(["default",()=>m])}]);