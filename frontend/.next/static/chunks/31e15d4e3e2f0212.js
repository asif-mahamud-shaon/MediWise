(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17336,e=>{"use strict";var t=e.i(82746),r=e.i(21055),a=e.i(1822);function s(e,s){let h,y,b=()=>(0,r.constructFrom)(s?.in,NaN),p=s?.additionalDigits??2,f=function(e){let t,r={},a=e.split(l);if(a.length>2)return r;if(/:/.test(a[0])?t=a[0]:(r.date=a[0],t=a[1],i.test(r.date)&&(r.date=e.split(i)[0],t=e.substr(r.date.length,e.length))),t){let e=d.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(f.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};let s=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:null===l?s:100*l,restDateString:e.slice((a[1]||a[2]).length)}}(f.date,p);h=function(e,t){var r,a,s,l,i,d,o,c,x,h;if(null===t)return new Date(NaN);let y=e.match(n);if(!y)return new Date(NaN);let b=!!y[4],p=g(y[1]),f=g(y[2])-1,v=g(y[3]),k=g(y[4]),j=g(y[5])-1;if(b){let e,d;return(r=k,a=j,r>=1&&r<=53&&a>=0&&a<=6)?(s=t,l=k,i=j,(e=new Date(0)).setUTCFullYear(s,0,4),d=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((l-1)*7+i+1-d)),e):new Date(NaN)}{let e=new Date(0);return(d=t,o=f,c=v,o>=0&&o<=11&&c>=1&&c<=(m[o]||(u(d)?29:28))&&(x=t,(h=p)>=1&&h<=(u(x)?366:365)))?(e.setUTCFullYear(t,f,Math.max(p,v)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!h||isNaN(+h))return b();let v=+h,k=0;if(f.time&&isNaN(k=function(e){var r,a,s;let l=e.match(o);if(!l)return NaN;let i=x(l[1]),d=x(l[2]),n=x(l[3]);return(r=i,a=d,s=n,24===r?0===a&&0===s:s>=0&&s<60&&a>=0&&a<60&&r>=0&&r<25)?i*t.millisecondsInHour+d*t.millisecondsInMinute+1e3*n:NaN}(f.time)))return b();if(f.timezone){if(isNaN(y=function(e){var r;if("Z"===e)return 0;let a=e.match(c);if(!a)return 0;let s="+"===a[1]?-1:1,l=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return(r=i)>=0&&r<=59?s*(l*t.millisecondsInHour+i*t.millisecondsInMinute):NaN}(f.timezone)))return b()}else{let e=new Date(v+k),t=(0,a.toDate)(0,s?.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,a.toDate)(v+k+y,s?.in)}let l=/[T ]/,i=/[Z ]/i,d=/([Z+-].*)$/,n=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function g(e){return e?parseInt(e):1}function x(e){return e&&parseFloat(e.replace(",","."))||0}let m=[31,null,31,30,31,30,31,31,30,31,30,31];function u(e){return e%400==0||e%4==0&&e%100!=0}e.s(["parseISO",()=>s])},15220,78964,e=>{"use strict";var t=e.i(52972),r=e.i(93661),a=e.i(42388),s=e.i(55236),l=e.i(33595),i=e.i(90503);e.s(["default",0,({activeSection:e,onSectionChange:d})=>{let n,o=(0,a.usePathname)(),{user:c,logout:g}=(0,s.useAuth)(),{t:x}=(0,l.useLanguage)(),m=[{href:"/admin/dashboard",label:x("dashboard"),icon:i.FiHome},{href:"/admin/appointments",label:x("appointments"),icon:i.FiCalendar},{href:"/admin/users",label:x("users"),icon:i.FiUsers},{href:"/admin/doctors",label:x("doctors"),icon:i.FiUser},{href:"/admin/prescriptions",label:x("prescriptions"),icon:i.FiFileText},{href:"/admin/chats",label:x("chats"),icon:i.FiMessageCircle}],u=[{href:"/admin/ads",label:x("advertisements"),icon:i.FiShoppingBag}];return(0,t.jsxs)("div",{className:"fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg z-10 border-r border-gray-200 dark:border-gray-700 transition-colors",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-teal-500 to-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:"ðŸ©º"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"MediWise"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Healthcare Management"})]})]})}),(0,t.jsx)("nav",{className:"p-4 space-y-6 overflow-y-auto h-[calc(100vh-200px)]",children:[{title:"CLINIC",items:m},{title:"FINANCE",items:u}].map(a=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 px-4",children:a.title}),(0,t.jsx)("div",{className:"space-y-1",children:a.items.map(a=>{let s=a.icon,l=e?e===a.href:o===a.href||o?.startsWith(a.href+"/")||o?.includes(a.href);return(0,t.jsxs)(r.default,{href:a.href,onClick:e=>{d&&(e.preventDefault(),d(a.href))},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[(0,t.jsx)(s,{className:"text-xl"}),(0,t.jsx)("span",{className:"text-sm",children:a.label})]},a.href)})})]},a.title))}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 transition-colors",children:[(0,t.jsx)("div",{className:"mb-3 px-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold",children:(n=c?.name||"Admin",n?.split(" ")?.map(e=>e[0])?.join("")?.toUpperCase()?.slice(0,2)||"A")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:c?.name||"Admin"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Super admin"})]})]})}),(0,t.jsxs)("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-sm",children:[(0,t.jsx)(i.FiLogOut,{className:"text-lg"}),(0,t.jsx)("span",{children:"Logout"})]})]})]})}],15220);var d=e.i(66315),n=e.i(72648),o=e.i(83937);e.s(["default",0,({title:e,backButton:r=!1,onBack:c,searchPlaceholder:g="Search for anything here...",onSearch:x,actionButton:m,filterButton:u,onQuickAdd:h})=>{let y,{user:b,logout:p}=(0,s.useAuth)(),{showNotification:f}=(0,n.useNotification)(),{theme:v,toggleTheme:k}=(0,o.useTheme)(),{language:j,setLanguage:N,t:w}=(0,l.useLanguage)(),C=(0,a.useRouter)(),[A,D]=(0,d.useState)(""),[S,F]=(0,d.useState)(!1),[U,T]=(0,d.useState)(!1),[L,M]=(0,d.useState)(!1),[I,$]=(0,d.useState)(!1),[E]=(0,d.useState)([{id:1,title:"New appointment request",message:"Dr. Smith has a new appointment",time:"2 min ago",read:!1},{id:2,title:"System update",message:"Scheduled maintenance tonight",time:"1 hour ago",read:!1}]),[_]=(0,d.useState)(4),[R]=(0,d.useState)(1),[z,P]=(0,d.useState)(new Date),B=(0,d.useRef)(null),H=(0,d.useRef)(null),Y=(0,d.useRef)(null),O=(0,d.useRef)(null);(0,d.useEffect)(()=>{let e=e=>{B.current&&!B.current.contains(e.target)&&F(!1),H.current&&!H.current.contains(e.target)&&T(!1),Y.current&&!Y.current.contains(e.target)&&M(!1),O.current&&!O.current.contains(e.target)&&$(!1)};return(S||U||L||I)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[S,U,L,I]);let W=E.filter(e=>!e.read).length,[X,Z]=(0,d.useState)(!1),K=(0,d.useRef)(null);return(0,d.useEffect)(()=>{let e=e=>{K.current&&!K.current.contains(e.target)&&Z(!1)};return X&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[X]),(0,t.jsx)("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-8 py-4 sticky top-0 z-20 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[r&&(0,t.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:w(e.toLowerCase().replace(/\s+/g,"_"))||e})]}),(0,t.jsx)("div",{className:"flex-1 max-w-md mx-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"}),(0,t.jsx)("input",{type:"text",placeholder:g,value:A,onChange:e=>{let t=e.target.value;D(t),x&&x(t)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[m&&(0,t.jsxs)("button",{onClick:m.onClick,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[m.icon||(0,t.jsx)(i.FiPlus,{className:"text-lg"}),m.label]}),u&&(0,t.jsxs)("button",{onClick:u.onClick,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium text-gray-700 dark:text-gray-300",children:[(0,t.jsx)(i.FiFilter,{className:"text-lg"}),"Filters"]}),(0,t.jsxs)("div",{className:"relative",ref:K,children:[(0,t.jsx)("button",{onClick:()=>Z(!X),className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(i.FiPlus,{className:"text-xl text-gray-600 dark:text-gray-300"})}),X&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[(0,t.jsx)("button",{onClick:()=>{Z(!1),h?.onAddUser?h.onAddUser():(C.push("/admin/users"),f("Navigate to Users section","info"))},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Add User"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),h?.onAddDoctor?h.onAddDoctor():(C.push("/admin/doctors"),f("Navigate to Doctors section","info"))},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Add Doctor"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),h?.onAddAppointment?h.onAddAppointment():(C.push("/admin/appointments"),f("Navigate to Appointments section","info"))},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Add Appointment"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),h?.onAddAdvertisement?h.onAddAdvertisement():(C.push("/admin/ads"),f("Navigate to Advertisements section","info"))},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Add Advertisement"})]})]}),(0,t.jsxs)("div",{className:"relative",ref:H,children:[(0,t.jsxs)("button",{onClick:()=>T(!U),className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,t.jsx)(i.FiBell,{className:"text-xl text-gray-600 dark:text-gray-300"}),W>0&&(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),U&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Notifications"}),(0,t.jsx)("button",{className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Mark all as read"})]}),(0,t.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:E.map(e=>(0,t.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:e.time})]},e.id))}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsx)("button",{className:"w-full text-center text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View all notifications"})})]})]}),(0,t.jsxs)("div",{className:"relative",ref:Y,children:[(0,t.jsx)("button",{onClick:()=>M(!L),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(i.FiSettings,{className:"text-xl text-gray-600 dark:text-gray-300"})}),L&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Settings"}),(0,t.jsx)("button",{onClick:()=>M(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,t.jsx)(i.FiX,{className:"text-gray-600 dark:text-gray-300"})})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:["dark"===v?(0,t.jsx)(i.FiMoon,{className:"text-xl text-gray-600 dark:text-gray-300"}):(0,t.jsx)(i.FiSun,{className:"text-xl text-gray-600 dark:text-gray-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:w("dark_mode")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w("toggle_dark_theme")})]})]}),(0,t.jsx)("button",{onClick:k,className:`relative w-12 h-6 rounded-full transition-colors ${"dark"===v?"bg-blue-600":"bg-gray-300"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${"dark"===v?"translate-x-6":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.FiGlobe,{className:"text-xl text-gray-600 dark:text-gray-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:w("language")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w("choose_language")})]})]}),(0,t.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 text-sm",children:[(0,t.jsx)("option",{value:"en",children:"English"}),(0,t.jsx)("option",{value:"bn",children:"à¦¬à¦¾à¦‚à¦²à¦¾"}),(0,t.jsx)("option",{value:"hi",children:"Hindi"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i.FiVolume2,{className:"text-xl text-gray-600 dark:text-gray-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:w("notification_sound")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w("enable_sound_alerts")})]})]}),(0,t.jsx)("button",{className:"w-12 h-6 rounded-full bg-blue-600 relative",children:(0,t.jsx)("span",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:w("auto_refresh")}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:w("auto_refresh_desc")})]}),(0,t.jsx)("button",{className:"w-12 h-6 rounded-full bg-blue-600 relative",children:(0,t.jsx)("span",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full"})})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2",children:w("data_preferences")}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:w("save_search_history")})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:w("enable_analytics")})]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"relative",ref:O,children:[(0,t.jsx)("button",{onClick:()=>$(!I),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(i.FiCalendar,{className:"text-xl text-gray-600 dark:text-gray-300"})}),I&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:w("calendar")}),(0,t.jsx)("button",{onClick:()=>$(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,t.jsx)(i.FiX,{className:"text-gray-600 dark:text-gray-300"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("button",{onClick:()=>P(new Date(z.getFullYear(),z.getMonth()-1,1)),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,t.jsx)(i.FiChevronLeft,{className:"text-gray-600 dark:text-gray-300"})}),(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:z.toLocaleDateString("bn"===j?"bn-BD":"hi"===j?"hi-IN":"en-US",{month:"long",year:"numeric"})}),(0,t.jsx)("button",{onClick:()=>P(new Date(z.getFullYear(),z.getMonth()+1,1)),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,t.jsx)(i.FiChevronRight,{className:"text-gray-600 dark:text-gray-300"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((e,r)=>(0,t.jsx)("div",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 text-center py-1",children:e},r))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{let e=z.getFullYear(),r=z.getMonth(),a=new Date(e,r,1).getDay(),s=new Date(e,r+1,0).getDate(),l=new Date,i=[];for(let e=0;e<a;e++)i.push((0,t.jsx)("div",{className:"h-8"},`empty-${e}`));for(let a=1;a<=s;a++){let s=new Date(e,r,a),d=s.toDateString()===l.toDateString(),n=s.getMonth()===r;i.push((0,t.jsx)("button",{className:`h-8 w-8 rounded text-xs font-medium transition-colors ${d?"bg-blue-600 text-white dark:bg-blue-500":n?"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":"text-gray-400 dark:text-gray-600"}`,children:a},a))}return i})()}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsx)("button",{onClick:()=>{P(new Date),f(w("calendar_today"),"info")},className:"w-full px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:w("today")})}),(0,t.jsx)("div",{className:"mt-3 text-center",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[w("today"),": ",new Date().toLocaleDateString("bn"===j?"bn-BD":"hi"===j?"hi-IN":"en-US",{weekday:"short",month:"short",day:"numeric"})]})})]})]})]}),(0,t.jsxs)("button",{onClick:()=>f(`${w("flagged_items")||"Flagged items"}: ${R}/${_}`,"info"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-1",children:[(0,t.jsx)(i.FiFlag,{className:"text-xl text-gray-600 dark:text-gray-300"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[R,"/",_]})]}),(0,t.jsxs)("div",{className:"relative",ref:B,children:[(0,t.jsxs)("button",{onClick:()=>F(!S),className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-indigo-500 flex items-center justify-center text-white text-xs font-bold",children:(y=b?.name||"Admin",y?.split(" ")?.map(e=>e[0])?.join("")?.toUpperCase()?.slice(0,2)||"A")}),(0,t.jsxs)("div",{className:"text-left hidden md:block",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:b?.name||"Admin User"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Super admin"})]}),(0,t.jsx)(i.FiChevronDown,{className:`text-gray-600 dark:text-gray-300 hidden md:block transition-transform ${S?"rotate-180":""}`})]}),S&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50",children:[(0,t.jsx)("button",{onClick:()=>{(F(!1),b?.role==="admin")?f("Admin profile settings are available in the dashboard","info"):b?.role==="patient"?C.push("/profile"):b?.role==="doctor"?C.push("/doctor/profile"):C.push("/dashboard")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Profile Settings"}),(0,t.jsx)("button",{onClick:()=>{(F(!1),b?.role==="admin")?f("Account settings are available in the dashboard","info"):f("Settings page coming soon","info")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Account Settings"}),(0,t.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),(0,t.jsx)("button",{onClick:()=>{F(!1),window.confirm("Are you sure you want to logout?")&&(f("Logging out...","info",1e3),setTimeout(()=>{p()},500))},className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Logout"})]})]})]})]})})}],78964)},11576,e=>{"use strict";var t=e.i(52972),r=e.i(66315),a=e.i(55236),s=e.i(72648),l=e.i(42388),i=e.i(15220),d=e.i(78964),n=e.i(51744),o=e.i(81273),c=e.i(16639),g=e.i(17336),x=e.i(90503);function m(){let{user:e,loading:m,logout:u}=(0,a.useAuth)(),{showNotification:h}=(0,s.useNotification)(),y=(0,l.useRouter)(),[b,p]=(0,r.useState)([]),[f,v]=(0,r.useState)([]),[k,j]=(0,r.useState)(!0),[N,w]=(0,r.useState)(""),[C,A]=(0,r.useState)("all"),[D,S]=(0,r.useState)(null),[F,U]=(0,r.useState)(!1),[T,L]=(0,r.useState)(!1),[M,I]=(0,r.useState)(!1),[$,E]=(0,r.useState)({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""});(0,r.useEffect)(()=>{m||e?e&&"admin"!==e.role?"patient"===e.role?y.push("/patient/dashboard"):"doctor"===e.role?y.push("/doctor/dashboard"):y.push("/dashboard"):e&&"admin"===e.role&&_():y.push("/login")},[e,m,y]),(0,r.useEffect)(()=>{R()},[b,C,N]);let _=async()=>{try{j(!0);let e=await o.default.get("/admin/ads?limit=1000");p(e.data.ads||[]),v(e.data.ads||[])}catch(e){console.error("Error fetching ads:",e),h("Failed to fetch advertisements","error")}finally{j(!1)}},R=()=>{let e=[...b];if("active"===C?e=e.filter(e=>!0===e.isActive):"inactive"===C&&(e=e.filter(e=>!1===e.isActive)),N.trim()){let t=N.toLowerCase();e=e.filter(e=>e.title?.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t))}v(e)},z=async()=>{try{await o.default.post("/ads",$),h("Advertisement created successfully","success"),L(!1),E({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""}),_()}catch(e){h(e.response?.data?.message||"Failed to create advertisement","error")}},P=async()=>{try{await o.default.put(`/ads/${D.id}`,$),h("Advertisement updated successfully","success"),U(!1),I(!1),S(null),_()}catch(e){h(e.response?.data?.message||"Failed to update advertisement","error")}},B=async e=>{if(confirm("Are you sure you want to delete this advertisement?"))try{await o.default.delete(`/ads/${e}`),h("Advertisement deleted successfully","success"),_()}catch(e){h(e.response?.data?.message||"Failed to delete advertisement","error")}};return m||k?(0,t.jsx)(n.default,{}):e&&"admin"===e.role?(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("main",{className:"ml-64 flex-1 transition-all duration-300",children:[(0,t.jsx)(d.default,{title:"Advertisements Management",searchPlaceholder:"Search advertisements by title or description...",onSearch:e=>w(e),actionButton:{label:"Create Ad",onClick:()=>{E({title:"",description:"",imageUrl:"",link:"",targetAudience:"all",isActive:!0,startDate:"",endDate:""}),I(!1),S(null),L(!0)},icon:(0,t.jsx)(x.FiPlus,{className:"text-lg"})}}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-6 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>A("all"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"all"===C?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["All (",b.length,")"]}),(0,t.jsxs)("button",{onClick:()=>A("active"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"active"===C?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["Active (",b.filter(e=>e.isActive).length,")"]}),(0,t.jsxs)("button",{onClick:()=>A("inactive"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${"inactive"===C?"border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100"}`,children:["Inactive (",b.filter(e=>!e.isActive).length,")"]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===f.length?(0,t.jsx)("div",{className:"col-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center border border-gray-200 dark:border-gray-700 transition-colors",children:(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No advertisements found"})}):f.map(e=>(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all",children:[e.imageUrl&&(0,t.jsx)("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 overflow-hidden",children:(0,t.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex-1",children:e.title}),(0,t.jsx)("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold ${e.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:e.isActive?"Active":"Inactive"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:[(0,t.jsxs)("span",{children:["Target: ",e.targetAudience||"all"]}),(0,t.jsxs)("span",{children:["Clicks: ",e.clickCount||0]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{S(e),E({title:e.title||"",description:e.description||"",imageUrl:e.imageUrl||"",link:e.link||"",targetAudience:e.targetAudience||"all",isActive:void 0===e.isActive||e.isActive,startDate:e.startDate?(0,c.format)((0,g.parseISO)(e.startDate),"yyyy-MM-dd"):"",endDate:e.endDate?(0,c.format)((0,g.parseISO)(e.endDate),"yyyy-MM-dd"):""}),I(!0),U(!0)},className:"flex-1 px-3 py-2 text-sm bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>B(e.id),className:"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:(0,t.jsx)(x.FiTrash2,{})})]})]})]},e.id))}),(T||F)&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>{e.target===e.currentTarget&&(U(!1),L(!1),I(!1),S(null))},children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-teal-50 to-indigo-50 dark:from-gray-800 dark:to-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:M?"Edit Advertisement":"Create Advertisement"}),(0,t.jsx)("button",{onClick:()=>{U(!1),L(!1),I(!1),S(null)},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(x.FiX,{className:"text-xl text-gray-600 dark:text-gray-300"})})]})}),(0,t.jsx)("div",{className:"overflow-y-auto flex-1 p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:$.title,onChange:e=>E({...$,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"Enter advertisement title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:$.description,onChange:e=>E({...$,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",rows:3,placeholder:"Enter advertisement description"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),(0,t.jsx)("input",{type:"url",value:$.imageUrl,onChange:e=>E({...$,imageUrl:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Link URL"}),(0,t.jsx)("input",{type:"url",value:$.link,onChange:e=>E({...$,link:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Audience"}),(0,t.jsxs)("select",{value:$.targetAudience,onChange:e=>E({...$,targetAudience:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All"}),(0,t.jsx)("option",{value:"patient",children:"Patients"}),(0,t.jsx)("option",{value:"doctor",children:"Doctors"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,t.jsxs)("select",{value:$.isActive?"true":"false",onChange:e=>E({...$,isActive:"true"===e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors",children:[(0,t.jsx)("option",{value:"true",children:"Active"}),(0,t.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:$.startDate,onChange:e=>E({...$,startDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:$.endDate,onChange:e=>E({...$,endDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-teal-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors"})]})]})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-4 transition-colors",children:[(0,t.jsx)("button",{onClick:()=>{U(!1),L(!1),I(!1),S(null)},className:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 font-medium text-gray-700 dark:text-gray-300 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{M?P():z()},disabled:!$.title.trim(),className:`flex-1 px-4 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium transition-colors ${!$.title.trim()?"opacity-50 cursor-not-allowed":""}`,children:M?"Update":"Create"})]})]})})]})]})]}):null}e.s(["default",()=>m])}]);